#include"includes/meteorite.bgt"
#include"includes/weapons.bgt"
#include"includes/move.bgt"
#include"includes/play.bgt"
#include"includes/useitem.bgt"
#include"includes/combine.bgt"
#include"includes/use.bgt"
#include"includes/voicechat.bgt"
#include"includes/player_events.bgt"
#include"includes/commands.bgt"
#include"includes/vvehicle.bgt"
#include"includes/mmotor.bgt"
#include"includes/arena.bgt"
#include"includes/espionage_camera.bgt"
#include"includes/robot.bgt"
#include"includes/locker.bgt"
#include"includes/fridge.bgt"
#include"includes/house.bgt"
#include"includes/beehive.bgt"
#include"includes/playerstore.bgt"
#include"includes/network.bgt"
#include"includes/rpg.bgt"
#include"includes/rocket.bgt"
#include"includes/item_carier.bgt"
#include"includes/ai.bgt"
#include"includes/compjail.bgt"
#include"includes/toilet.bgt"
#include"includes/trashcan.bgt"
#include"includes/bed.bgt"
#include"includes/clock.bgt"
#include"includes/calendar.bgt"
#include"includes/oven.bgt"
#include"includes/washbasin.bgt"
#include"includes/firemap.bgt"
#include"includes/shower.bgt"
#include"includes/ban.bgt"
#include"includes/help.bgt"
#include"includes/restart_nvda.bgt"
#include"includes/vehicle.bgt"
#include"includes/motor.bgt"
#include"includes/canister.bgt"
#include"includes/hip.bgt"
#include"includes/snare.bgt"
#include"includes/bomb.bgt"
#include"includes/store.bgt"
#include"includes/paid_store.bgt"
#include"includes/team_store.bgt"
#include"includes/team.bgt"
#include"includes/event.bgt"
#include"includes/auto_healer.bgt"
#include"includes/candle.bgt"
#include"includes/microwave.bgt"
#include"includes/air_conditioner.bgt"
#include"includes/steam.bgt"
#include"includes/fan.bgt"
#include"includes/fire.bgt"
#include"includes/fire_starter.bgt"
#include"includes/mine.bgt"
#include"includes/grenade.bgt"
#include"includes/weapon.bgt"
#include"includes/temporary_ban.bgt"
//#include"includes/paid.bgt"
#include"includes/turret.bgt"
#include"includes/moving_sound_serverside_handler.bgt"
#include"includes/timeitem.bgt"
#include"includes/vending_machine.bgt"
#include"includes/corpses.bgt"
#include"includes/mserver.bgt"
#include"includes/f_functions.bgt"
#include"includes/compid_handler.bgt"
#include"includes/compban.bgt"
#include"includes/timepacket.bgt"
#include"includes/readable_time.bgt"
#include"includes/bodyfall.bgt"
#include"includes/char_data.bgt"
#include"includes/char_spam.bgt"
#include"includes/map_spam.bgt"
#include"includes/dateandtime.bgt"
#include"includes/extrafunctions.bgt"
#include"includes/logger.bgt"
#include"includes/map.bgt"
#include"includes/object.bgt"
#include"includes/player.bgt"
#include"includes/rotation.bgt"
#include"includes/sd.bgt"
#include"includes/sizer.bgt"
#include"includes/speech.bgt"
int gamewindow=1;
int runbyadmin;
int doublexp, superxp, megaxp, gigaxp, masterxp;
int currentlyonline;
int writeprefs=1;
int chatting=1;
int guessthenumber_active=0, guessthenumber_minutes=5;
int szx=7;
int szy=6;
int szminx=0;
int szmaxx=12;
int szy2=0;
string szmap="safe_zone";
int objtime=3000, maxobjs=500;
int cid=-1;
int filterstuff=1;
double servermoney;
instance dlserverinstance ("dlserver.exe");
int auctiontime=30000;
int numerochuva;
int volumechuva;
int volumechuva1=0;int volumechuva2=0;
int volumechuva3=0;
int volumechuva4=0;
int volumechuva5=0;
int volumechuva6=0;
int volumechuva7=0;
int volumechuva8=0;
int volumechuva9=0;
int volumechuva10=0;
int chuvatempo=24715630;
int chovendo=0;
int trov1=0;
int trov2=0;
int trov3=0;
int trov4=0;
int trov5=0;
int trov6=0;
int trov7=0;
int trov8=0;
int trov9=0;
int trov10=0;
int numerowind;
int volumewind;
int volumewind1=0;int volumewind2=0;
int volumewind3=0;
int volumewind4=0;
int volumewind5=0;
int volumewind6=0;
int volumewind7=0;
int volumewind8=0;
int volumewind9=0;
int volumewind10=0;
int wtrov1=0;
int wtrov2=0;
int wtrov3=0;
int wtrov4=0;
int wtrov5=0;
int wtrov6=0;
int wtrov7=0;
int wtrov8=0;
int wtrov9=0;
int wtrov10=0;
int windtempo=9000000;
int windendo=0;
int numeronight;
int volumenight;
int volumenight1=0;int volumenight2=0;
int volumenight3=0;
int volumenight4=0;
int volumenight5=0;
int volumenight6=0;
int volumenight7=0;
int volumenight8=0;
int volumenight9=0;
int volumenight10=0;
int nighttempo=1000;
int nightendo=0;
int npresentes=random(50000, 100000);
int connections=0;
int disconnections=0;
int objgrabs=0;
int objspawns=0;
int objspawntime=5000;
int port;
int activations=0;
int peak;
int missiletime=4000, missilemax=5;
double voteyes=0;
double voteno=0;
double auctionamount, auctionbid;
double leaveafk1=10;
double minverchangelog=0.46;
double minverlanguage=0.21;
double minverkeyboardlanguage=0.12;
double minverlibraries=0.1;
double minverrules=0.13;
double minverreadme=0.18;
string[] store_items;
double[] amounts;
string[] paid_store_items;
double[] paid_amounts;
string[] team_store_items;
double[] team_amounts;
string[] titems;
double[] tamounts;
string adminnote;
string ailist="";
string itemlist="";
string acode="îòñîñè ó ïàöàíîâ, ïîäàðè èì áåëûõ ñíîâ!!!";
string adminlog;
string arabicmessage="", free_channelmessage="", englishmessage="", germanmessage="", indonesianmessage="", malaymessage="", persianmessage="", polishmessage="", portuguesemessage="", russianmessage="", slovakmessage="", spanishmessage="", thaimessage="", turkishmessage="";
string version="1.0";
string tflag;
string auctionwho, auctionwho2, auctionitem, auctioncurrency;
string guessthenumber_winner;
string peakreached;
string[] msgadm;
string[] guns={"a90sniper_rifle","ak47assault_rifle","ak48","arrow_gun","bow","colt_m9","colt_m19","e9pistol","e20shotgun","e235shotgun","mpt_special_shotgun","mb3shotgun","mb5shotgun","mp5machinegun","famas_g2","k222rifle","long_bow","p3hunting_shotgun","taser","tiny_mg","rocket_launcher","ar15machinegun","barett_m1500sniper_rifle","blz5machinegun","browning_m2heavy_machinegun","chainsaw","crossbow","fn2000pistol","fnm_pistol","g36pistol","gouse_pistol","hk_machinegun","lr12pistol","m9pistol","m10machinegun","m16machinegun","m125assault_rifle","m152minigun","m155minigun","m560sniper_rifle","mg4machinegun","mj420machinegun","mk_long_machinegun","mk52assault_rifle","mk215machinegun","mkv43machinegun","ml7rifle","ml15rifle","mlk290rifle","mlr_assault_rifle","mp12machinegun","msb530shotgun","pcs_handgun","rpg_launcher","rpg7","rocket_launcher","nak_nk1000_decimater","ruga22revolver","s55assault_rifle","s110assault_rifle","sp5shotgun","sp150shotgun","stp106_long_barreled_pistol","str301machinegun","m90machinegun","qt_machinegun","pst500shotgun","sfx12machinegun","mb93machinegun","stp15rifle","sp3heavy_machinegun","ak9automatic_machinegun","tsp_grenade_launcher","m234minigun","missile_launcher","m28mini_machinegun","b96machinegun","kalashnikov_rifle","ump45machinegun","tac50rifle","uzi_machinegun","d23machete","blue_assault_rifle","blue_bolt_action_sniper","blue_burst_assault_rifle","blue_heavy_assault_rifle","blue_hunting_rifle","blue_infintry_rifle","blue_tacticle_shotgun","drum_shotgun","gold_burst_assault_rifle","gold_drum_gun","gold_heavy_assault_rifle","gold_scar","gold_tacticle_shotgun","heavy_sniper","tranquilizer_gun"};
string[] killmsgs;
string[] killmsgs2;
string[] killmsgs3;
string[] language_channels;
string[] countrys;
string[] ages;
string[] days;
string[] monthnames;
string[] months;
string[] years;
string[] tlps;
string[] ainames;
bool fireon;
bool dardoativo=true;
bool fitaativa=true;
bool varinhaativa=true;
bool sugadorativo=true;
bool notify=true;
bool netsetup;
bool gamestopped=false;
bool spawnobj=true;
bool auction;
bool auctionbidder;
bool svrmon=true;
double file_size_limit_kb=2000;
int can_upload_files=1;
timer divulgar, chuvatimer, windtimer, nighttimer, objectspawntimer, versiontimer, uptimer, accumulated_uptimer, timetimer, savetimer, tpresente, tpresentes, thingsavetimer, auctiontimer, announcertimer, leaveafktimer, tdemorar, meteoritespawntimer;
network n;
network_event e;
savedata sd("serverdata.dat","server_data");
const string prefskey="b.tch.fuck";
file f;
dictionary d, d2;
http httpn;
mapispawn@[] mapispawns;
mapai@[] mapais;
void main()
{
//if(SCRIPT_COMPILED==false) port=45532;
port=1601;
if(file_exists("file.dll")==false)
{
alert("error","There are missing files. Please paste file.dll into the server");
exit();
}
if(dlserverinstance.is_already_running)
{
exit();
}
filelib.load("file.dll");
httpn.user_agent="dlsvr"+version;
loaddata();
if(file_exists("maps/.map"))
file_delete("maps/.map");
if(file_exists("lockers/.locker"))
file_delete("lockers/.locker");
if(file_exists("fridges/.fridge"))
file_delete("fridges/.fridge");
if(file_exists("beehives/.beehive"))
file_delete("beehives/.beehive");
if(file_exists("houses/.house"))
file_delete("houses/.house");
if(file_exists("vehicles/.vehicle"))
file_delete("vehicles/.vehicle");
if(file_exists("microwaves/.microwave"))
file_delete("microwaves/.microwave");
if(file_exists("air_conditioners/.air_conditioner"))
file_delete("air_conditioners/.air_conditioner");
if(file_exists("steams/.steam"))
file_delete("steams/.steam");
if(file_exists("fans/.fan"))
file_delete("fans/.fan");
if(file_exists("playerstores/.playerstore"))
file_delete("playerstores/.playerstore");
if(file_exists("jaildata.dat"))
{
f.open("jaildata.dat","rb");
string jaildata=f.read();
f.close();
jaildata=string_decrypt(jaildata,"ultrabitch");
compjails=deserialize(jaildata);
}
if(file_exists("jaildata2.dat"))
{
f.open("jaildata2.dat","rb");
string jaildata=f.read();
f.close();
jaildata=string_decrypt(jaildata,"ultrabitch");
ipjails=deserialize(jaildata);
}
f.open("adminnotes.svr","rb");
adminnote=f.read();
f.close();
if(file_exists("compbans.svr"))
{
f.open("compbans.svr","rb");
string bandata=f.read();
f.close();
bandata=string_decrypt(bandata,"ultrafuckyou");
compbans=deserialize(bandata);
}
if(file_exists("ipbans.svr"))
{
f.open("ipbans.svr","rb");
string bandata=f.read();
f.close();
ipbans=deserialize(bandata);
}
if(file_exists("temporary_bans.svr")) load_all_temporary_bans();
//if(file_exists("paid_accounts.svr")) load_all_paid_accounts();
//if(file_exists("paid_rocket_launchers.svr")) load_all_paid_rocket_launchers();
//if(file_exists("paid_nak_nk1000_decimaters.svr")) load_all_paid_nak_nk1000_decimaters();
load_compids();
load_ais();
load_corpses();
load_all_teams();
string[] stuff=find_files("lockers/*.locker");
if(stuff.length>0)
for(uint i=0; i<stuff.length(); i++)
{
load_locker(string_replace(stuff[i],".locker","",false));
}
string[] fstuff=find_files("fridges/*.fridge");
if(fstuff.length>0)
for(uint i=0; i<fstuff.length(); i++)
{
load_fridge(string_replace(fstuff[i],".fridge","",false));
}
string[] air_conditionerstuff=find_files("air_conditioners/*.air_conditioner");
if(air_conditionerstuff.length>0)
for(uint i=0; i<air_conditionerstuff.length(); i++)
{
load_air_conditioner(string_replace(air_conditionerstuff[i],".air_conditioner","",false));
}
string[] steamstuff=find_files("steams/*.steam");
if(steamstuff.length>0)
for(uint i=0; i<steamstuff.length(); i++)
{
load_steam(string_replace(steamstuff[i],".steam","",false));
}
string[] fanstuff=find_files("fans/*.fan");
if(fanstuff.length>0)
for(uint i=0; i<fanstuff.length(); i++)
{
load_fan(string_replace(fanstuff[i],".fan","",false));
}
load_all_houses();
load_all_vehicles();
load_all_microwaves();
load_all_beehives();
load_all_playerstores();
setupserver();
start_profiling();
if(gamewindow==1)
{
show_game_window("TWG Server Version "+version);
}
else if(gamewindow==0)
{
hide_game_window();
}
netsetup=n.setup_server(port, 20, 500);
if(netsetup==false)
file_put_contents("Errors.log","error in starting server. "+get_last_error()+"\r\n",255);
init_mapsystem();
log("svr","server started.");
while(true)
{
wait(5);
for(uint i=0;i<4;i++) {netloop();}
if(maps.length()>0)
{
for(uint i=0; i<maps.length(); i++)
{
maps[i].loop();
}
}
if(players.length()>0)
{
for(uint i=0; i<players.length(); i++)
{
players[i].loop(i);
}
}
if(weapons.length()>0)
{
for(uint i=0; i<weapons.length(); i++)
{
weaponloop(i);
}
}
if(ais.length()>0)
{
for(uint i=0; i<ais.length(); i++)
{
ais[i].loop(i);
}
}
if(houses.length()>0)
{
for(uint i=0; i<houses.length(); i++)
{
houses[i].loop(i);
}
}
if(beehives.length()>0)
{
for(uint i=0; i<beehives.length(); i++)
{
beehives[i].loop(i);
}
}
if(playerstores.length()>0)
{
for(uint i=0; i<playerstores.length(); i++)
{
playerstores[i].loop(i);
}
}
if(robots.length()>0)
{
for(uint i=0; i<robots.length(); i++)
{
robots[i].loop(i);
}
}
if(washbasins.length()>0)
{
for(uint i=0; i<washbasins.length(); i++)
{
washbasins[i].loop();
}
}
if(showers.length()>0)
{
for(uint i=0; i<showers.length(); i++)
{
showers[i].loop();
}
}
if(item_cariers.length()>0)
{
for(uint i=0; i<item_cariers.length(); i++)
{
item_cariers[i].loop(i);
}
}
if(temporary_bans.length()>0)
{
for(uint i=0; i<temporary_bans.length(); i++)
{
temporary_bans[i].loop(i);
}
}
//if(paid_accounts.length()>0) paid_accountloop();
//if(paid_rocket_launchers.length()>0) paid_rocket_launcherloop();
//if(paid_nak_nk1000_decimaters.length()>0) paid_nak_nk1000_decimaterloop();
if(firemaps.length()>0)
{
for(uint i=0; i<firemaps.length(); i++)
{
firemaps[i].loop(i);
}
}
if(timeitems.length()>0)
{
for(uint i=0; i<timeitems.length(); i++)
{
timeitems[i].loop(i);
}
}
if(timepackets.length()>0)
{
for(uint i=0; i<timepackets.length(); i++)
{
timepackets[i].loop(i);
}
}
if(time_bombs.length()>0)
{
for(uint i=0; i<time_bombs.length(); i++)
{
time_bombs[i].loop(i);
}
}
if(mines.length()>0)
{
for(uint i=0; i<mines.length(); i++)
{
mines[i].loop(i);
}
}
if(nuclear_bombs.length()>0)
{
for(uint i=0; i<nuclear_bombs.length(); i++)
{
nuclear_bombs[i].loop(i);
}
}
if(small_nuclear_bombs.length()>0)
{
for(uint i=0; i<small_nuclear_bombs.length(); i++)
{
small_nuclear_bombs[i].loop(i);
}
}
if(large_nuclear_bombs.length()>0)
{
for(uint i=0; i<large_nuclear_bombs.length(); i++)
{
large_nuclear_bombs[i].loop(i);
}
}
if(vending_machines.length()>0)
{
for(uint i=0; i<vending_machines.length(); i++)
{
vending_machines[i].loop();
}
}
if(bodyfalls.length()>0)
{
for(uint i=0; i<bodyfalls.length(); i++)
{
bodyfalls[i].loop(i);
}
}
if(censor_bombs.length()>0)
{
for(uint i=0; i<censor_bombs.length(); i++)
{
censor_bombs[i].loop(i);
}
}
if(snares.length()>0)
{
for(uint i=0; i<snares.length(); i++)
{
snares[i].loop(i);
}
}
if(canisters.length()>0)
{
for(uint i=0; i<canisters.length(); i++)
{
canisters[i].loop(i);
}
}
if(rpgs.length()>0)
{
for(uint i=0; i<rpgs.length(); i++)
{
rpgs[i].loop(i);
}
}
if(rockets.length()>0)
{
for(uint i=0; i<rockets.length(); i++)
{
rockets[i].loop(i);
}
}
if(turrets.length()>0)
{
for(uint i=0; i<turrets.length(); i++)
{
turrets[i].loop(i);
}
}
if(meteorites.length()>0)
{
for(uint i=0; i<meteorites.length(); i++)
{
meteorites[i].loop(i);
}
}
if(auto_healers.length()>0)
{
for(uint i=0; i<auto_healers.length(); i++)
{
auto_healers[i].loop(i);
}
}
if(candles.length()>0)
{
for(uint i=0; i<candles.length(); i++)
{
candles[i].loop(i);
}
}
if(microwaves.length()>0)
{
for(uint i=0; i<microwaves.length(); i++)
{
microwaves[i].loop(i);
}
}
if(air_conditioners.length()>0)
{
for(uint i=0; i<air_conditioners.length(); i++)
{
air_conditioners[i].loop(i);
}
}
if(steams.length()>0)
{
for(uint i=0; i<steams.length(); i++)
{
steams[i].loop(i);
}
}
if(fans.length()>0)
{
for(uint i=0; i<fans.length(); i++)
{
fans[i].loop(i);
}
}
if(teams.length()>0)
{
for(uint i=0; i<teams.length(); i++)
{
teams[i].loop(i);
}
}
if(lockers.length()>0)
{
for(uint i=0; i<lockers.length(); i++)
{
lockers[i].loop(i);
}
}
if(fridges.length()>0)
{
for(uint i=0; i<fridges.length(); i++)
{
fridges[i].loop(i);
}
}
if(events.length()>0)
{
for(uint i=0; i<events.length(); i++)
{
events[i].loop(i);
}
}
if(fires.length()>0)
{
for(uint i=0; i<fires.length(); i++)
{
fires[i].loop(i);
}
}
if(fire_starters.length()>0)
{
for(uint i=0; i<fire_starters.length(); i++)
{
fire_starters[i].loop(i);
}
}
if(grenades.length()>0)
{
for(uint i=0; i<grenades.length(); i++)
{
grenades[i].loop(i);
}
}
if(arenas.length()>0)
{
for(uint i=0; i<arenas.length(); i++)
{
arenas[i].loop(i);
}
}
if(vs.length()>0)
{
for(uint i=0; i<vs.length(); i++)
{
vs[i].loop(i);
}
}
if(mos.length()>0)
{
for(uint i=0; i<mos.length(); i++)
{
mos[i].loop(i);
}
}
if(vvehicles.length()>0)
{
for(uint i=0; i<vvehicles.length(); i++)
{
vvehicles[i].loop(i);
}
}
if(mmotors.length()>0)
{
for(uint i=0; i<mmotors.length(); i++)
{
mmotors[i].loop(i);
}
}
if(savetimer.elapsed>=60000 and writeprefs==1)
{
savetimer.restart();
for(uint i=0; i<players.length(); i++)
{
scd(players[i]);
}
for(uint i=0; i<teams.length(); i++)
{
teams[i].team_save();
}
for(uint i=0; i<houses.length(); i++)
{
houses[i].house_save();
}
for(uint i=0; i<vvehicles.length(); i++)
{
vvehicles[i].vehicle_save();
}
for(uint i=0; i<mmotors.length(); i++)
{
mmotors[i].motor_save();
}
for(uint i=0; i<microwaves.length(); i++)
{
microwaves[i].microwave_save();
}
for(uint i=0; i<beehives.length(); i++)
{
beehives[i].beehive_save();
}
for(uint i=0; i<playerstores.length(); i++)
{
playerstores[i].playerstore_save();
}
savelockers();
savefridges();
save_temporary_bans();
saveair_conditioners();
savesteams();
savefans();
save_corpses();
//save_paid_accounts();
//save_paid_rocket_launchers();
//save_paid_nak_nk1000_decimaters();
writedata();
}
if(key_pressed(KEY_H))
hide_game_window();
if(key_pressed(KEY_ESCAPE))
{
exitsvr();
}
}
}
void loaddata()
{
sd.load();
if(sd.d.exists("file_size_limit_kb"))
file_size_limit_kb=sd.readn("file_size_limit_kb");
if(sd.d.exists("can_upload_files"))
can_upload_files=sd.readn("can_upload_files");
if(sd.d.exists("gamewindow"))
gamewindow=sd.readn("gamewindow");
if(sd.d.exists("runbyadmin"))
runbyadmin=sd.readn("runbyadmin");
if(sd.d.exists("doublexp"))
doublexp=sd.readn("doublexp");
if(sd.d.exists("superxp"))
superxp=sd.readn("superxp");
if(sd.d.exists("megaxp"))
megaxp=sd.readn("megaxp");
if(sd.d.exists("gigaxp"))
gigaxp=sd.readn("gigaxp");
if(sd.d.exists("masterxp"))
masterxp=sd.readn("masterxp");
if(sd.d.exists("peak"))
peak=sd.readn("peak");
if(sd.d.exists("chatting"))
chatting=sd.readn("chatting");
if(sd.d.exists("activations"))
activations=sd.readn("activations");
if(sd.d.exists("peakreached"))
peakreached=sd.read("peakreached");
if(sd.d.exists("arabicmessage"))
arabicmessage=sd.read("arabicmessage");
if(sd.d.exists("free_channelmessage"))
free_channelmessage=sd.read("free_channelmessage");
if(sd.d.exists("englishmessage"))
englishmessage=sd.read("englishmessage");
if(sd.d.exists("germanmessage"))
germanmessage=sd.read("germanmessage");
if(sd.d.exists("indonesianmessage"))
indonesianmessage=sd.read("indonesianmessage");
if(sd.d.exists("malaymessage"))
malaymessage=sd.read("malaymessage");
if(sd.d.exists("persianmessage"))
persianmessage=sd.read("persianmessage");
if(sd.d.exists("polishmessage"))
polishmessage=sd.read("polishmessage");
if(sd.d.exists("portuguesemessage"))
portuguesemessage=sd.read("portuguesemessage");
if(sd.d.exists("russianmessage"))
russianmessage=sd.read("russianmessage");
if(sd.d.exists("slovakmessage"))
slovakmessage=sd.read("slovakmessage");
if(sd.d.exists("spanishmessage"))
spanishmessage=sd.read("spanishmessage");
if(sd.d.exists("thaimessage"))
thaimessage=sd.read("thaimessage");
if(sd.d.exists("turkishmessage"))
turkishmessage=sd.read("turkishmessage");
if(sd.d.exists("servermoney"))
servermoney=sd.readn("servermoney");
if(sd.d.exists("voteyes"))
voteyes=sd.readn("voteyes");
if(sd.d.exists("voteno"))
voteno=sd.readn("voteno");
if(sd.d.exists("accumulated_uptimer"))
accumulated_uptimer.force(sd.readn("accumulated_uptimer"));
if(sd.d.exists("meteoritespawntimer"))
meteoritespawntimer.force(sd.readn("meteoritespawntimer"));
if(sd.d.exists("auctiontimer"))
auctiontimer.force(sd.readn("auctiontimer"));
if(sd.d.exists("auctiontime"))
auctiontime=sd.readn("auctiontime");
if(sd.d.exists("auctionamount"))
auctionamount=sd.readn("auctionamount");
if(sd.d.exists("auctionbid"))
auctionbid=sd.readn("auctionbid");
if(sd.d.exists("auctionwho"))
auctionwho=sd.read("auctionwho");
if(sd.d.exists("auctionwho2"))
auctionwho2=sd.read("auctionwho2");
if(sd.d.exists("auctionitem"))
auctionitem=sd.read("auctionitem");
if(sd.d.exists("auctioncurrency"))
auctioncurrency=sd.read("auctioncurrency");
if(sd.d.exists("missiletime"))
missiletime=sd.readn("missiletime");
if(sd.d.exists("missilemax"))
missilemax=sd.readn("missilemax");
}
void writedata(string fv="", int fvv=-55555)
{
sd.add("activations",activations);
sd.add("file_size_limit_kb",file_size_limit_kb);
sd.add("can_upload_files",can_upload_files);
sd.add("gamewindow",gamewindow);
sd.add("runbyadmin",runbyadmin);
sd.add("doublexp",doublexp);
sd.add("superxp",superxp);
sd.add("megaxp",megaxp);
sd.add("gigaxp",gigaxp);
sd.add("masterxp",masterxp);
sd.add("accumulated_uptimer",accumulated_uptimer.elapsed);
sd.add("meteoritespawntimer",meteoritespawntimer.elapsed);
sd.add("auctiontimer",auctiontimer.elapsed);
sd.add("auctiontime",auctiontime);
sd.add("auctionamount",auctionamount);
sd.add("auctionbid",auctionbid);
sd.add("auctionwho",auctionwho);
sd.add("auctionwho2",auctionwho2);
sd.add("auctionitem",auctionitem);
sd.add("auctioncurrency",auctioncurrency);
sd.add("peak",peak);
sd.add("peakreached",peakreached);
sd.add("voteyes",voteyes);
sd.add("voteno",voteno);
sd.add("arabicmessage",arabicmessage);
sd.add("free_channelmessage",free_channelmessage);
sd.add("englishmessage",englishmessage);
sd.add("germanmessage",germanmessage);
sd.add("indonesianmessage",indonesianmessage);
sd.add("malaymessage",malaymessage);
sd.add("persianmessage",persianmessage);
sd.add("polishmessage",polishmessage);
sd.add("portuguesemessage",portuguesemessage);
sd.add("russianmessage",russianmessage);
sd.add("slovakmessage",slovakmessage);
sd.add("spanishmessage",spanishmessage);
sd.add("thaimessage",thaimessage);
sd.add("turkishmessage",turkishmessage);
sd.add("servermoney",servermoney);
sd.add("chatting",chatting);
sd.add("missiletime",missiletime);
sd.add("missilemax",missilemax);
if(fv!="" and fvv!=-55555)
sd.add(fv,fvv);
file_put_contents("admin_log.svr",adminlog,250);
string bandata=serialize(compbans);
bandata=string_encrypt(bandata,"ultrafuckyou");
f.open("compbans.svr","wb");
f.write(bandata);
f.close();
bandata=serialize(ipbans);
f.open("ipbans.svr","wb");
f.write(bandata);
f.close();
bandata=serialize(compjails);
bandata=string_encrypt(bandata,"ultrabitch");
f.open("jaildata.dat","wb");
f.write(bandata);
f.close();
bandata=serialize(ipjails);
bandata=string_encrypt(bandata,"ultrabitch");
f.open("jaildata2.dat","wb");
f.write(bandata);
f.close();
sd.save();
}
void netloop()
{
e=n.request();
if(meteoritespawntimer.elapsed>=121510170)
{
meteoritespawntimer.restart();
int n=random(1,2);
if(n==1) send_reliable(0,"play_s alarms.ogg",6);
else if(n==2) send_reliable(0,"play_s alarm"+random(1,30)+".ogg",6);
string temp=select_random_map();
send_reliable(0,"A meteorite has been observed!",2);
spawn_meteorite(temp);
send_dpacket(2,"the meteorite is dealing with this place!",maps[get_map_index(temp)]);
}
if (TIME_HOUR>6 and TIME_HOUR<19 and nightendo==1 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"fimnight",0);
send_reliable(0, "volumenight -12", 0);
nightendo=0;
}
if (TIME_HOUR>=19 and TIME_HOUR<=24 and nightendo==0 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0, "volumenight -7", 0);
volumenight=-12;
numeronight=random(3, 4);
send_reliable(0,"nightativa "+numeronight,0);
nightendo=1;
volumenight1=0;
volumenight2=0;
volumenight3=0;
volumenight4=0;
volumenight5=0;
volumenight6=0;
volumenight7=0;
volumenight8=0;
volumenight9=0;
volumenight10=0;
}
if (TIME_HOUR>=1 and TIME_HOUR<=6 and nightendo==0 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0, "volumenight -7", 0);
volumenight=-12;
numeronight=random(3, 4);
send_reliable(0,"nightativa "+numeronight,0);
nightendo=1;
volumenight1=0;
volumenight2=0;
volumenight3=0;
volumenight4=0;
volumenight5=0;
volumenight6=0;
volumenight7=0;
volumenight8=0;
volumenight9=0;
volumenight10=0;
}
if (TIME_HOUR==5 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_magicbell.ogg",6);
send_reliable(0,"The sun is rising from the back of the mountain, since it is 6 o'clock in the morning",2);
if(nightendo==1)
{
send_reliable(0,"fimnight",0);
send_reliable(0, "volumenight -12", 0);
nightendo=0;
}
}
if (TIME_HOUR==6 and TIME_MINUTE==29 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notice.ogg",6);
send_reliable(0,"Food alert: Breakfast will be served in 30 minutes! find the nearest coffee shop and go there if you'd like to receive it",2);
}
if (TIME_HOUR==6 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_dingding.ogg",6);
send_reliable(0,"Food alert: Breakfast was just served in all coffee shops! It was coffee",2);
for(uint i=0; i<players.length(); i++)
{
if(get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="coffee shop" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="coffee-shop" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="coffee_shop" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="Coffee shop" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="Coffee-shop" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="Coffee_shop")
{
send_packet(6,"play getbeer_bottle.ogg "+players[i].x+" "+players[i].y+" "+players[i].z, players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)]);
players[i].inv_add_item("coffee",1);
}
}
}
if (TIME_HOUR==11 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_trumpet.ogg",6);
send_reliable(0,"The sun has reached the middle of the sky, indicating that it is noon!",2);
}
if (TIME_HOUR==12 and TIME_MINUTE==9 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notice.ogg",6);
send_reliable(0,"Food alert: Lunch will be served in 50 minutes! find the nearest restaurant and go there if you'd like to receive it",2);
}
if (TIME_HOUR==12 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_dings.ogg",6);
send_reliable(0,"Food alert: Lunch was just served in all restaurants! It was fish",2);
for(uint i=0; i<players.length(); i++)
{
if(get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="restaurant" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="restaurant")
{
send_packet(6,"play getfish.ogg "+players[i].x+" "+players[i].y+" "+players[i].z, players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)]);
players[i].inv_add_item("cooked_fish",2);
}
}
}
if (TIME_HOUR==18 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_woosh.ogg",6);
send_reliable(0,"The sun is drowning. Yes! time is 7 pm!",2);
if(nightendo==0)
{
send_reliable(0, "volumenight -7", 0);
volumenight=-12;
numeronight=random(3, 4);
send_reliable(0,"nightativa "+numeronight,0);
nightendo=1;
volumenight1=0;
volumenight2=0;
volumenight3=0;
volumenight4=0;
volumenight5=0;
volumenight6=0;
volumenight7=0;
volumenight8=0;
volumenight9=0;
volumenight10=0;
}
}
if (TIME_HOUR==19 and TIME_MINUTE==29 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notice.ogg",6);
send_reliable(0,"Food alert: Dinner will be served in 1 hours and 30 minutes! find the nearest restaurant and go there if you'd like to receive it",2);
}
if (TIME_HOUR==20 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify_dings2.ogg",6);
send_reliable(0,"Food alert: Dinner was just served in all restaurants! It was cheeseburger",2);
for(uint i=0; i<players.length(); i++)
{
if(get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="restaurant" or get_zone_at(players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)])=="restaurant")
{
send_packet(6,"play getbag.ogg "+players[i].x+" "+players[i].y+" "+players[i].z, players[i].x,players[i].y,players[i].z,maps[get_map_index(players[i].map)]);
players[i].inv_add_item("cheeseburger",1);
}
}
}
if (TIME_HOUR==23 and TIME_MINUTE==59 and timetimer.elapsed>60000)
{
timetimer.restart();
send_reliable(0,"play_s notify"+random(1,10)+".ogg",6);
send_reliable(0,"since it is midnight, a new day begins",2);
string[] chars=find_directories("chars/*");
for(uint i=0; i<chars.length(); i++)
{
f.open("chars/"+chars[i]+"/giftlimit.usr","wb");
f.write(0);
f.close();
}
}
if(players.length()>peak)
{
peak=players.length();
send_reliable(0,"peak we have reached a new peak of "+peak+" players!",0);
peakreached=get_date()+" at "+get_time();
string[] t;
t.insert_last(random(13, 19)+" 5.56mm_ammo");
t.insert_last(random(10, 15)+" 7.62mm_ammo");
t.insert_last(random(8, 14)+" 9mm_ammo");
t.insert_last(random(5, 7)+" 12.7mm_ammo");
t.insert_last(random(8, 13)+" shotgun_shell");
t.insert_last(random(3, 10)+" arrow");
t.insert_last(random(25, 100)+" coins");
t.insert_last(random(1, 10)+" firework");
t.insert_last(random(1, 10)+" firecracker");
t.insert_last(random(1, 25)+" mana");
int nitem=random(0, t.length()-1);
string[] a=string_split(t[nitem], " ", false);
int numero=string_to_number(a[0]);
string nome=a[1];
send_reliable(0, "play_s notify_applause.ogg", 6);
for(uint n=0; n<players.length(); n++)
{
send_packet(6,"play get"+get_draw_and_get_sound(nome)+".ogg "+players[n].x+" "+players[n].y+" "+players[n].z, players[n].x,players[n].y,players[n].z,maps[get_map_index(players[n].map)]);
players[n].inv_add_item(nome, numero*players[n].reinforcement);
send_reliable(players[n], "as a peak gift, you've got "+numero*players[n].reinforcement+" "+nome, 2);
}
}
if (auctiontimer.elapsed>=auctiontime and auction==true)
{
if (auctionbidder==false)
{
send_reliable(0,"play_s notify_died.ogg",6);
send_reliable(0,"auctions Auction ended. "+auctionamount+" "+auctionitem+" returned to "+auctionwho+".",0);
auction=false;
auctionitem="";
auctioncurrency="";
auctionbidder=false;
auctionamount=0;
auctionbid=0;
auctionwho="";
auctionwho2="";
}
else
{
int index1=get_player_index_from(auctionwho);
int index2=get_player_index_from(auctionwho2);
if (index1==-1 or index2==-1)
{
send_reliable(0,"play_s notify_died.ogg",6);
send_reliable(0,"auctions Auction reset. 1 or more required players have gone offline.",0);
auction=false;
auctionitem="";
auctioncurrency="";
auctionbidder=false;
auctionamount=0;
auctionbid=0;
auctionwho="";
auctionwho2="";
}
else
{
if (players[index1].inv_item_number(auctionitem)<=auctionamount-1)
{
send_reliable(0,"play_s notify_died.ogg",6);
send_reliable(0,"auctions Auction reset. "+auctionwho+" no longer has "+auctionamount+" "+auctionitem+".",0);
auction=false;
auctionitem="";
auctioncurrency="";
auctionbidder=false;
auctionamount=0;
auctionbid=0;
auctionwho="";
auctionwho2="";
}
else
{
players[index2].inv_add_item(auctioncurrency,0-auctionbid);
players[index2].inv_add_item(auctionitem,auctionamount);
send_packet(6,"play get"+get_draw_and_get_sound(auctionitem)+".ogg "+players[index2].x+" "+players[index2].y+" "+players[index2].z, players[index2].x,players[index2].y,players[index2].z,maps[get_map_index(players[index2].map)]);
players[index1].inv_add_item(auctionitem,0-auctionamount);
players[index1].inv_add_item(auctioncurrency,auctionbid);
send_reliable(0,"play_s auctionwon.ogg",6);
send_reliable(0,"auctions Auction finished! "+auctionamount+" "+auctionitem+" sold to "+players[index2].nickname+" for "+auctionbid+" "+auctioncurrency+"",0);
auction=false;
auctionitem="";
auctioncurrency="";
auctionbidder=false;
auctionamount=0;
auctionbid=0;
auctionwho="";
auctionwho2="";
}
}
}
}
if(chovendo==1)
{
for(uint i=0;i<fire_starters.length();i++)
{
@fire_starters[i]=null;
fire_starters.remove_at(i);
continue;
}
}
if(chuvatimer.elapsed>chuvatempo and chovendo==0)
{
chuvatimer.restart();
send_reliable(0, "volumechuva -7", 0);
volumechuva=-12;
numerochuva=random(3, 4);
send_reliable(0,"chuvaativa "+numerochuva,0);
chovendo=1;
trov1=0;
trov2=0;
trov3=0;
trov4=0;
trov5=0;
trov6=0;
trov7=0;
trov8=0;
trov9=0;
trov10=0;
volumechuva1=0;
volumechuva2=0;
volumechuva3=0;
volumechuva4=0;
volumechuva5=0;
volumechuva6=0;
volumechuva7=0;
volumechuva8=0;
volumechuva9=0;
volumechuva10=0;
}
if(chuvatimer.elapsed>500000 and chovendo==1)
{
chuvatimer.restart();
send_reliable(0,"fimchuva",0);
send_reliable(0, "volumechuva -12", 0);
chovendo=0;
}
if(chuvatimer.elapsed>=498000 and chovendo==0 and trov1==0)
{
jraio();
trov1=1;
}
if(chuvatimer.elapsed>=1500 and chovendo==1 and trov2==0)
{
jraio();
send_reliable(0, "volumechuva -12", 0);
volumechuva =-12;
trov2=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=20000 and chovendo==1 and trov9==0)
{
jraio();
volumechuva =-10;
send_reliable(0, "volumechuva -10", 0);
trov9=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=43000 and chovendo==1 and trov10==0)
{
jraio();
volumechuva =-8;
send_reliable(0, "volumechuva -8", 0);
trov10=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=45000 and chovendo==1 and volumechuva1==0)
{
jraio();
volumechuva =-6;
volumechuva1=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=47000 and chovendo==1 and volumechuva2==0)
{
send_reliable(0, "volumechuva -4", 0);
volumechuva =-4;
volumechuva2=1;
int jogaronda=random(1, 200);
if(jogaronda<10)
{
send_reliable(0, "play_s thunder"+random(1,50)+".ogg",6);
}
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=48000 and chovendo==1 and volumechuva3==0)
{
send_reliable(0, "volumechuva -2", 0);
volumechuva =-2;
volumechuva3=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=50000 and chovendo==1 and volumechuva4==0)
{
send_reliable(0, "volumechuva 1000", 0);
volumechuva =1000;
volumechuva4=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=60000 and chovendo==1 and trov3==0)
{
jraio();
trov3=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=150000 and chovendo==1 and trov4==0)
{
jraio();
trov4=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=180000 and chovendo==1 and trov5==0)
{
jraio();
trov5=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=240000 and chovendo==1 and trov6==0)
{
jraio();
trov6=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=300000 and chovendo==1 and trov7==0)
{
jraio();
trov7=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=451000 and chovendo==1 and volumechuva9==0)
{
volumechuva =-2;
send_reliable(0, "volumechuva -2", 0);
volumechuva9=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=452000 and chovendo==1 and volumechuva8==0)
{
send_reliable(0, "volumechuva -4", 0);
volumechuva =-4;
volumechuva8=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=454000 and chovendo==1 and volumechuva7==0)
{
volumechuva =-6;
send_reliable(0, "volumechuva -6", 0);
volumechuva7=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=457000 and chovendo==1 and volumechuva6==0)
{
volumechuva =-8;
send_reliable(0, "volumechuva -8", 0);
volumechuva6=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=480000 and chovendo==1 and volumechuva5==0)
{
volumechuva =-10;
send_reliable(0, "volumechuva -10", 0);
volumechuva5=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(chuvatimer.elapsed>=499000 and chovendo==1 and trov8==0)
{
jraio();
volumechuva =-12;
send_reliable(0, "volumechuva -12", 0);
trov8=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
players[i].dirty-=random(1,2);
players[i].wet-=random(1,2);
}
}
if(windtimer.elapsed>windtempo and windendo==0)
{
windtimer.restart();
send_reliable(0, "volumewind -7", 0);
volumewind=-12;
numerowind=random(3, 4);
send_reliable(0,"windativa "+numerowind,0);
windendo=1;
wtrov1=0;
wtrov2=0;
wtrov3=0;
wtrov4=0;
wtrov5=0;
wtrov6=0;
wtrov7=0;
wtrov8=0;
wtrov9=0;
wtrov10=0;
volumewind1=0;
volumewind2=0;
volumewind3=0;
volumewind4=0;
volumewind5=0;
volumewind6=0;
volumewind7=0;
volumewind8=0;
volumewind9=0;
volumewind10=0;
}
if(windtimer.elapsed>65000 and windendo==1)
{
windtimer.restart();
send_reliable(0,"fimwind",0);
send_reliable(0, "volumewind -12", 0);
windendo=0;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=1500 and windendo==1 and wtrov2==0)
{
send_reliable(0, "volumewind -12", 0);
wtrov2=1;
volumewind =-12;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=20000 and windendo==1 and wtrov9==0)
{
volumewind =-10;
send_reliable(0, "volumewind -10", 0);
wtrov9=1;
}
if(windtimer.elapsed>=43000 and windendo==1 and wtrov10==0)
{
volumewind =-8;
send_reliable(0, "volumewind -8", 0);
wtrov10=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=45000 and windendo==1 and volumewind1==0)
{
volumewind =-6;
volumewind1=1;
}
if(windtimer.elapsed>=47000 and windendo==1 and volumewind2==0)
{
send_reliable(0, "volumewind -4", 0);
volumewind =-4;
volumewind2=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=48000 and windendo==1 and volumewind3==0)
{
send_reliable(0, "volumewind -2", 0);
volumewind =-2;
volumewind3=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=50000 and windendo==1 and volumewind4==0)
{
send_reliable(0, "volumewind 1000", 0);
volumewind =1000;
volumewind4=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=53000 and windendo==1 and volumewind9==0)
{
volumewind =-2;
send_reliable(0, "volumewind -2", 0);
volumewind9=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=55000 and windendo==1 and volumewind8==0)
{
send_reliable(0, "volumewind -4", 0);
volumewind =-4;
volumewind8=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=59000 and windendo==1 and volumewind7==0)
{
volumewind =-6;
send_reliable(0, "volumewind -6", 0);
volumewind7=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=61000 and windendo==1 and volumewind6==0)
{
volumewind =-8;
send_reliable(0, "volumewind -8", 0);
volumewind6=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=64000 and windendo==1 and volumewind5==0)
{
volumewind =-10;
send_reliable(0, "volumewind -10", 0);
volumewind5=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(windtimer.elapsed>=64000 and windendo==1 and trov8==0)
{
volumewind =-12;
send_reliable(0, "volumewind -12", 0);
trov8=1;
for(uint i=0; i<players.length(); i++)
{
players[i].temperaturelevel-=random(0,1);
}
}
if(divulgar.elapsed>=random(2150000,3500000))
{
divulgar.restart();
string[] msgs;
msgs.insert_last("mahdi abedi says: visit my website to check my latest projects! http://www.mahdiabedi.com");
msgs.insert_last("mahdi abedy says: Do you want your voice to be in the game? so please Send me a folder contains 5 hitting sounds, one name, and one death sounds from yourself. My contact info can be found in the readme");
msgs.insert_last("use mahdi abedi's nvda remote and connect easily to your friends! just enter host as mahdiabedi.com");
//msgs.insert_last("ÔãÇ åã äãíÏæäíÏ ÇÒ ˜ÌÇ ãíÊæäíÏ ˜ÑÏíÊ ÈÎÑíÏ æ ˜áí ÂíÊã öíÏö ÎæÈ ÎæÈ íÇ öíÏ Ç˜ÇäÊ ÏÇÔÊå ÈÇÔíÏ¿ ÌæÇÈÔ ÓÇÏÓÊ! ÇÒ ÝÑæÔÇåö Ïöíáí áÇíÝ! ÇÒ Çíä áíä˜ ãíÊæäíÏ æÇÑÏÔ ÈÔíÏ: http://mahdiabedi.com/shop");
//msgs.insert_last("sho maa ham ne'h mee doo need az ko jaa mee too need credit be'h ka'r eed va'h kole lee item e'h paid e'h khoob khoob yaa paid account daash te'h baa sheed? jav aa be'sh saa dast! az fo roosh ghaahe e'h daily life! az een leenk mee too need vaa red esh be'h sheed: http://mahdiabedi.com/shop");
msgs.insert_last("mahdi abedi says: my youtube channel contains a lot of fun videos and gameplays, subscribe if you haven't subscribed yet! https://www.youtube.com/channel/UC5HfcAnQomwaU4h1HMhevYw");
msgs.insert_last("mahdi abedi says: follow me on the twitter if you didn't follow yet to get daily life news In the earlyest possible time! @mahdiabedi82");
msgs.insert_last("mahdi abedi says: you can join to my telegram channel to get daily life news In the earlyest possible time in both english and persian languages! @mabedi82");
msgs.insert_last("mahdi abedi says: my contact information: e-mails: tecgame2020@gmail.com, mahdiabedi922@gmail.com, abedi.mahdi82@gmail.com. Skype: mahdiabedi922@gmail.com. Twitter: @mahdiabedi82. Telegram: @mahdiabedi82. Discord: mahdiabedi82#0908. Telegram channel: https://t.me/mabedi82. Youtube channel: https://www.youtube.com/channel/UC5HfcAnQomwaU4h1HMhevYw. Website: http://mahdiabedi.com");
msgs.insert_last("mahdi abedi says: To get an account on my teamtalk server, please send an admin tell and request an account. Address: mahdiabedi.com. Ports: 10333.");
int frase=random(0,msgs.length()-1);
//send_reliable(0,"notify2 "+msgs[frase],0);
}
if(tpresentes.elapsed>=npresentes)
{
tpresentes.restart();
npresentes=random(500000, 800000);
string[] t;
t.insert_last(random(13, 19)+" 5.56mm_ammo");
t.insert_last(random(10, 15)+" 7.62mm_ammo");
t.insert_last(random(8, 14)+" 9mm_ammo");
t.insert_last(random(5, 7)+" 12.7mm_ammo");
t.insert_last(random(8, 13)+" shotgun_shell");
t.insert_last(random(3, 10)+" arrow");
t.insert_last(random(25, 100)+" coins");
t.insert_last(random(1, 10)+" firework");
t.insert_last(random(1, 10)+" firecracker");
t.insert_last(random(1, 25)+" mana");
int nitem=random(0, t.length()-1);
string[] a=string_split(t[nitem], " ", false);
int numero=string_to_number(a[0]);
string nome=a[1];
send_reliable(0, "play_s giftopen"+random(1,4)+".ogg", 6);
for(uint n=0; n<players.length(); n++)
{
players[n].inv_add_item(nome, numero*players[n].reinforcement);
send_reliable(players[n], "as a gift, you've got "+numero*players[n].reinforcement+" "+nome, 2);
}
}
if(e.type==event_disconnect)
{
int index=get_player_index(e.peer_id);
if(index > -1)
{
n.disconnect_peer_softly(players[index].peer_id);
log("disconnections",players[index].name+" lost connection",true,true);
for(uint i2=0; i2<arenas.length(); i2++)
{
if(players[index].map==arenas[i2].map)
{
players[index].bullet_proof_vested=0;
players[index].bullet_proof_vestshots=0;
players[index].armored=0;
players[index].armorshots=0;
players[index].large_armor_plated=0;
players[index].large_armor_plateshots=0;
players[index].shielded=0;
players[index].shieldshots=0;
players[index].steel_shielded=0;
players[index].steel_shieldshots=0;
players[index].hurtlevel=0;
players[index].hurttimer.restart();
players[index].healtimer.restart();
players[index].poisoned=false;
players[index].hurt=false;
players[index].cbombplacing=false;
players[index].drunk=false;
if(players[index].weapon_name!="fists")
{
players[index].weapon_name="fists";
if(players[index].weapon_ammos>0)
players[index].inv_add_item(players[index].weapon_ammo_type, players[index].weapon_ammos);
players[index].firetimer=180;
players[index].weapon_ammos=0;
players[index].weapon_ammo_type="";
players[index].weapon_copasity=0;
send_reliable(players[index], "notrapid", 0);
}
int newx=string_to_number(get_char_val(players[index].name,"oldx"));
int newy=string_to_number(get_char_val(players[index].name,"oldy"));
int newz=string_to_number(get_char_val(players[index].name,"oldz"));
string charfolder="chars/"+players[index].name;
scd(players[index]);
if(players[index].inv.get_size()>0) players[index].inv.delete_all();
file_copy(charfolder+"/oldinv.usr",charfolder+"/inv.usr",true);
if(players[index].inv.get_size()<1) players[index].inv_add_item("starter_pack",1);
load_char_data(players[index],true);
file_delete(charfolder+"/oldx.usr");
file_delete(charfolder+"/oldy.usr");
file_delete(charfolder+"/oldz.usr");
file_delete(charfolder+"/oldmaplayers[index].usr");
file_delete(charfolder+"/oldinv.usr");
move_player(players[index],"safezone",newx,newy,newz);
arenas[i2].joined--;
int amath=arenas[i2].length-arenas[i2].joined;
if(arenas[i2].length>1) send_reliable(0,"arena "+players[index].name+" has escaped from "+arenas[i2].owner+"'s "+arenas[i2].type+" Arena. "+amath+" participators stil left.",0);
else send_reliable(0,"arena "+players[index].name+" has escaped from "+arenas[i2].owner+"'s "+arenas[i2].type+" Arena",0);
if(players[index].pvpd==1 and players[index].pvp==1)
{
players[index].pvp=0;
players[index].pvpd=0;
}
if(players[index].pvpd==3)
{
players[index].pvp=1;
players[index].pvpd=2;
}
remove_player(players[index].name,true);
return;
}
}
if(cheatercheck(players[index])||players[index].cheater==1||file_exists("chars/"+players[index].name+"/cheater.usr"))
{
create_temp_ban(players[index].name,60000);
write_to(players[index].name,"cheater.usr",players[index].name+" is a cheater! They closed the game in "+ms_to_readable_time(players[index].statchangetimer.elapsed)+" of being hit");
send_reliable(0,players[index].name+" is a cheater!",2);
players[index].persisttimer.restart();
players[index].disconnected=true;
}
else if(auctionwho==players[index].name)
{
create_temp_ban(players[index].name,30000);
players[index].persisttimer.restart();
players[index].disconnected=true;
}
else if(auctionwho2==players[index].name)
{
create_temp_ban(players[index].name,30000);
players[index].persisttimer.restart();
players[index].disconnected=true;
}
else if(players[index].nuclearbombspawned==1)
{
create_temp_ban(players[index].name,60000);
players[index].persisttime=60000;
players[index].persisttimer.restart();
players[index].disconnected=true;
}
else
{
remove_player(players[index].name,true);
}
}
}
if(e.type==event_receive)
{
if(e.channel==2 and get_player_index(e.peer_id)>-1)
{
int index=get_player_index(e.peer_id);
}
if (e.channel==1)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,""+players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
string message=get_event_message();
if (string_left(get_event_message(),1)!="/")
{
if(players[index].ds.find("chat")>-1)
{
send_reliable(players[index],"your chats have been disabled",0);
return;
}
if(players[index].away==true and message!="/afk" and players[index].is_admin()==false)
{
send_reliable(players[index],"You can't chat while you are away",2);
return;
}
if(chatting==0)
{
string message;
message="Sorry, server chats are currently disabled.";
if(players[index].is_admin()) message+=" If you want to turn them back on, type /varset chatting 1";
send_reliable(players[index],message,2);
return;
}
players[index].chats+=1;
log(players[index].name+"_chats",players[index].name+" said "+get_event_message(),true,true);
string chatmessage=get_event_message();
if(players[index].drunk==true)
{
int action=random(1,3);
if(action==1) chatmessage=chatmessage; //do nothing.
else if(action==2) chatmessage=string_replace(chatmessage," ","",true);
else if(action==3) chatmessage=string_reverse(chatmessage);
}
string chatmess;
if(players[index].title!="") chatmess+=players[index].title+" ";
if(players[index].teamname!="") chatmess+=players[index].teamname+" ";
if(players[index].awaytitle!="") chatmess+=players[index].awaytitle+" ";
if(players[index].prisontitle!="") chatmess+=players[index].prisontitle+" ";
if(players[index].newbtitle!="") chatmess+=players[index].newbtitle+" ";
if(players[index].afktitle!="") chatmess+=players[index].afktitle+" ";
if(players[index].pvptitle!="") chatmess+=players[index].pvptitle+" ";
if(players[index].jobtitle!="") chatmess+=players[index].jobtitle+" ";
chatmess+=players[index].ptitle+" "+players[index].nickname+": "+chatmessage;
players[index].chat(chatmess);
return;
}
else
{
if(index>-1)
log(players[index].name+"_commands",players[index].nickname+" ("+players[index].name+") sent "+get_event_message());
}
command(players[index],get_event_message());
}
}
if (e.channel==0)
{
int index=get_player_index(e.peer_id);
if(index>-1) 
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,""+players[index].name+" is no longer away.",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_reliable(0,"play_s afkoff.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
player_event(players[index],get_event_message());
}
}
if(e.channel==3)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
voicechat(players[index],get_event_message());
}
}
if(e.channel==4)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
use(players[index],get_event_message());
}
}
if(e.channel==5)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
combine(players[index],get_event_message());
}
}
if(e.channel==6)
{
string[] parsed=string_split(get_event_message(), " ",true);
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
useitem(players[index],get_event_message());
}
}
if(e.channel==7)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
play(players[index],get_event_message());
}
}
if(e.channel==8)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
move(players[index],get_event_message());
}
}
if(e.channel==9)
{
int index=get_player_index(e.peer_id);
if (index>-1)
{
players[index].idle.restart();
if(players[index].away==true)
{
players[index].away=false;
send_reliable(0,players[index].nickname+" is no longer away",2);
players[index].awaytitle="";
}
if(players[index].pvp_stop)
{
players[index].pvp_stop=false;
send_reliable(players[index],"play_s terror.ogg",6);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while turning off your pvp!",2);
}
if(players[index].afking) 
{
players[index].afking=false;
players[index].afk=false;
send_packet(6,"play afkoff.ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"error! "+players[index].nickname+", please don't touch your keyboard while going afk!",2);
write_to(players[index].name, "afk.usr", players[index].afk);
write_to(players[index].name, "afkseconds.usr", players[index].afkseconds);
players[index].afktitle="";
}
weapons(players[index],get_event_message());
}
}
if (e.channel==10)
{
int index=get_player_index(e.peer_id);
string[] parsed=string_split(get_event_message(), " ", true);
if(parsed[0]=="login" and parsed.length()>10)
{
login(parsed[1],parsed[2],parsed[3],parsed[4],parsed[5],parsed[6],parsed[7],parsed[8],parsed[9],e.peer_id,parsed[10]);
}
else if(parsed[0]=="newchar" and parsed.length()>12)
{
create_char(parsed[1],parsed[2],parsed[3],string_to_number(parsed[4]),e.peer_id,parsed[5],parsed[6],parsed[7],parsed[8],parsed[9],parsed[10],parsed[11],parsed[12]);
}
else if(parsed[0]=="ping")
{
int index=get_player_index(e.peer_id);
if(index > -1)
{
send_reliable(players[index],"pong",0);
}
}
else if(parsed[0]=="newplayer" and parsed.length() > 7)
{
int hide=string_to_number(get_char_val(parsed[5],"hidden"));
spawn_player(string_to_number(parsed[1]), string_to_number(parsed[2]), string_to_number(parsed[3]), parsed[4], parsed[5], e.peer_id,parsed[6],string_replace(parsed[7],"[spce]"," ",true),n.get_peer_address(e.peer_id),string_replace(get_event_message(),parsed[0]+" "+parsed[1]+" "+parsed[2]+" "+parsed[3]+" "+parsed[4]+" "+parsed[5]+" "+parsed[6]+" "+parsed[7],"",false),hide);
int index=get_player_index(e.peer_id);
if(index>-1)
{
load_char_data(players[index]);
for(uint i=0; i<players.length(); i++)
{
if(players[i].readolmsg==1 and players[index].name!="smart_bot")
{
send_reliable(players[i], "connections "+players[index].onmsg+"",0);
}
}
string charfolder="chars/"+players[index].name;
if(file_exists(charfolder+"/prison.usr")) players[index].prison=true;
string test;
index=get_player_index_from(parsed[5]);
if(index>-1 and players[index].warnlevel>0)
{
send_reliable(players[index],"play_s warn.ogg",6);
send_reliable(players[index],"dlg warning! "+players[index].warning+".",0);
}
if(msounds.length()>0)
for(uint i=0; i<msounds.length(); i++)
{
send_reliable(players[index],"createmsound "+msounds[i].id+" "+msounds[i].soundloop+" "+msounds[i].x+" "+msounds[i].y+" "+msounds[i].z+" "+msounds[i].map+" "+msounds[i].pitch,4);
}
players[index].statchangetimer.force(60000);
if(chovendo==1)
{
send_reliable(players[index], "volumechuva "+volumechuva, 0);
send_reliable(players[index], "chuvaativa", 0);
}
if(windendo==1)
{
send_reliable(players[index], "volumewind "+volumewind, 0);
send_reliable(players[index], "windativa", 0);
}
if(nightendo==1)
{
send_reliable(players[index], "volumenight "+volumenight, 0);
send_reliable(players[index], "nightativa", 0);
}
string ms;
if(players[index].langchan=="disable_chat") ms="welcome"+players[index].gender2+"! press shift h or type /help to see help";
else ms="welcome"+players[index].gender2+"! press shift h or type /help to see help: "+players[index].langchan+" channel message: ";
if(players[index].langchan=="arabic")ms+=arabicmessage;
else if(players[index].langchan=="free_channel")ms+=free_channelmessage;
else if(players[index].langchan=="english")ms+=englishmessage;
else if(players[index].langchan=="german")ms+=germanmessage;
else if(players[index].langchan=="indonesian")ms+=indonesianmessage;
else if(players[index].langchan=="malay")ms+=malaymessage;
else if(players[index].langchan=="persian")ms+=persianmessage;
else if(players[index].langchan=="polish")ms+=polishmessage;
else if(players[index].langchan=="portuguese")ms+=portuguesemessage;
else if(players[index].langchan=="russian")ms+=russianmessage;
else if(players[index].langchan=="slovak")ms+=slovakmessage;
else if(players[index].langchan=="spanish")ms+=spanishmessage;
else if(players[index].langchan=="thai")ms+=thaimessage;
else if(players[index].langchan=="turkish")ms+=turkishmessage;
send_reliable(players[index], ms, 2);
send_reliable(players[index],"play_s welcome"+random(1,19)+".ogg",6);
titlecheck(players[index]);
string[] chars=find_directories("chars/*");
string type=chars[random(0,chars.length()-1)];
send_reliable(players[index],"This connection is sponsored by "+type,2);
//if(players[index].paid==1) send_reliable(0,""+players[index].name+" is a paid user",2);
if(file_exists(charfolder+"/team.usr"))
{
f.open(charfolder+"/team.usr","rb");
string t=f.read();
f.close();
if(team_exists(t))
{
int tx=get_team_index(t);
teams[tx].add_member(players[index].name,false);
if(players[index].hidden==0) send_reliable(0, players[index].name+" is in "+t+" team", 2);
}
}
/*
if(paid_accountcheck(index))
{
int pa=get_paid_account_index(index);
send_reliable(players[index],"your paid account will be finished after "+ms_to_readable_time(paid_accounts[pa].time-paid_accounts[pa].paid_accounttimer.elapsed),2);
}
if(paid_rocket_launchercheck(index))
{
int pa=get_paid_rocket_launcher_index(index);
send_reliable(players[index],"your rocket launcher will be finished after "+ms_to_readable_time(paid_rocket_launchers[pa].time-paid_rocket_launchers[pa].paid_rocket_launchertimer.elapsed),2);
}
*/
if(players[index].pvp==1) send_reliable(players[index],"you are now pvp",2);
if(auction==true)
{
send_reliable(players[index], "play_s notify_blips.ogg",6);
send_reliable(players[index],"auctions there's an auction in progress: auctioner: "+auctionwho+". Item: "+auctionitem+", quantity "+auctionamount+", needed item: "+auctioncurrency+". Minimum bid "+auctionbid+". Last bid "+auctionbid+". Last bidder: "+auctionwho2+". Type /bid amount to bid",0);
}
if(doublexp==1)
{
send_reliable(players[index],"play_s notify_applause.ogg",6);
send_reliable(players[index],"Double xp is enabled",2);
}
else if(superxp==1)
{
send_reliable(players[index],"play_s notify_applause.ogg",6);
send_reliable(players[index],"Super xp is enabled",2);
}
else if(megaxp==1)
{
send_reliable(players[index],"play_s notify_applause.ogg",6);
send_reliable(players[index],"mega xp is enabled",2);
}
else if(gigaxp==1)
{
send_reliable(players[index],"play_s notify_applause.ogg",6);
send_reliable(players[index],"giga xp is enabled",2);
}
else if(masterxp==1)
{
send_reliable(players[index],"play_s notify_applause.ogg",6);
send_reliable(players[index],"master xp is enabled",2);
}
if(hide>0)
{
players[index].is_dead=true;
send_reliable(players[index],"play_s notify8.ogg",6);
send_reliable(players[index],"you are currently hiding",2);
}
string pfolder="chars/"+players[index].name+"/";
f.open(pfolder+"pms.usr","rb");
string fread=f.read();
f.close();
if(fread!="")
{
string[] pms=string_split(fread,"\r\n",false);
for(uint i=0; i<pms.length(); i++)
{
send_reliable(players[index],"pm "+pms[i],0);
}
f.open(pfolder+"pms.usr","wb");
f.write("");
f.close();
}
f.open(pfolder+"replys.usr","rb");
string fread2=f.read();
f.close();
if(fread2!="")
{
string[] pms=string_split(fread2,"\r\n",false);
for(uint i=0; i<pms.length(); i++)
{
send_reliable(players[index],"pm "+pms[i],0);
}
f.open(pfolder+"replys.usr","wb");
f.write("");
f.close();
}
if(DATE_DAY==players[index].day and DATE_MONTH==players[index].month and players[index].giftlimit<1)
{
send_reliable(players[index],"happy berthday to you "+players[index].name+"!",2);
if(players[index].gender==0)players[index].gender2="he";
else players[index].gender2="she";
players[index].age++;
send_reliable(0,"today is birthday of "+players[index].name+" and "+players[index].gender2+" is now "+players[index].age+" years old!",2);
players[index].giftlimit++;
int n=random(1,2);
if(n==1) send_reliable(0, "play_s fireworkloop.ogg", 6);
else if(n==2) send_reliable(0, "play_s fireworkloop.ogg", 6);
send_reliable(0, "play_s applause"+random(1,6)+".ogg", 6);
file f;
f.open("chars/"+players[index].name+"/eml.usr","wb");
string eml=f.read();
f.close();
//url_post("http://mahdiabedi.com/dl/mail.php","who="+eml+"&from=mahdiabedi.com&name=daily life&sub=Happy berthday, "+players[index].name+"!&mess=Hello.\r\nHappy berthday to you "+players[index].name+"!\r\n\r\nThis message was automated by daily life. Please do not reply.");
}
if(players[index].langchan=="" or players[index].age==0 or players[index].country=="" or players[index].day==0 or players[index].month==0 or players[index].year==0)
{
send_reliable(players[index],"You didn't complete your profile yet, please go to your smart phone to complete your profile",2);
}
if(players[index].sitting==1) send_reliable(players[index],"sitstart",0);
else if(players[index].sitting==0) send_reliable(players[index],"sitstop",0);
if(players[index].langchan=="")
{
server_menu menu;
menu.intro="Select a new language channel";
menu.initial_packet="lchannelset";
for(uint i=0; i<language_channels.length(); i+=1)
{
menu.add(language_channels[i],language_channels[i]);
}
menu.add("password protected channels","ppc");
menu.send(e.peer_id);
}
}
}
else if(parsed[0]=="compinfo" and parsed.length()>1)
{
string comptext=players[index].name+" ("+string_replace(get_event_message(), "compinfo ", "", false)+") from IP "+n.get_peer_address(e.peer_id)+", computer ID "+players[index].compid+"\r\n";
f.open("chars/"+players[index].name+"/info.usr","wb");
f.write("last seen: "+get_date()+" at "+get_time()+"\r\ncomp info:\r\n"+comptext+"\r\nlocation:\r\n");
f.close();
f.open("compchars.log", "rb");
string orgtext=f.read();
f.close();
if(string_contains(orgtext, comptext, 1)<0)
{
f.open("compchars.log", "ab");
f.write(comptext);
f.close();
}
players[index].ctext=comptext;
}
else if(parsed[0]=="staffcheck")
{
if(players[index].name=="Angel_of_love" and players[index].compid=="0rsrcTHF92NW/25dM/H9iviYVRL")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the russian channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the russian channel",2);
players[index].russianlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the russian channel by typing /setrussianmessage message. English channel message: "+englishmessage,2);
}
}
if(players[index].name=="amirali" and players[index].compid=="+Js/5HMS6urWwr/jyP/hzlrDLpw")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the russian channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the russian channel",2);
players[index].persianlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the russian channel by typing /setrussianmessage message. English channel message: "+englishmessage,2);
}
}
if(players[index].name=="slovak" and players[index].compid=="slovak")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the slovak channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the slovak channel",2);
players[index].slovaklcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the slovak channel by typing /setslovakmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="mhr91358" and players[index].compid=="km9B5hLZIE5F3loLXdc4AmA6C6Z")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the arabic channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the arabic channel",2);
players[index].arabiclcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the arabic channel by typing /setarabicmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="abbass" and players[index].compid=="soAaDib3UEh3KPbVUKvDJwK/MTl")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the turkish channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the turkish channel",2);
players[index].turkishlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the turkish channel by typing /setturkishmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="marchoffmann" and players[index].compid=="IaECYDUjTzhxla1VwGqsv2P3GMk")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the german channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the german channel",2);
players[index].germanlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the german channel by typing /setgermanmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="johnson" and players[index].compid=="ABFgt7MZBSb5p4lhUgTIK4k3RB6")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the indonesian channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the indonesian channel",2);
players[index].indonesianlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the indonesian channel by typing /setindonesianmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="nabila" and players[index].compid=="C0fCbSfzHeVDYKlO6Iqk6xOZlHs")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the malay channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the malay channel",2);
players[index].malaylcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the malay channel by typing /setmalaymessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="princess" and players[index].compid=="ZJgZaLBeI/cYIhEmkmjbmzeJxkc")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the polish channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the polish channel",2);
players[index].polishlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the polish channel by typing /setpolishmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="JamesPotter" and players[index].compid=="8jiaWHKIfjTnKc8HibSorenkgqx")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the spanish channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the spanish channel",2);
players[index].spanishlcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the spanish message by typing /setspanishmessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="sarun" and players[index].compid=="IV/3L41KZ330JZ6EoT5+xFg0tc9")
{
if(players[index].gender==0)players[index].gender2="hes";
else players[index].gender2="she's";
send_reliable(players[index],"islcm",0);
send_reliable(players[index],"You're rank is currently language channel manager of the thai channel. Type /lcmrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_pingping.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is language channel manager of daily life, "+players[index].gender2+" managing the thai channel",2);
players[index].thailcm=true;
players[index].title="lcm";
if(players[index].is_only_lcm() and englishmessage!="" and players[index].englishmessage!=englishmessage)
{
send_packet(6,"play newmotd"+random(1,2)+".ogg "+players[index].x+" "+players[index].y+" "+players[index].z, players[index].x,players[index].y,players[index].z,maps[get_map_index(players[index].map)]);
send_reliable(players[index],"new english channel message! please set it for the thai message by typing /setthaimessage message. English channel message: "+englishmessage,2);
}
}
else if(players[index].name=="krish")
{
send_reliable(players[index],"isadmin",0);
send_reliable(players[index],"You're rank is currently administrator. Type /adminrules to see admin rules. Admin note "+adminnote,2);
send_plus(players[index].peer_id,"play_s admin.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is an admin of daily life",2);
players[index].admin=true;
players[index].title="administrator";
}
else if(players[index].name=="ramil" or players[index].name=="bolgelo" or players[index].name=="server.bgt" or players[index].name=="Darth_triborg")
{
send_reliable(players[index],"ismanager",0);
send_reliable(players[index],"You're rank is currently manager. Type /adminrules to see rules",2);
send_plus(players[index].peer_id,"play_s notify_startrek_bigbeep.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is manager of daily life",2);
players[index].manager=true;
players[index].title="manager";
}
}
else if(parsed[0]=="setvoice" and parsed.length()>2)
{
players[index].voice=string_to_number(parsed[1]);
}
else if(parsed[0]=="iamadminsmartbot")
{
if(players[index].name=="smart_bot")
{
players[index].admin=true;
}
}
else if(parsed[0]=="dev")
{
if(players[index].name=="mad-gamer")
{
players[index].dev=true;
send_plus(players[index].peer_id,"play_s dev.ogg",6);
send_plus(players[index].peer_id,players[index].name+" is a developer of daily life",2);
players[index].title="developer";
}
}
}
}
}
void send_reliable(uint peer, string mess, uint channel)
{
mess=string_encrypt(mess, "sxY?Pp,&D/wkW&S4VGLQtw<A+_^5pG#%>P64mi~48j_d$2*g#Y^f*KHu.eMbUCcVM(p#%s>9a%$t+)F@m#U1Pl4DSkxu^LQ<5()8)A%=pn)1NuUH)VFjg7z>fAX~e_mu#eLdk+PJqs2Y8`TvcIREiuHUtF1M^c,a,d9B4&&v=ODDo(,p9.nD8Tvo`,!3Wx$qnc=G.OVW(ojCO?mfxp6f/a0J~pYd.x~Z4R@`V,JC*jM1RMPcV_DE@j5<L<VIcbT9z,(,(t~7@^%EDLgUbiOeQswIzMn`Jbrv#KBSDIFT?yk?w9+DAr2D4Wr<km!OkL3_KJ(x#M2O(QEoK0u@3$Fr+z.aH2?68Y<X$vIe+Lgh#ObSWZulqZm%t`nk)EaA+@5Li0mQVK/&JV(PGU)Z$Ie=^xpgiGJau`o$Zf2~Nhdanzp^s4(qr0IDs!L!+aB$LiT#dywvLJnACcA`@FvY9$U=~lnQE,nOci^lBjCAEx/35!yn(r.RCC=nzbnw?MIiij&PpQ/`?N.g2!35^$zOCS(RjhRV<3>vU86L=%+75/g~1zH_MbzRGiY1j)oXR_`Fr58m*XaJKdDy&RexU%pV@6pRvC`DOSGo,,/LdtBnc0dLtlYk+#J5?I<sSW@O8x.yv.ViQD)/vfYYnDfy$cue?Nbz%Ps>^.+>)F=_dx<V4MzsMDuGdQujfw@VTv?>ZefSvfF0wq/gIK9HlnazjHX!jQL+gkZd%tDZrzF!#=S$budN5@94`@lt+<Y2?>BegcVi6>bLrxKl2N%=Q`JZw!P)etB65f)uNFZ*a=Q8?/DvvhP4<_Hsgh?g0m6uXe4ymr7&WqBK>cd)E.+KnctE<dC*8CVJuDNgbHOOrS7S0>$r)BGJq&z+2>$JDxoynv+rAtGN1zaxUG`t8hP(WSAi87,%c6.+`C!dgm@pNe1!fbThzF46(+W=JNpDIXZCJy953C4CC0akn7..SIGBF8xo9.VD&4bEy!b2FOWlYj^E?m>VNXdJUHh$opoGVI.yZzhFB&jRJfI@)&dv8GwoA.Ll9SV?1V<tVm~zc~<RQbD<Dmi=`nA?(HhIs2#M+seUYcq5rzTgtlkn5s@r@prb^vqII&.(Ejmm<X%~r3R+cV39gJM5,k5jW9WsWN%S4H0HKeb!dp/@&762=M*&#nVd?9%AUL.=E/Lmqb$S3B*pUpXC4)c?&Ohx>zz#_1c1w(z!e`Iv*TS>t.9,)aPo.p<3g@hu3)boWQDa7a$b&G2?/7D9vri6v&e)F%V~8eSL/mvens5b(D`PM&DaLzUXGUURTfuojuyKBUeRbCk!~<wL9h&kl25Ag6Z22Q7p9jQ2sFvetIn<OB#gO6#*7rt#FlCAidoqYQ.BKqp3rk(/11.4)d,c/H5kyGs*S8ihuoUp?H_T%*?g7ZOO._>adi~_9YEd@*O1D8+SZ1Cd~UF4icAp3PC~P,J.C0Aa=^fCD=cqqGm&N4d59GOOSm+sB/4FRwO6ifSAbK#!u!m#f.#LvPwMUMh%~i)QV(pm4oA/NIq!9M,2uvBM/xTm9?(5hof0i(#6*WCFdGxt~*8~)vXuEXh8klN+LL<1%#>f>$isiV7Tdj.I>r%b#b4ypX!NuLo`=gHa1W0JScfY%ie$Yf3rI/UYsPBOuWX)sHeeZa~(__^1n05~kAx=4+!je5^J~1df,OEIgK(gbLHL(t76r^wc/%9wr8Sz+rtm//Sf)@=y4M?@!Erk&9iSvuocZC*htqBw(rzJ6gh@iJlo68JL>J~>>L,Cqt(4cDsY#FiPRY`<s%q,Wd/F3Z4S^~oZ0p_(gV7+UKlNz/.(1@uZE&iDY+oM>!2uW&+9ra=ACkoTw#1DDy7FlA53iV?XC7r+YS9%NIoa+sQj2AF0IyRMcAH8J~S,y3Bp/eJH0#WC3AT>grJWA+(*eQu^YS~Z2=Vh_pn7y90?`HC?+0tsrL^DvofdWuAu`C+ic&A>R$HXF+_EyQDV!luHiKf`iN)m(jD5CQ9BF)%4A~ct2w=kc8SUPv$?gmIX9ay+Wk6+Rpr^X<2/F?k%j^eJa48ZN_Y=>hFPDS,yJ(.#)!3fYPu1ZX?JbU^Vcg6aDl7ojnqbo<ZtGSFF~wkjdi`W68aCQ/+NdxZ/#1Av&J6J$WVZIxK<sH)>4+QfK35VEWt1RQ!MsZp^5d)`ueV3f.I=9a03I)U5IG/a0F(j2nC?AoswTWt)4x1H@SS8f7WLAuhYO=Vr?D!s9vSU7RyfRI#J9@ZRG6odQ1pcE(s)G=^`ndo^N<qJT<C>6UCmT4D_%$/4O6`OYj`)!iBahx/mZu)K!ywW_#=zh,y_6UI9?fOk*d*aUrU,6!&G9EG+af,SJMS^cZZQ=@wv8Fd^IHf9byO^?ZeU!^>wW#A5a9p^Ds*SHC!rJ<<ro&yH8Zd~y1K8>sKPC/IFGER6S<yp7LZ&)/~x0CO3aTy)5@iQ5%c5J44J8!1(WH`*eI,9w,(L$DDesx#/6msAr9YGFmo+.sL`CHnk+OKjv/WqJ&HyIPh`ob6*@BrqhWb9RsnFvvGF<HU&.<Mr@*e8C+ii)I/uyp++Ow(MCH%I)9uzrOyDH@4QVW)d^~I0H~YPeJ&FcR@/yW3@UqFPY^F41OwQfOKxJ6>!bOC=$Q.5D8CLn/g!fa9uAzD5G_~4uE>nH!aZ<PK2>3QvhV3BkF&ysP@d+&/cc.bRN0iS!?fd#SI5GS((IBAyBJR_QJh^%v06u)Y/m,`yaKXu=s)V2vzFoD%8v42(`1AEG82LowwZnHMkJ,S`_5OS+yMOCAO>>OsWrKUL3Hq94LFTrccY59(#QIbwpPIbGfZ7uzv&@tTo@3fVGwHl($SFJpQ0npw7OS&@AfR.NuWc^4w0`DL&fPNgS!4_f@MM63X0/C3Y7aJy3Y.?Ofr7zL.*6j<jg7.j9~vBsrQNv51=S)azYFm_@f5~sU!nNkZsV0^ojFUS.v~SQ`dS8qFkMb42mDmx4.`o>HIFbP<&!qck0H,1G!>6uM.IA!=Hj_R2X)ih5s4mSlVIS1t%`0<E<i1>$G~#@IpXN~~^M5>,gobp_t+J^B)^oakhxf<W+6zo$1UaqX2QP80MohQd//%8#u<s!E!r?$#Su#!(OD<w)v<*l5_K<4B<M7zmE<QS2Q#Dpi9*X4vDg7zB.RYH&j.%_i5<&@%3gEO&9*RvG8xbWqF63b9p4~X$+rjOQMlT,8OG2)96xpBJSmg<QBBZ9*FCKxidY%5JWPyJ0zKQCj8sK^vA(I(mmqDnzRk~r>2o~/TAhCbX.t57a!!As&D06v%dL<%X^WbMw#LNOLldDyJ@w9v58&ccT2<jg+!@fCBP@cU,_+aCfgAy,b`st~Xz1EH?02#$QB@LP=,F>=ECKn$aJ2~~b@B?l`5,3MtpZ^E#nHjTDoLA0JIr2CrgTVddTeMUZce?jFH*G$K1+Jk@$s9~rW/jSen`ryn?teNUq%%j9<M3apJ5Bz)R4#EEaL$t5qQ4@6!>yN?tOOp9t9n2pNe/V=4i~JK)3Zgust7!VV.8GFFiR&&GT>Bx*@Q>=,/Wm$TQhyiQq.2.a(ahS%``w21Z9EsOZ>/qdy=.~N&lUaYj<w3,!jxr1uWz4KCP%4YkoAVF%&EAn.ihCOpyPIKDYRSv*+%qr7XB/3_V,qO1g(o`VaM8#9_ISmrQO<j`gSCjRcOSLUrGJF4C=CQs5O/VZ^/4%i~(32D@Vl0gTzvsTA+UF>(ntSfzq9vMD.&QqR%,Q@IJRbG.2Dko7qcilolc$l)~uqwF?bCitDgGpSVBqFYQU._6/gfK8pszrhoVbU#8^lIHCI(*dS=VT?UYsJ>xz8>y*o3q807DPjXEV!Uf=Sk!o~Qg77vX)6Pmys3r_j.ux^f7mirMT,919Tm7NO8lVvOC9S?PFkSS,H`?jL_o)@=A)B~n^OtWkAvbM)#vC?y%HEM>nHWQ$aoU>$(m?pFbl77g%3qaHRCKKMoB*Pz(~)Q606`Aq>h,=F#`m,0XZ@,83Ct@&7jFT7g*Y!J^IP.sCUFR>mT+HeXHz=6NF4F(~3>2i3_5(3?9CuX4=!n.BUrpFZZVtA.uMf>*bvTv1a9L(3xS5TE$a0QwJ$T,KjxQUt`GDSYrSIT~4qy.2NjVGn4(bY^!%yvK!7XbxnG*e5*A,_zKD@~QXnv!Bkz9@tlp#/V+fRfpKZD(&MFE4B1ZLcz~0LR&a9oFXJdlT71Wmx#=DnaYKZX(=tAb(&+fKIu)P2D?JkyLRlh8UivcYdVVof~m%G,gibX>xh*LW/Td1VeH4IqIZX4EX7O3Kv@eH2MXfD7k4N/#DEyu3zwOaLgz3Zq7=ODik7YAycK(o/$30FQ#GzldA/$KW?@>/OCR9kV*SVbMGgIU6_o_r8LPlvUy*jH=<jQ*_suBElB#A,@G?5I<Nin/ZS5O0>7mz(PsMfZPjq+<g9m2C=2mbdK$v6ArIkkVLeZEK(Ca/sR10PJ^XZ?<fSk^fZa1<c#+$,g<P5k<3m3,JeOMx2h<`R9hiM>V#bV^d<6UQ=R*6`QIl*DHaMVt$cta%5WLcO?>0<Xm&F(Sp#.&jZ7jTZ>cq+hmIKzo6)FH6X^fMMv_LJII?G8iKtlRVz.%*^1lw_?vn$G@JDz0>!XPOS5@!bkt(KmyGHsPUpTxM2H)1sDW!*0md9`aY!&@Zr52QL7aSr,!!21ygq3u5Mmvj1N9FCBUr##<cwiJtP<?l%jz5)bEOD99<iISLZ!R@8yI~fFzZd=<e@5S<C_$sX^(IB<4ldxabsPETAeHkVW?.X.D@7M.cFZz74>+3g4a23KSgPT3PJO/fux?ZZK_@Z>lef(JC^?h#F~ZFJ3_,Fi>ZK#j+L_XR)mWKy`X0CAX&K*P7Aw`(2tv)N=a.jg@H2%nS_?u+ezVKt0of@4Is0K$LE#Y@%gvaIa8zx?ZN(W9gd+!(VJ$ZN^M?l!sKAM&5fMZE1(=ya0G4DaVh+e)KMRT/f_g?=?EK=N8(>fQ)z*epvG*(Ia9%$`K^*90UIU)&Pt*@XSCr7,b6oA1&PUlWvLtjej<keTAnjbdjG%fYQrl@`gV.x@L@(9&?Q<K_0De,#.GIs>5=o!OE2$#A8*,xr^)*@bgM43)V4#Y!=wR?$)hvL8iZ?8k6=Oz#uw!jV&$jNq0+Pwe4p`x3*XmyouU/LI~@onEEw!d(M#H<pq<8WHFBz79juQ^NHnPt5VP8*dG0B19j./W#.iCo*KvpNOzU&v0ccLV?Z>qY42v3UApJxSIXTOcaAM>#@>6FUixoY_psVOlSk4GPc?l$/J%2K9Ol<8CVBTiuR>z2e,GGlb!~VI5#mGoiTLmB>q2s>dG.)pR_1uzWjSws.#f^NJ&V%QAXE!DfcFj<WLV,Bz!_Oh9,1yx&/&EU)WPq@W1TCNY8ug,iWV38Q?q!*Uo0oDvzsrLnnho0/26C&p61=,QgYgmGnl<y(m(##Z$y)bB$~Ezq&g&TFq7I@<t(y=F<uWsJm<Pn6AWBjipfA/a4CEl?zMf$Ku)j+?Hk<rD#ehCv(ZQrNb@&)H&<(CAgq^qr0<2.#.rS%tZ+I7KWbIll`+/`cvOtM=6y9_C7h2x5qZ8>pzIGQ(wd)xR_^OjtV,?^!=G3,l4&g.L?Rb.=$A_xtco9y_#MkZfC`WqbpLyG^R)aK=c(WB*bUPSSas3ONZpNF<_A8!5m##y1O2a&3Va`jMGnn~K329XsR*UI/G3vaEm^Z?KBk2mGei6ADfA%s)%2qtn((Jr&@~.U_/nESPeVWKF20pnwOD!z2g=3fF*%mwJlil+c)Q!`iXOyDjIy<8GM%)knm@>9#/,g4Hv$fizjm6NQ9l.*8QKD^DO7iy4ovWX28$Ac.ik/&igzY)%qvd=UcT9HUhqPtT/21?>(*yI2SLS0KGwy%!e*4l<kofR$y7Hak3cwhUH(/dIzSQcdV8Ql^pyCo8Zf!#+BX0Rr>dzGAQa%KOk+jK0,cNELv0mBFCJnJKhbg6MA?(.Z*ebjf*VBjjl&<$tfC02re#8.A.#WDU,ya7XFtGD.6bi>u))y=+~+HDd@CVXvT%CWo0=mQ.W3cNF_(wHm8nt+bF)nbI^e%n,UcU/ul`ovn,X=L=f$8Ze%pl<v`)V4aaq3_,y,3G=QO,/E+I+=)9hQJi?cqJkkAU!!zoDzkVdfUYV_l%&8CjWRto`Xmq6XNF0eOYF&VcW9ZS1hM*xX`+nRohn<J*C)k(^(.<=frvkUvH>(H!4cL.5Cr!vbK?mSSdbKHnl,wdCbNup*^3)f,=XC+EwyJo5MkJA&)zYcuPG#*Lp!,NH/u$2u5C,Cw=3>w~AWK1C.FAdMpcx?R~RXsj32noa_JK>!yKi,FK/lnAdfTwRupT)9YL+J>^E>O&@J2hDF/EXXU,>J@(E^m8?8.kMS,_1x`N^L+e`1Mymr1GkYWv$5g`HM(y/4TzmTzHt&Cs^ZAj)2OWmN4G/DXP5p`j(~vrYum<zN5U0i5q>KTFW%0j)m.27J$d#MY(Q<72mk(*AvGh?T7.kExVMk@C<AIm)k.QG&wun3G~H+Nj^2F=.MKJC63~fQh/Mj/xNW$o@KO(EOQ2(gXY/##ixYsum.7v^ecRkqkES#(=/iQ5O@BXmPZ/l1gp5IUkOt3.Rea3sx9o+rBlz=&8)f$i*0~B#1Io<B&kKn?R3QF@OJUuglune*#CrB+sI>a^WCp0+i`Z%j.&Wngf!/qa4oILDRFyFXvn(#nHYX&)^U(.bil.1g!>W6ZgwqV$#TF6Uy3E0M6nC1!@19/mX,L<@1KY_liuxlFH3Fxfky)^N(`rKXw*OV@_s1+1oP<!8B*~@i/MXU.f()8NE4+,?9c@iwhz*Pb)MlL.^lDog~+4>rARxq8/ED2q8c,L7O08f+KAQsj/Ii^!,%I57+wAnGf&=I0nx$kUTx*o/bU~<m1$^.Yw+E~Y&OH+m)(Bx1bE(1`SSrs2CjebQReHekTM$aQ%E7IzGKEJQkkp3T,ai0B<A8)wjrn`@_Ga!0x6mO_GJ+bFuQFCF!(vF%>@K9(i.!SnZV&Z?5W8TDwcMN>)tuzh4gu+LbaQ~iyWd?KgdwENIizLniRFYf)Y4FC+PUMl<*k,$gryan6.zw!q!,fy@TS8bGti>Q9RwqdfE_Ay75+Z2r<#13s,NxLuU^zXN/_@8?Y3rMr2I%0#rxqp0i%BrEvh~`lwq0W6JJt+DP1AT(?~Q8~QHgIUiQrQQ*B,euVANpUMe36Fir9KO0bfR*W!&RHkEbDHFyFaC+/f+TlvR=s8IYVi*^ojk3B%HTo)@>pY?b~xN76uPhAoJt(K+q/X4gG,&dku.3TE<FVC#f(fv.JQ^5Ff49Vn=svo_`&eSDd&PM.d)n/U*1<f/0GVRD(TTvun>`h~@b=K4,kJ130`lR+OC1CW!sV6>1oL>,$gQCFe+i2VacNwOd,z~<zmrj,FeWjOMOdOE@ZiR6hdvZVka//~AgByZV#At.XxNY1V@stkc>md>R&iMX^dfnbhS32sS)yQ$`8rGy4C,@X~~*u_U1bb_2b<fKK*gx^ZpaBFj@#y_a$+q&X?Y!7Y62df?=GTL).t.S$qa7Vfrcym+v3gH>KFn^GC^&CbX.H&HnUcr2vERBnxtbozg5H293<R=j4!2c5gWZ&r*n1)#N0Kj_i=kT8,(MjztQ4TMr<HEQGexLC%sb%z5^%wNFWqrRcl_tW.k~dRzbT&EStlzfaz!.eCZug%@$9dG8<IRSXWZ@fHS(+W)8*Tp#Rh(mh?PlY=*8QL%S&GCXWxn@0U^C<IW~YQ!+cdC?6.E`,fPz)XSq0Wuj#XYrOSF4i)f6@wwGNoA>M6Ive`GG?h9lIWt4azsQCO4Vovqc5,`$eF(lXR2ll!,GThFPKaE=34RI@%&!F503ewXhuEPK2OcI8fZJ)sEuzsnd9*M>vdWGU4oDl9EqyI8)!<?UO2!b/tu=p1TZ4pS*FhhS5QH&^7#NYi+3@//Q$F.FtFK4?igPH^K_pRPcF1b2T!JP,QypUhhrg$XJNItK&eVW`w*y1&O43`kuuk=cPW.@g!8Ciu1g%~TUR>x?#qD_,CAmUHV%4s8BOAEW7gCXfusCGAdGO<CTn5Viy+RML<2FMhB6HTKGI~Kl``V@?L^Q2I)vM#+dsIif09zfXn+Q$gCSOp28>^nfbn^@5JpE@dIm%o`+nf^EJCW%>iRo.lAZ!GK,C.Xy`3wS3.A!o5uTte*AV+Wn?Ba6Jj4F7+NcL$NKa7.v5B0&zN_f0ULmpL3QhtdRHu~Qg>Jr*rHD+&F6kV1Nws%CrUKhsS,lP&AYoK14Qijd9?Q75IuGe+7&2`v&L*tP*CgbPNf2i839f0)DMF1(kA6VRTr%$2T7BwgfUw4sH<F%(D7eW5h+58ahJOIJ+^j7#Prg<Y!Q`qo`^+ygHkrw(?yA1C+!0+`G#`/E0n1Fdmd^*5n7o28_osC7t<5YPYDtRO&8#ibT0IlfP>D=p(o1vPA@`q?Fw9ir2>uw^mV8nvSv*$0XlGFAt/O~*+6F)m*fErSI6_yCxMSwL,9UCicLwok_,@Y*49f?%bg0Esud9SM+hMl>`L=F<P2YdRj`m?stZ_O,YWz~=?,AbV>1E,3pg<q`SNK&=)kQJGkwmW1bXhwBXE3i_c(2vbV1L<bYUIN(pBt/$EaQwZTWJ>4EeI,vhT=_/S,TK$<Xk8O6G.u");
n.send_reliable(peer, mess, channel);
}
void send_unreliable(uint peer, string mess, uint channel)
{
mess=string_encrypt(mess, "sxY?Pp,&D/wkW&S4VGLQtw<A+_^5pG#%>P64mi~48j_d$2*g#Y^f*KHu.eMbUCcVM(p#%s>9a%$t+)F@m#U1Pl4DSkxu^LQ<5()8)A%=pn)1NuUH)VFjg7z>fAX~e_mu#eLdk+PJqs2Y8`TvcIREiuHUtF1M^c,a,d9B4&&v=ODDo(,p9.nD8Tvo`,!3Wx$qnc=G.OVW(ojCO?mfxp6f/a0J~pYd.x~Z4R@`V,JC*jM1RMPcV_DE@j5<L<VIcbT9z,(,(t~7@^%EDLgUbiOeQswIzMn`Jbrv#KBSDIFT?yk?w9+DAr2D4Wr<km!OkL3_KJ(x#M2O(QEoK0u@3$Fr+z.aH2?68Y<X$vIe+Lgh#ObSWZulqZm%t`nk)EaA+@5Li0mQVK/&JV(PGU)Z$Ie=^xpgiGJau`o$Zf2~Nhdanzp^s4(qr0IDs!L!+aB$LiT#dywvLJnACcA`@FvY9$U=~lnQE,nOci^lBjCAEx/35!yn(r.RCC=nzbnw?MIiij&PpQ/`?N.g2!35^$zOCS(RjhRV<3>vU86L=%+75/g~1zH_MbzRGiY1j)oXR_`Fr58m*XaJKdDy&RexU%pV@6pRvC`DOSGo,,/LdtBnc0dLtlYk+#J5?I<sSW@O8x.yv.ViQD)/vfYYnDfy$cue?Nbz%Ps>^.+>)F=_dx<V4MzsMDuGdQujfw@VTv?>ZefSvfF0wq/gIK9HlnazjHX!jQL+gkZd%tDZrzF!#=S$budN5@94`@lt+<Y2?>BegcVi6>bLrxKl2N%=Q`JZw!P)etB65f)uNFZ*a=Q8?/DvvhP4<_Hsgh?g0m6uXe4ymr7&WqBK>cd)E.+KnctE<dC*8CVJuDNgbHOOrS7S0>$r)BGJq&z+2>$JDxoynv+rAtGN1zaxUG`t8hP(WSAi87,%c6.+`C!dgm@pNe1!fbThzF46(+W=JNpDIXZCJy953C4CC0akn7..SIGBF8xo9.VD&4bEy!b2FOWlYj^E?m>VNXdJUHh$opoGVI.yZzhFB&jRJfI@)&dv8GwoA.Ll9SV?1V<tVm~zc~<RQbD<Dmi=`nA?(HhIs2#M+seUYcq5rzTgtlkn5s@r@prb^vqII&.(Ejmm<X%~r3R+cV39gJM5,k5jW9WsWN%S4H0HKeb!dp/@&762=M*&#nVd?9%AUL.=E/Lmqb$S3B*pUpXC4)c?&Ohx>zz#_1c1w(z!e`Iv*TS>t.9,)aPo.p<3g@hu3)boWQDa7a$b&G2?/7D9vri6v&e)F%V~8eSL/mvens5b(D`PM&DaLzUXGUURTfuojuyKBUeRbCk!~<wL9h&kl25Ag6Z22Q7p9jQ2sFvetIn<OB#gO6#*7rt#FlCAidoqYQ.BKqp3rk(/11.4)d,c/H5kyGs*S8ihuoUp?H_T%*?g7ZOO._>adi~_9YEd@*O1D8+SZ1Cd~UF4icAp3PC~P,J.C0Aa=^fCD=cqqGm&N4d59GOOSm+sB/4FRwO6ifSAbK#!u!m#f.#LvPwMUMh%~i)QV(pm4oA/NIq!9M,2uvBM/xTm9?(5hof0i(#6*WCFdGxt~*8~)vXuEXh8klN+LL<1%#>f>$isiV7Tdj.I>r%b#b4ypX!NuLo`=gHa1W0JScfY%ie$Yf3rI/UYsPBOuWX)sHeeZa~(__^1n05~kAx=4+!je5^J~1df,OEIgK(gbLHL(t76r^wc/%9wr8Sz+rtm//Sf)@=y4M?@!Erk&9iSvuocZC*htqBw(rzJ6gh@iJlo68JL>J~>>L,Cqt(4cDsY#FiPRY`<s%q,Wd/F3Z4S^~oZ0p_(gV7+UKlNz/.(1@uZE&iDY+oM>!2uW&+9ra=ACkoTw#1DDy7FlA53iV?XC7r+YS9%NIoa+sQj2AF0IyRMcAH8J~S,y3Bp/eJH0#WC3AT>grJWA+(*eQu^YS~Z2=Vh_pn7y90?`HC?+0tsrL^DvofdWuAu`C+ic&A>R$HXF+_EyQDV!luHiKf`iN)m(jD5CQ9BF)%4A~ct2w=kc8SUPv$?gmIX9ay+Wk6+Rpr^X<2/F?k%j^eJa48ZN_Y=>hFPDS,yJ(.#)!3fYPu1ZX?JbU^Vcg6aDl7ojnqbo<ZtGSFF~wkjdi`W68aCQ/+NdxZ/#1Av&J6J$WVZIxK<sH)>4+QfK35VEWt1RQ!MsZp^5d)`ueV3f.I=9a03I)U5IG/a0F(j2nC?AoswTWt)4x1H@SS8f7WLAuhYO=Vr?D!s9vSU7RyfRI#J9@ZRG6odQ1pcE(s)G=^`ndo^N<qJT<C>6UCmT4D_%$/4O6`OYj`)!iBahx/mZu)K!ywW_#=zh,y_6UI9?fOk*d*aUrU,6!&G9EG+af,SJMS^cZZQ=@wv8Fd^IHf9byO^?ZeU!^>wW#A5a9p^Ds*SHC!rJ<<ro&yH8Zd~y1K8>sKPC/IFGER6S<yp7LZ&)/~x0CO3aTy)5@iQ5%c5J44J8!1(WH`*eI,9w,(L$DDesx#/6msAr9YGFmo+.sL`CHnk+OKjv/WqJ&HyIPh`ob6*@BrqhWb9RsnFvvGF<HU&.<Mr@*e8C+ii)I/uyp++Ow(MCH%I)9uzrOyDH@4QVW)d^~I0H~YPeJ&FcR@/yW3@UqFPY^F41OwQfOKxJ6>!bOC=$Q.5D8CLn/g!fa9uAzD5G_~4uE>nH!aZ<PK2>3QvhV3BkF&ysP@d+&/cc.bRN0iS!?fd#SI5GS((IBAyBJR_QJh^%v06u)Y/m,`yaKXu=s)V2vzFoD%8v42(`1AEG82LowwZnHMkJ,S`_5OS+yMOCAO>>OsWrKUL3Hq94LFTrccY59(#QIbwpPIbGfZ7uzv&@tTo@3fVGwHl($SFJpQ0npw7OS&@AfR.NuWc^4w0`DL&fPNgS!4_f@MM63X0/C3Y7aJy3Y.?Ofr7zL.*6j<jg7.j9~vBsrQNv51=S)azYFm_@f5~sU!nNkZsV0^ojFUS.v~SQ`dS8qFkMb42mDmx4.`o>HIFbP<&!qck0H,1G!>6uM.IA!=Hj_R2X)ih5s4mSlVIS1t%`0<E<i1>$G~#@IpXN~~^M5>,gobp_t+J^B)^oakhxf<W+6zo$1UaqX2QP80MohQd//%8#u<s!E!r?$#Su#!(OD<w)v<*l5_K<4B<M7zmE<QS2Q#Dpi9*X4vDg7zB.RYH&j.%_i5<&@%3gEO&9*RvG8xbWqF63b9p4~X$+rjOQMlT,8OG2)96xpBJSmg<QBBZ9*FCKxidY%5JWPyJ0zKQCj8sK^vA(I(mmqDnzRk~r>2o~/TAhCbX.t57a!!As&D06v%dL<%X^WbMw#LNOLldDyJ@w9v58&ccT2<jg+!@fCBP@cU,_+aCfgAy,b`st~Xz1EH?02#$QB@LP=,F>=ECKn$aJ2~~b@B?l`5,3MtpZ^E#nHjTDoLA0JIr2CrgTVddTeMUZce?jFH*G$K1+Jk@$s9~rW/jSen`ryn?teNUq%%j9<M3apJ5Bz)R4#EEaL$t5qQ4@6!>yN?tOOp9t9n2pNe/V=4i~JK)3Zgust7!VV.8GFFiR&&GT>Bx*@Q>=,/Wm$TQhyiQq.2.a(ahS%``w21Z9EsOZ>/qdy=.~N&lUaYj<w3,!jxr1uWz4KCP%4YkoAVF%&EAn.ihCOpyPIKDYRSv*+%qr7XB/3_V,qO1g(o`VaM8#9_ISmrQO<j`gSCjRcOSLUrGJF4C=CQs5O/VZ^/4%i~(32D@Vl0gTzvsTA+UF>(ntSfzq9vMD.&QqR%,Q@IJRbG.2Dko7qcilolc$l)~uqwF?bCitDgGpSVBqFYQU._6/gfK8pszrhoVbU#8^lIHCI(*dS=VT?UYsJ>xz8>y*o3q807DPjXEV!Uf=Sk!o~Qg77vX)6Pmys3r_j.ux^f7mirMT,919Tm7NO8lVvOC9S?PFkSS,H`?jL_o)@=A)B~n^OtWkAvbM)#vC?y%HEM>nHWQ$aoU>$(m?pFbl77g%3qaHRCKKMoB*Pz(~)Q606`Aq>h,=F#`m,0XZ@,83Ct@&7jFT7g*Y!J^IP.sCUFR>mT+HeXHz=6NF4F(~3>2i3_5(3?9CuX4=!n.BUrpFZZVtA.uMf>*bvTv1a9L(3xS5TE$a0QwJ$T,KjxQUt`GDSYrSIT~4qy.2NjVGn4(bY^!%yvK!7XbxnG*e5*A,_zKD@~QXnv!Bkz9@tlp#/V+fRfpKZD(&MFE4B1ZLcz~0LR&a9oFXJdlT71Wmx#=DnaYKZX(=tAb(&+fKIu)P2D?JkyLRlh8UivcYdVVof~m%G,gibX>xh*LW/Td1VeH4IqIZX4EX7O3Kv@eH2MXfD7k4N/#DEyu3zwOaLgz3Zq7=ODik7YAycK(o/$30FQ#GzldA/$KW?@>/OCR9kV*SVbMGgIU6_o_r8LPlvUy*jH=<jQ*_suBElB#A,@G?5I<Nin/ZS5O0>7mz(PsMfZPjq+<g9m2C=2mbdK$v6ArIkkVLeZEK(Ca/sR10PJ^XZ?<fSk^fZa1<c#+$,g<P5k<3m3,JeOMx2h<`R9hiM>V#bV^d<6UQ=R*6`QIl*DHaMVt$cta%5WLcO?>0<Xm&F(Sp#.&jZ7jTZ>cq+hmIKzo6)FH6X^fMMv_LJII?G8iKtlRVz.%*^1lw_?vn$G@JDz0>!XPOS5@!bkt(KmyGHsPUpTxM2H)1sDW!*0md9`aY!&@Zr52QL7aSr,!!21ygq3u5Mmvj1N9FCBUr##<cwiJtP<?l%jz5)bEOD99<iISLZ!R@8yI~fFzZd=<e@5S<C_$sX^(IB<4ldxabsPETAeHkVW?.X.D@7M.cFZz74>+3g4a23KSgPT3PJO/fux?ZZK_@Z>lef(JC^?h#F~ZFJ3_,Fi>ZK#j+L_XR)mWKy`X0CAX&K*P7Aw`(2tv)N=a.jg@H2%nS_?u+ezVKt0of@4Is0K$LE#Y@%gvaIa8zx?ZN(W9gd+!(VJ$ZN^M?l!sKAM&5fMZE1(=ya0G4DaVh+e)KMRT/f_g?=?EK=N8(>fQ)z*epvG*(Ia9%$`K^*90UIU)&Pt*@XSCr7,b6oA1&PUlWvLtjej<keTAnjbdjG%fYQrl@`gV.x@L@(9&?Q<K_0De,#.GIs>5=o!OE2$#A8*,xr^)*@bgM43)V4#Y!=wR?$)hvL8iZ?8k6=Oz#uw!jV&$jNq0+Pwe4p`x3*XmyouU/LI~@onEEw!d(M#H<pq<8WHFBz79juQ^NHnPt5VP8*dG0B19j./W#.iCo*KvpNOzU&v0ccLV?Z>qY42v3UApJxSIXTOcaAM>#@>6FUixoY_psVOlSk4GPc?l$/J%2K9Ol<8CVBTiuR>z2e,GGlb!~VI5#mGoiTLmB>q2s>dG.)pR_1uzWjSws.#f^NJ&V%QAXE!DfcFj<WLV,Bz!_Oh9,1yx&/&EU)WPq@W1TCNY8ug,iWV38Q?q!*Uo0oDvzsrLnnho0/26C&p61=,QgYgmGnl<y(m(##Z$y)bB$~Ezq&g&TFq7I@<t(y=F<uWsJm<Pn6AWBjipfA/a4CEl?zMf$Ku)j+?Hk<rD#ehCv(ZQrNb@&)H&<(CAgq^qr0<2.#.rS%tZ+I7KWbIll`+/`cvOtM=6y9_C7h2x5qZ8>pzIGQ(wd)xR_^OjtV,?^!=G3,l4&g.L?Rb.=$A_xtco9y_#MkZfC`WqbpLyG^R)aK=c(WB*bUPSSas3ONZpNF<_A8!5m##y1O2a&3Va`jMGnn~K329XsR*UI/G3vaEm^Z?KBk2mGei6ADfA%s)%2qtn((Jr&@~.U_/nESPeVWKF20pnwOD!z2g=3fF*%mwJlil+c)Q!`iXOyDjIy<8GM%)knm@>9#/,g4Hv$fizjm6NQ9l.*8QKD^DO7iy4ovWX28$Ac.ik/&igzY)%qvd=UcT9HUhqPtT/21?>(*yI2SLS0KGwy%!e*4l<kofR$y7Hak3cwhUH(/dIzSQcdV8Ql^pyCo8Zf!#+BX0Rr>dzGAQa%KOk+jK0,cNELv0mBFCJnJKhbg6MA?(.Z*ebjf*VBjjl&<$tfC02re#8.A.#WDU,ya7XFtGD.6bi>u))y=+~+HDd@CVXvT%CWo0=mQ.W3cNF_(wHm8nt+bF)nbI^e%n,UcU/ul`ovn,X=L=f$8Ze%pl<v`)V4aaq3_,y,3G=QO,/E+I+=)9hQJi?cqJkkAU!!zoDzkVdfUYV_l%&8CjWRto`Xmq6XNF0eOYF&VcW9ZS1hM*xX`+nRohn<J*C)k(^(.<=frvkUvH>(H!4cL.5Cr!vbK?mSSdbKHnl,wdCbNup*^3)f,=XC+EwyJo5MkJA&)zYcuPG#*Lp!,NH/u$2u5C,Cw=3>w~AWK1C.FAdMpcx?R~RXsj32noa_JK>!yKi,FK/lnAdfTwRupT)9YL+J>^E>O&@J2hDF/EXXU,>J@(E^m8?8.kMS,_1x`N^L+e`1Mymr1GkYWv$5g`HM(y/4TzmTzHt&Cs^ZAj)2OWmN4G/DXP5p`j(~vrYum<zN5U0i5q>KTFW%0j)m.27J$d#MY(Q<72mk(*AvGh?T7.kExVMk@C<AIm)k.QG&wun3G~H+Nj^2F=.MKJC63~fQh/Mj/xNW$o@KO(EOQ2(gXY/##ixYsum.7v^ecRkqkES#(=/iQ5O@BXmPZ/l1gp5IUkOt3.Rea3sx9o+rBlz=&8)f$i*0~B#1Io<B&kKn?R3QF@OJUuglune*#CrB+sI>a^WCp0+i`Z%j.&Wngf!/qa4oILDRFyFXvn(#nHYX&)^U(.bil.1g!>W6ZgwqV$#TF6Uy3E0M6nC1!@19/mX,L<@1KY_liuxlFH3Fxfky)^N(`rKXw*OV@_s1+1oP<!8B*~@i/MXU.f()8NE4+,?9c@iwhz*Pb)MlL.^lDog~+4>rARxq8/ED2q8c,L7O08f+KAQsj/Ii^!,%I57+wAnGf&=I0nx$kUTx*o/bU~<m1$^.Yw+E~Y&OH+m)(Bx1bE(1`SSrs2CjebQReHekTM$aQ%E7IzGKEJQkkp3T,ai0B<A8)wjrn`@_Ga!0x6mO_GJ+bFuQFCF!(vF%>@K9(i.!SnZV&Z?5W8TDwcMN>)tuzh4gu+LbaQ~iyWd?KgdwENIizLniRFYf)Y4FC+PUMl<*k,$gryan6.zw!q!,fy@TS8bGti>Q9RwqdfE_Ay75+Z2r<#13s,NxLuU^zXN/_@8?Y3rMr2I%0#rxqp0i%BrEvh~`lwq0W6JJt+DP1AT(?~Q8~QHgIUiQrQQ*B,euVANpUMe36Fir9KO0bfR*W!&RHkEbDHFyFaC+/f+TlvR=s8IYVi*^ojk3B%HTo)@>pY?b~xN76uPhAoJt(K+q/X4gG,&dku.3TE<FVC#f(fv.JQ^5Ff49Vn=svo_`&eSDd&PM.d)n/U*1<f/0GVRD(TTvun>`h~@b=K4,kJ130`lR+OC1CW!sV6>1oL>,$gQCFe+i2VacNwOd,z~<zmrj,FeWjOMOdOE@ZiR6hdvZVka//~AgByZV#At.XxNY1V@stkc>md>R&iMX^dfnbhS32sS)yQ$`8rGy4C,@X~~*u_U1bb_2b<fKK*gx^ZpaBFj@#y_a$+q&X?Y!7Y62df?=GTL).t.S$qa7Vfrcym+v3gH>KFn^GC^&CbX.H&HnUcr2vERBnxtbozg5H293<R=j4!2c5gWZ&r*n1)#N0Kj_i=kT8,(MjztQ4TMr<HEQGexLC%sb%z5^%wNFWqrRcl_tW.k~dRzbT&EStlzfaz!.eCZug%@$9dG8<IRSXWZ@fHS(+W)8*Tp#Rh(mh?PlY=*8QL%S&GCXWxn@0U^C<IW~YQ!+cdC?6.E`,fPz)XSq0Wuj#XYrOSF4i)f6@wwGNoA>M6Ive`GG?h9lIWt4azsQCO4Vovqc5,`$eF(lXR2ll!,GThFPKaE=34RI@%&!F503ewXhuEPK2OcI8fZJ)sEuzsnd9*M>vdWGU4oDl9EqyI8)!<?UO2!b/tu=p1TZ4pS*FhhS5QH&^7#NYi+3@//Q$F.FtFK4?igPH^K_pRPcF1b2T!JP,QypUhhrg$XJNItK&eVW`w*y1&O43`kuuk=cPW.@g!8Ciu1g%~TUR>x?#qD_,CAmUHV%4s8BOAEW7gCXfusCGAdGO<CTn5Viy+RML<2FMhB6HTKGI~Kl``V@?L^Q2I)vM#+dsIif09zfXn+Q$gCSOp28>^nfbn^@5JpE@dIm%o`+nf^EJCW%>iRo.lAZ!GK,C.Xy`3wS3.A!o5uTte*AV+Wn?Ba6Jj4F7+NcL$NKa7.v5B0&zN_f0ULmpL3QhtdRHu~Qg>Jr*rHD+&F6kV1Nws%CrUKhsS,lP&AYoK14Qijd9?Q75IuGe+7&2`v&L*tP*CgbPNf2i839f0)DMF1(kA6VRTr%$2T7BwgfUw4sH<F%(D7eW5h+58ahJOIJ+^j7#Prg<Y!Q`qo`^+ygHkrw(?yA1C+!0+`G#`/E0n1Fdmd^*5n7o28_osC7t<5YPYDtRO&8#ibT0IlfP>D=p(o1vPA@`q?Fw9ir2>uw^mV8nvSv*$0XlGFAt/O~*+6F)m*fErSI6_yCxMSwL,9UCicLwok_,@Y*49f?%bg0Esud9SM+hMl>`L=F<P2YdRj`m?stZ_O,YWz~=?,AbV>1E,3pg<q`SNK&=)kQJGkwmW1bXhwBXE3i_c(2vbV1L<bYUIN(pBt/$EaQwZTWJ>4EeI,vhT=_/S,TK$<Xk8O6G.u");
n.send_reliable(peer, mess, channel);
}
void send_reliable(player@p, string mess, uint channel)
{
mess=string_encrypt(mess, "sxY?Pp,&D/wkW&S4VGLQtw<A+_^5pG#%>P64mi~48j_d$2*g#Y^f*KHu.eMbUCcVM(p#%s>9a%$t+)F@m#U1Pl4DSkxu^LQ<5()8)A%=pn)1NuUH)VFjg7z>fAX~e_mu#eLdk+PJqs2Y8`TvcIREiuHUtF1M^c,a,d9B4&&v=ODDo(,p9.nD8Tvo`,!3Wx$qnc=G.OVW(ojCO?mfxp6f/a0J~pYd.x~Z4R@`V,JC*jM1RMPcV_DE@j5<L<VIcbT9z,(,(t~7@^%EDLgUbiOeQswIzMn`Jbrv#KBSDIFT?yk?w9+DAr2D4Wr<km!OkL3_KJ(x#M2O(QEoK0u@3$Fr+z.aH2?68Y<X$vIe+Lgh#ObSWZulqZm%t`nk)EaA+@5Li0mQVK/&JV(PGU)Z$Ie=^xpgiGJau`o$Zf2~Nhdanzp^s4(qr0IDs!L!+aB$LiT#dywvLJnACcA`@FvY9$U=~lnQE,nOci^lBjCAEx/35!yn(r.RCC=nzbnw?MIiij&PpQ/`?N.g2!35^$zOCS(RjhRV<3>vU86L=%+75/g~1zH_MbzRGiY1j)oXR_`Fr58m*XaJKdDy&RexU%pV@6pRvC`DOSGo,,/LdtBnc0dLtlYk+#J5?I<sSW@O8x.yv.ViQD)/vfYYnDfy$cue?Nbz%Ps>^.+>)F=_dx<V4MzsMDuGdQujfw@VTv?>ZefSvfF0wq/gIK9HlnazjHX!jQL+gkZd%tDZrzF!#=S$budN5@94`@lt+<Y2?>BegcVi6>bLrxKl2N%=Q`JZw!P)etB65f)uNFZ*a=Q8?/DvvhP4<_Hsgh?g0m6uXe4ymr7&WqBK>cd)E.+KnctE<dC*8CVJuDNgbHOOrS7S0>$r)BGJq&z+2>$JDxoynv+rAtGN1zaxUG`t8hP(WSAi87,%c6.+`C!dgm@pNe1!fbThzF46(+W=JNpDIXZCJy953C4CC0akn7..SIGBF8xo9.VD&4bEy!b2FOWlYj^E?m>VNXdJUHh$opoGVI.yZzhFB&jRJfI@)&dv8GwoA.Ll9SV?1V<tVm~zc~<RQbD<Dmi=`nA?(HhIs2#M+seUYcq5rzTgtlkn5s@r@prb^vqII&.(Ejmm<X%~r3R+cV39gJM5,k5jW9WsWN%S4H0HKeb!dp/@&762=M*&#nVd?9%AUL.=E/Lmqb$S3B*pUpXC4)c?&Ohx>zz#_1c1w(z!e`Iv*TS>t.9,)aPo.p<3g@hu3)boWQDa7a$b&G2?/7D9vri6v&e)F%V~8eSL/mvens5b(D`PM&DaLzUXGUURTfuojuyKBUeRbCk!~<wL9h&kl25Ag6Z22Q7p9jQ2sFvetIn<OB#gO6#*7rt#FlCAidoqYQ.BKqp3rk(/11.4)d,c/H5kyGs*S8ihuoUp?H_T%*?g7ZOO._>adi~_9YEd@*O1D8+SZ1Cd~UF4icAp3PC~P,J.C0Aa=^fCD=cqqGm&N4d59GOOSm+sB/4FRwO6ifSAbK#!u!m#f.#LvPwMUMh%~i)QV(pm4oA/NIq!9M,2uvBM/xTm9?(5hof0i(#6*WCFdGxt~*8~)vXuEXh8klN+LL<1%#>f>$isiV7Tdj.I>r%b#b4ypX!NuLo`=gHa1W0JScfY%ie$Yf3rI/UYsPBOuWX)sHeeZa~(__^1n05~kAx=4+!je5^J~1df,OEIgK(gbLHL(t76r^wc/%9wr8Sz+rtm//Sf)@=y4M?@!Erk&9iSvuocZC*htqBw(rzJ6gh@iJlo68JL>J~>>L,Cqt(4cDsY#FiPRY`<s%q,Wd/F3Z4S^~oZ0p_(gV7+UKlNz/.(1@uZE&iDY+oM>!2uW&+9ra=ACkoTw#1DDy7FlA53iV?XC7r+YS9%NIoa+sQj2AF0IyRMcAH8J~S,y3Bp/eJH0#WC3AT>grJWA+(*eQu^YS~Z2=Vh_pn7y90?`HC?+0tsrL^DvofdWuAu`C+ic&A>R$HXF+_EyQDV!luHiKf`iN)m(jD5CQ9BF)%4A~ct2w=kc8SUPv$?gmIX9ay+Wk6+Rpr^X<2/F?k%j^eJa48ZN_Y=>hFPDS,yJ(.#)!3fYPu1ZX?JbU^Vcg6aDl7ojnqbo<ZtGSFF~wkjdi`W68aCQ/+NdxZ/#1Av&J6J$WVZIxK<sH)>4+QfK35VEWt1RQ!MsZp^5d)`ueV3f.I=9a03I)U5IG/a0F(j2nC?AoswTWt)4x1H@SS8f7WLAuhYO=Vr?D!s9vSU7RyfRI#J9@ZRG6odQ1pcE(s)G=^`ndo^N<qJT<C>6UCmT4D_%$/4O6`OYj`)!iBahx/mZu)K!ywW_#=zh,y_6UI9?fOk*d*aUrU,6!&G9EG+af,SJMS^cZZQ=@wv8Fd^IHf9byO^?ZeU!^>wW#A5a9p^Ds*SHC!rJ<<ro&yH8Zd~y1K8>sKPC/IFGER6S<yp7LZ&)/~x0CO3aTy)5@iQ5%c5J44J8!1(WH`*eI,9w,(L$DDesx#/6msAr9YGFmo+.sL`CHnk+OKjv/WqJ&HyIPh`ob6*@BrqhWb9RsnFvvGF<HU&.<Mr@*e8C+ii)I/uyp++Ow(MCH%I)9uzrOyDH@4QVW)d^~I0H~YPeJ&FcR@/yW3@UqFPY^F41OwQfOKxJ6>!bOC=$Q.5D8CLn/g!fa9uAzD5G_~4uE>nH!aZ<PK2>3QvhV3BkF&ysP@d+&/cc.bRN0iS!?fd#SI5GS((IBAyBJR_QJh^%v06u)Y/m,`yaKXu=s)V2vzFoD%8v42(`1AEG82LowwZnHMkJ,S`_5OS+yMOCAO>>OsWrKUL3Hq94LFTrccY59(#QIbwpPIbGfZ7uzv&@tTo@3fVGwHl($SFJpQ0npw7OS&@AfR.NuWc^4w0`DL&fPNgS!4_f@MM63X0/C3Y7aJy3Y.?Ofr7zL.*6j<jg7.j9~vBsrQNv51=S)azYFm_@f5~sU!nNkZsV0^ojFUS.v~SQ`dS8qFkMb42mDmx4.`o>HIFbP<&!qck0H,1G!>6uM.IA!=Hj_R2X)ih5s4mSlVIS1t%`0<E<i1>$G~#@IpXN~~^M5>,gobp_t+J^B)^oakhxf<W+6zo$1UaqX2QP80MohQd//%8#u<s!E!r?$#Su#!(OD<w)v<*l5_K<4B<M7zmE<QS2Q#Dpi9*X4vDg7zB.RYH&j.%_i5<&@%3gEO&9*RvG8xbWqF63b9p4~X$+rjOQMlT,8OG2)96xpBJSmg<QBBZ9*FCKxidY%5JWPyJ0zKQCj8sK^vA(I(mmqDnzRk~r>2o~/TAhCbX.t57a!!As&D06v%dL<%X^WbMw#LNOLldDyJ@w9v58&ccT2<jg+!@fCBP@cU,_+aCfgAy,b`st~Xz1EH?02#$QB@LP=,F>=ECKn$aJ2~~b@B?l`5,3MtpZ^E#nHjTDoLA0JIr2CrgTVddTeMUZce?jFH*G$K1+Jk@$s9~rW/jSen`ryn?teNUq%%j9<M3apJ5Bz)R4#EEaL$t5qQ4@6!>yN?tOOp9t9n2pNe/V=4i~JK)3Zgust7!VV.8GFFiR&&GT>Bx*@Q>=,/Wm$TQhyiQq.2.a(ahS%``w21Z9EsOZ>/qdy=.~N&lUaYj<w3,!jxr1uWz4KCP%4YkoAVF%&EAn.ihCOpyPIKDYRSv*+%qr7XB/3_V,qO1g(o`VaM8#9_ISmrQO<j`gSCjRcOSLUrGJF4C=CQs5O/VZ^/4%i~(32D@Vl0gTzvsTA+UF>(ntSfzq9vMD.&QqR%,Q@IJRbG.2Dko7qcilolc$l)~uqwF?bCitDgGpSVBqFYQU._6/gfK8pszrhoVbU#8^lIHCI(*dS=VT?UYsJ>xz8>y*o3q807DPjXEV!Uf=Sk!o~Qg77vX)6Pmys3r_j.ux^f7mirMT,919Tm7NO8lVvOC9S?PFkSS,H`?jL_o)@=A)B~n^OtWkAvbM)#vC?y%HEM>nHWQ$aoU>$(m?pFbl77g%3qaHRCKKMoB*Pz(~)Q606`Aq>h,=F#`m,0XZ@,83Ct@&7jFT7g*Y!J^IP.sCUFR>mT+HeXHz=6NF4F(~3>2i3_5(3?9CuX4=!n.BUrpFZZVtA.uMf>*bvTv1a9L(3xS5TE$a0QwJ$T,KjxQUt`GDSYrSIT~4qy.2NjVGn4(bY^!%yvK!7XbxnG*e5*A,_zKD@~QXnv!Bkz9@tlp#/V+fRfpKZD(&MFE4B1ZLcz~0LR&a9oFXJdlT71Wmx#=DnaYKZX(=tAb(&+fKIu)P2D?JkyLRlh8UivcYdVVof~m%G,gibX>xh*LW/Td1VeH4IqIZX4EX7O3Kv@eH2MXfD7k4N/#DEyu3zwOaLgz3Zq7=ODik7YAycK(o/$30FQ#GzldA/$KW?@>/OCR9kV*SVbMGgIU6_o_r8LPlvUy*jH=<jQ*_suBElB#A,@G?5I<Nin/ZS5O0>7mz(PsMfZPjq+<g9m2C=2mbdK$v6ArIkkVLeZEK(Ca/sR10PJ^XZ?<fSk^fZa1<c#+$,g<P5k<3m3,JeOMx2h<`R9hiM>V#bV^d<6UQ=R*6`QIl*DHaMVt$cta%5WLcO?>0<Xm&F(Sp#.&jZ7jTZ>cq+hmIKzo6)FH6X^fMMv_LJII?G8iKtlRVz.%*^1lw_?vn$G@JDz0>!XPOS5@!bkt(KmyGHsPUpTxM2H)1sDW!*0md9`aY!&@Zr52QL7aSr,!!21ygq3u5Mmvj1N9FCBUr##<cwiJtP<?l%jz5)bEOD99<iISLZ!R@8yI~fFzZd=<e@5S<C_$sX^(IB<4ldxabsPETAeHkVW?.X.D@7M.cFZz74>+3g4a23KSgPT3PJO/fux?ZZK_@Z>lef(JC^?h#F~ZFJ3_,Fi>ZK#j+L_XR)mWKy`X0CAX&K*P7Aw`(2tv)N=a.jg@H2%nS_?u+ezVKt0of@4Is0K$LE#Y@%gvaIa8zx?ZN(W9gd+!(VJ$ZN^M?l!sKAM&5fMZE1(=ya0G4DaVh+e)KMRT/f_g?=?EK=N8(>fQ)z*epvG*(Ia9%$`K^*90UIU)&Pt*@XSCr7,b6oA1&PUlWvLtjej<keTAnjbdjG%fYQrl@`gV.x@L@(9&?Q<K_0De,#.GIs>5=o!OE2$#A8*,xr^)*@bgM43)V4#Y!=wR?$)hvL8iZ?8k6=Oz#uw!jV&$jNq0+Pwe4p`x3*XmyouU/LI~@onEEw!d(M#H<pq<8WHFBz79juQ^NHnPt5VP8*dG0B19j./W#.iCo*KvpNOzU&v0ccLV?Z>qY42v3UApJxSIXTOcaAM>#@>6FUixoY_psVOlSk4GPc?l$/J%2K9Ol<8CVBTiuR>z2e,GGlb!~VI5#mGoiTLmB>q2s>dG.)pR_1uzWjSws.#f^NJ&V%QAXE!DfcFj<WLV,Bz!_Oh9,1yx&/&EU)WPq@W1TCNY8ug,iWV38Q?q!*Uo0oDvzsrLnnho0/26C&p61=,QgYgmGnl<y(m(##Z$y)bB$~Ezq&g&TFq7I@<t(y=F<uWsJm<Pn6AWBjipfA/a4CEl?zMf$Ku)j+?Hk<rD#ehCv(ZQrNb@&)H&<(CAgq^qr0<2.#.rS%tZ+I7KWbIll`+/`cvOtM=6y9_C7h2x5qZ8>pzIGQ(wd)xR_^OjtV,?^!=G3,l4&g.L?Rb.=$A_xtco9y_#MkZfC`WqbpLyG^R)aK=c(WB*bUPSSas3ONZpNF<_A8!5m##y1O2a&3Va`jMGnn~K329XsR*UI/G3vaEm^Z?KBk2mGei6ADfA%s)%2qtn((Jr&@~.U_/nESPeVWKF20pnwOD!z2g=3fF*%mwJlil+c)Q!`iXOyDjIy<8GM%)knm@>9#/,g4Hv$fizjm6NQ9l.*8QKD^DO7iy4ovWX28$Ac.ik/&igzY)%qvd=UcT9HUhqPtT/21?>(*yI2SLS0KGwy%!e*4l<kofR$y7Hak3cwhUH(/dIzSQcdV8Ql^pyCo8Zf!#+BX0Rr>dzGAQa%KOk+jK0,cNELv0mBFCJnJKhbg6MA?(.Z*ebjf*VBjjl&<$tfC02re#8.A.#WDU,ya7XFtGD.6bi>u))y=+~+HDd@CVXvT%CWo0=mQ.W3cNF_(wHm8nt+bF)nbI^e%n,UcU/ul`ovn,X=L=f$8Ze%pl<v`)V4aaq3_,y,3G=QO,/E+I+=)9hQJi?cqJkkAU!!zoDzkVdfUYV_l%&8CjWRto`Xmq6XNF0eOYF&VcW9ZS1hM*xX`+nRohn<J*C)k(^(.<=frvkUvH>(H!4cL.5Cr!vbK?mSSdbKHnl,wdCbNup*^3)f,=XC+EwyJo5MkJA&)zYcuPG#*Lp!,NH/u$2u5C,Cw=3>w~AWK1C.FAdMpcx?R~RXsj32noa_JK>!yKi,FK/lnAdfTwRupT)9YL+J>^E>O&@J2hDF/EXXU,>J@(E^m8?8.kMS,_1x`N^L+e`1Mymr1GkYWv$5g`HM(y/4TzmTzHt&Cs^ZAj)2OWmN4G/DXP5p`j(~vrYum<zN5U0i5q>KTFW%0j)m.27J$d#MY(Q<72mk(*AvGh?T7.kExVMk@C<AIm)k.QG&wun3G~H+Nj^2F=.MKJC63~fQh/Mj/xNW$o@KO(EOQ2(gXY/##ixYsum.7v^ecRkqkES#(=/iQ5O@BXmPZ/l1gp5IUkOt3.Rea3sx9o+rBlz=&8)f$i*0~B#1Io<B&kKn?R3QF@OJUuglune*#CrB+sI>a^WCp0+i`Z%j.&Wngf!/qa4oILDRFyFXvn(#nHYX&)^U(.bil.1g!>W6ZgwqV$#TF6Uy3E0M6nC1!@19/mX,L<@1KY_liuxlFH3Fxfky)^N(`rKXw*OV@_s1+1oP<!8B*~@i/MXU.f()8NE4+,?9c@iwhz*Pb)MlL.^lDog~+4>rARxq8/ED2q8c,L7O08f+KAQsj/Ii^!,%I57+wAnGf&=I0nx$kUTx*o/bU~<m1$^.Yw+E~Y&OH+m)(Bx1bE(1`SSrs2CjebQReHekTM$aQ%E7IzGKEJQkkp3T,ai0B<A8)wjrn`@_Ga!0x6mO_GJ+bFuQFCF!(vF%>@K9(i.!SnZV&Z?5W8TDwcMN>)tuzh4gu+LbaQ~iyWd?KgdwENIizLniRFYf)Y4FC+PUMl<*k,$gryan6.zw!q!,fy@TS8bGti>Q9RwqdfE_Ay75+Z2r<#13s,NxLuU^zXN/_@8?Y3rMr2I%0#rxqp0i%BrEvh~`lwq0W6JJt+DP1AT(?~Q8~QHgIUiQrQQ*B,euVANpUMe36Fir9KO0bfR*W!&RHkEbDHFyFaC+/f+TlvR=s8IYVi*^ojk3B%HTo)@>pY?b~xN76uPhAoJt(K+q/X4gG,&dku.3TE<FVC#f(fv.JQ^5Ff49Vn=svo_`&eSDd&PM.d)n/U*1<f/0GVRD(TTvun>`h~@b=K4,kJ130`lR+OC1CW!sV6>1oL>,$gQCFe+i2VacNwOd,z~<zmrj,FeWjOMOdOE@ZiR6hdvZVka//~AgByZV#At.XxNY1V@stkc>md>R&iMX^dfnbhS32sS)yQ$`8rGy4C,@X~~*u_U1bb_2b<fKK*gx^ZpaBFj@#y_a$+q&X?Y!7Y62df?=GTL).t.S$qa7Vfrcym+v3gH>KFn^GC^&CbX.H&HnUcr2vERBnxtbozg5H293<R=j4!2c5gWZ&r*n1)#N0Kj_i=kT8,(MjztQ4TMr<HEQGexLC%sb%z5^%wNFWqrRcl_tW.k~dRzbT&EStlzfaz!.eCZug%@$9dG8<IRSXWZ@fHS(+W)8*Tp#Rh(mh?PlY=*8QL%S&GCXWxn@0U^C<IW~YQ!+cdC?6.E`,fPz)XSq0Wuj#XYrOSF4i)f6@wwGNoA>M6Ive`GG?h9lIWt4azsQCO4Vovqc5,`$eF(lXR2ll!,GThFPKaE=34RI@%&!F503ewXhuEPK2OcI8fZJ)sEuzsnd9*M>vdWGU4oDl9EqyI8)!<?UO2!b/tu=p1TZ4pS*FhhS5QH&^7#NYi+3@//Q$F.FtFK4?igPH^K_pRPcF1b2T!JP,QypUhhrg$XJNItK&eVW`w*y1&O43`kuuk=cPW.@g!8Ciu1g%~TUR>x?#qD_,CAmUHV%4s8BOAEW7gCXfusCGAdGO<CTn5Viy+RML<2FMhB6HTKGI~Kl``V@?L^Q2I)vM#+dsIif09zfXn+Q$gCSOp28>^nfbn^@5JpE@dIm%o`+nf^EJCW%>iRo.lAZ!GK,C.Xy`3wS3.A!o5uTte*AV+Wn?Ba6Jj4F7+NcL$NKa7.v5B0&zN_f0ULmpL3QhtdRHu~Qg>Jr*rHD+&F6kV1Nws%CrUKhsS,lP&AYoK14Qijd9?Q75IuGe+7&2`v&L*tP*CgbPNf2i839f0)DMF1(kA6VRTr%$2T7BwgfUw4sH<F%(D7eW5h+58ahJOIJ+^j7#Prg<Y!Q`qo`^+ygHkrw(?yA1C+!0+`G#`/E0n1Fdmd^*5n7o28_osC7t<5YPYDtRO&8#ibT0IlfP>D=p(o1vPA@`q?Fw9ir2>uw^mV8nvSv*$0XlGFAt/O~*+6F)m*fErSI6_yCxMSwL,9UCicLwok_,@Y*49f?%bg0Esud9SM+hMl>`L=F<P2YdRj`m?stZ_O,YWz~=?,AbV>1E,3pg<q`SNK&=)kQJGkwmW1bXhwBXE3i_c(2vbV1L<bYUIN(pBt/$EaQwZTWJ>4EeI,vhT=_/S,TK$<Xk8O6G.u");
n.send_reliable(p.peer_id, mess, channel);
}
void send_unreliable(player@p, string mess, uint channel)
{
mess=string_encrypt(mess, "sxY?Pp,&D/wkW&S4VGLQtw<A+_^5pG#%>P64mi~48j_d$2*g#Y^f*KHu.eMbUCcVM(p#%s>9a%$t+)F@m#U1Pl4DSkxu^LQ<5()8)A%=pn)1NuUH)VFjg7z>fAX~e_mu#eLdk+PJqs2Y8`TvcIREiuHUtF1M^c,a,d9B4&&v=ODDo(,p9.nD8Tvo`,!3Wx$qnc=G.OVW(ojCO?mfxp6f/a0J~pYd.x~Z4R@`V,JC*jM1RMPcV_DE@j5<L<VIcbT9z,(,(t~7@^%EDLgUbiOeQswIzMn`Jbrv#KBSDIFT?yk?w9+DAr2D4Wr<km!OkL3_KJ(x#M2O(QEoK0u@3$Fr+z.aH2?68Y<X$vIe+Lgh#ObSWZulqZm%t`nk)EaA+@5Li0mQVK/&JV(PGU)Z$Ie=^xpgiGJau`o$Zf2~Nhdanzp^s4(qr0IDs!L!+aB$LiT#dywvLJnACcA`@FvY9$U=~lnQE,nOci^lBjCAEx/35!yn(r.RCC=nzbnw?MIiij&PpQ/`?N.g2!35^$zOCS(RjhRV<3>vU86L=%+75/g~1zH_MbzRGiY1j)oXR_`Fr58m*XaJKdDy&RexU%pV@6pRvC`DOSGo,,/LdtBnc0dLtlYk+#J5?I<sSW@O8x.yv.ViQD)/vfYYnDfy$cue?Nbz%Ps>^.+>)F=_dx<V4MzsMDuGdQujfw@VTv?>ZefSvfF0wq/gIK9HlnazjHX!jQL+gkZd%tDZrzF!#=S$budN5@94`@lt+<Y2?>BegcVi6>bLrxKl2N%=Q`JZw!P)etB65f)uNFZ*a=Q8?/DvvhP4<_Hsgh?g0m6uXe4ymr7&WqBK>cd)E.+KnctE<dC*8CVJuDNgbHOOrS7S0>$r)BGJq&z+2>$JDxoynv+rAtGN1zaxUG`t8hP(WSAi87,%c6.+`C!dgm@pNe1!fbThzF46(+W=JNpDIXZCJy953C4CC0akn7..SIGBF8xo9.VD&4bEy!b2FOWlYj^E?m>VNXdJUHh$opoGVI.yZzhFB&jRJfI@)&dv8GwoA.Ll9SV?1V<tVm~zc~<RQbD<Dmi=`nA?(HhIs2#M+seUYcq5rzTgtlkn5s@r@prb^vqII&.(Ejmm<X%~r3R+cV39gJM5,k5jW9WsWN%S4H0HKeb!dp/@&762=M*&#nVd?9%AUL.=E/Lmqb$S3B*pUpXC4)c?&Ohx>zz#_1c1w(z!e`Iv*TS>t.9,)aPo.p<3g@hu3)boWQDa7a$b&G2?/7D9vri6v&e)F%V~8eSL/mvens5b(D`PM&DaLzUXGUURTfuojuyKBUeRbCk!~<wL9h&kl25Ag6Z22Q7p9jQ2sFvetIn<OB#gO6#*7rt#FlCAidoqYQ.BKqp3rk(/11.4)d,c/H5kyGs*S8ihuoUp?H_T%*?g7ZOO._>adi~_9YEd@*O1D8+SZ1Cd~UF4icAp3PC~P,J.C0Aa=^fCD=cqqGm&N4d59GOOSm+sB/4FRwO6ifSAbK#!u!m#f.#LvPwMUMh%~i)QV(pm4oA/NIq!9M,2uvBM/xTm9?(5hof0i(#6*WCFdGxt~*8~)vXuEXh8klN+LL<1%#>f>$isiV7Tdj.I>r%b#b4ypX!NuLo`=gHa1W0JScfY%ie$Yf3rI/UYsPBOuWX)sHeeZa~(__^1n05~kAx=4+!je5^J~1df,OEIgK(gbLHL(t76r^wc/%9wr8Sz+rtm//Sf)@=y4M?@!Erk&9iSvuocZC*htqBw(rzJ6gh@iJlo68JL>J~>>L,Cqt(4cDsY#FiPRY`<s%q,Wd/F3Z4S^~oZ0p_(gV7+UKlNz/.(1@uZE&iDY+oM>!2uW&+9ra=ACkoTw#1DDy7FlA53iV?XC7r+YS9%NIoa+sQj2AF0IyRMcAH8J~S,y3Bp/eJH0#WC3AT>grJWA+(*eQu^YS~Z2=Vh_pn7y90?`HC?+0tsrL^DvofdWuAu`C+ic&A>R$HXF+_EyQDV!luHiKf`iN)m(jD5CQ9BF)%4A~ct2w=kc8SUPv$?gmIX9ay+Wk6+Rpr^X<2/F?k%j^eJa48ZN_Y=>hFPDS,yJ(.#)!3fYPu1ZX?JbU^Vcg6aDl7ojnqbo<ZtGSFF~wkjdi`W68aCQ/+NdxZ/#1Av&J6J$WVZIxK<sH)>4+QfK35VEWt1RQ!MsZp^5d)`ueV3f.I=9a03I)U5IG/a0F(j2nC?AoswTWt)4x1H@SS8f7WLAuhYO=Vr?D!s9vSU7RyfRI#J9@ZRG6odQ1pcE(s)G=^`ndo^N<qJT<C>6UCmT4D_%$/4O6`OYj`)!iBahx/mZu)K!ywW_#=zh,y_6UI9?fOk*d*aUrU,6!&G9EG+af,SJMS^cZZQ=@wv8Fd^IHf9byO^?ZeU!^>wW#A5a9p^Ds*SHC!rJ<<ro&yH8Zd~y1K8>sKPC/IFGER6S<yp7LZ&)/~x0CO3aTy)5@iQ5%c5J44J8!1(WH`*eI,9w,(L$DDesx#/6msAr9YGFmo+.sL`CHnk+OKjv/WqJ&HyIPh`ob6*@BrqhWb9RsnFvvGF<HU&.<Mr@*e8C+ii)I/uyp++Ow(MCH%I)9uzrOyDH@4QVW)d^~I0H~YPeJ&FcR@/yW3@UqFPY^F41OwQfOKxJ6>!bOC=$Q.5D8CLn/g!fa9uAzD5G_~4uE>nH!aZ<PK2>3QvhV3BkF&ysP@d+&/cc.bRN0iS!?fd#SI5GS((IBAyBJR_QJh^%v06u)Y/m,`yaKXu=s)V2vzFoD%8v42(`1AEG82LowwZnHMkJ,S`_5OS+yMOCAO>>OsWrKUL3Hq94LFTrccY59(#QIbwpPIbGfZ7uzv&@tTo@3fVGwHl($SFJpQ0npw7OS&@AfR.NuWc^4w0`DL&fPNgS!4_f@MM63X0/C3Y7aJy3Y.?Ofr7zL.*6j<jg7.j9~vBsrQNv51=S)azYFm_@f5~sU!nNkZsV0^ojFUS.v~SQ`dS8qFkMb42mDmx4.`o>HIFbP<&!qck0H,1G!>6uM.IA!=Hj_R2X)ih5s4mSlVIS1t%`0<E<i1>$G~#@IpXN~~^M5>,gobp_t+J^B)^oakhxf<W+6zo$1UaqX2QP80MohQd//%8#u<s!E!r?$#Su#!(OD<w)v<*l5_K<4B<M7zmE<QS2Q#Dpi9*X4vDg7zB.RYH&j.%_i5<&@%3gEO&9*RvG8xbWqF63b9p4~X$+rjOQMlT,8OG2)96xpBJSmg<QBBZ9*FCKxidY%5JWPyJ0zKQCj8sK^vA(I(mmqDnzRk~r>2o~/TAhCbX.t57a!!As&D06v%dL<%X^WbMw#LNOLldDyJ@w9v58&ccT2<jg+!@fCBP@cU,_+aCfgAy,b`st~Xz1EH?02#$QB@LP=,F>=ECKn$aJ2~~b@B?l`5,3MtpZ^E#nHjTDoLA0JIr2CrgTVddTeMUZce?jFH*G$K1+Jk@$s9~rW/jSen`ryn?teNUq%%j9<M3apJ5Bz)R4#EEaL$t5qQ4@6!>yN?tOOp9t9n2pNe/V=4i~JK)3Zgust7!VV.8GFFiR&&GT>Bx*@Q>=,/Wm$TQhyiQq.2.a(ahS%``w21Z9EsOZ>/qdy=.~N&lUaYj<w3,!jxr1uWz4KCP%4YkoAVF%&EAn.ihCOpyPIKDYRSv*+%qr7XB/3_V,qO1g(o`VaM8#9_ISmrQO<j`gSCjRcOSLUrGJF4C=CQs5O/VZ^/4%i~(32D@Vl0gTzvsTA+UF>(ntSfzq9vMD.&QqR%,Q@IJRbG.2Dko7qcilolc$l)~uqwF?bCitDgGpSVBqFYQU._6/gfK8pszrhoVbU#8^lIHCI(*dS=VT?UYsJ>xz8>y*o3q807DPjXEV!Uf=Sk!o~Qg77vX)6Pmys3r_j.ux^f7mirMT,919Tm7NO8lVvOC9S?PFkSS,H`?jL_o)@=A)B~n^OtWkAvbM)#vC?y%HEM>nHWQ$aoU>$(m?pFbl77g%3qaHRCKKMoB*Pz(~)Q606`Aq>h,=F#`m,0XZ@,83Ct@&7jFT7g*Y!J^IP.sCUFR>mT+HeXHz=6NF4F(~3>2i3_5(3?9CuX4=!n.BUrpFZZVtA.uMf>*bvTv1a9L(3xS5TE$a0QwJ$T,KjxQUt`GDSYrSIT~4qy.2NjVGn4(bY^!%yvK!7XbxnG*e5*A,_zKD@~QXnv!Bkz9@tlp#/V+fRfpKZD(&MFE4B1ZLcz~0LR&a9oFXJdlT71Wmx#=DnaYKZX(=tAb(&+fKIu)P2D?JkyLRlh8UivcYdVVof~m%G,gibX>xh*LW/Td1VeH4IqIZX4EX7O3Kv@eH2MXfD7k4N/#DEyu3zwOaLgz3Zq7=ODik7YAycK(o/$30FQ#GzldA/$KW?@>/OCR9kV*SVbMGgIU6_o_r8LPlvUy*jH=<jQ*_suBElB#A,@G?5I<Nin/ZS5O0>7mz(PsMfZPjq+<g9m2C=2mbdK$v6ArIkkVLeZEK(Ca/sR10PJ^XZ?<fSk^fZa1<c#+$,g<P5k<3m3,JeOMx2h<`R9hiM>V#bV^d<6UQ=R*6`QIl*DHaMVt$cta%5WLcO?>0<Xm&F(Sp#.&jZ7jTZ>cq+hmIKzo6)FH6X^fMMv_LJII?G8iKtlRVz.%*^1lw_?vn$G@JDz0>!XPOS5@!bkt(KmyGHsPUpTxM2H)1sDW!*0md9`aY!&@Zr52QL7aSr,!!21ygq3u5Mmvj1N9FCBUr##<cwiJtP<?l%jz5)bEOD99<iISLZ!R@8yI~fFzZd=<e@5S<C_$sX^(IB<4ldxabsPETAeHkVW?.X.D@7M.cFZz74>+3g4a23KSgPT3PJO/fux?ZZK_@Z>lef(JC^?h#F~ZFJ3_,Fi>ZK#j+L_XR)mWKy`X0CAX&K*P7Aw`(2tv)N=a.jg@H2%nS_?u+ezVKt0of@4Is0K$LE#Y@%gvaIa8zx?ZN(W9gd+!(VJ$ZN^M?l!sKAM&5fMZE1(=ya0G4DaVh+e)KMRT/f_g?=?EK=N8(>fQ)z*epvG*(Ia9%$`K^*90UIU)&Pt*@XSCr7,b6oA1&PUlWvLtjej<keTAnjbdjG%fYQrl@`gV.x@L@(9&?Q<K_0De,#.GIs>5=o!OE2$#A8*,xr^)*@bgM43)V4#Y!=wR?$)hvL8iZ?8k6=Oz#uw!jV&$jNq0+Pwe4p`x3*XmyouU/LI~@onEEw!d(M#H<pq<8WHFBz79juQ^NHnPt5VP8*dG0B19j./W#.iCo*KvpNOzU&v0ccLV?Z>qY42v3UApJxSIXTOcaAM>#@>6FUixoY_psVOlSk4GPc?l$/J%2K9Ol<8CVBTiuR>z2e,GGlb!~VI5#mGoiTLmB>q2s>dG.)pR_1uzWjSws.#f^NJ&V%QAXE!DfcFj<WLV,Bz!_Oh9,1yx&/&EU)WPq@W1TCNY8ug,iWV38Q?q!*Uo0oDvzsrLnnho0/26C&p61=,QgYgmGnl<y(m(##Z$y)bB$~Ezq&g&TFq7I@<t(y=F<uWsJm<Pn6AWBjipfA/a4CEl?zMf$Ku)j+?Hk<rD#ehCv(ZQrNb@&)H&<(CAgq^qr0<2.#.rS%tZ+I7KWbIll`+/`cvOtM=6y9_C7h2x5qZ8>pzIGQ(wd)xR_^OjtV,?^!=G3,l4&g.L?Rb.=$A_xtco9y_#MkZfC`WqbpLyG^R)aK=c(WB*bUPSSas3ONZpNF<_A8!5m##y1O2a&3Va`jMGnn~K329XsR*UI/G3vaEm^Z?KBk2mGei6ADfA%s)%2qtn((Jr&@~.U_/nESPeVWKF20pnwOD!z2g=3fF*%mwJlil+c)Q!`iXOyDjIy<8GM%)knm@>9#/,g4Hv$fizjm6NQ9l.*8QKD^DO7iy4ovWX28$Ac.ik/&igzY)%qvd=UcT9HUhqPtT/21?>(*yI2SLS0KGwy%!e*4l<kofR$y7Hak3cwhUH(/dIzSQcdV8Ql^pyCo8Zf!#+BX0Rr>dzGAQa%KOk+jK0,cNELv0mBFCJnJKhbg6MA?(.Z*ebjf*VBjjl&<$tfC02re#8.A.#WDU,ya7XFtGD.6bi>u))y=+~+HDd@CVXvT%CWo0=mQ.W3cNF_(wHm8nt+bF)nbI^e%n,UcU/ul`ovn,X=L=f$8Ze%pl<v`)V4aaq3_,y,3G=QO,/E+I+=)9hQJi?cqJkkAU!!zoDzkVdfUYV_l%&8CjWRto`Xmq6XNF0eOYF&VcW9ZS1hM*xX`+nRohn<J*C)k(^(.<=frvkUvH>(H!4cL.5Cr!vbK?mSSdbKHnl,wdCbNup*^3)f,=XC+EwyJo5MkJA&)zYcuPG#*Lp!,NH/u$2u5C,Cw=3>w~AWK1C.FAdMpcx?R~RXsj32noa_JK>!yKi,FK/lnAdfTwRupT)9YL+J>^E>O&@J2hDF/EXXU,>J@(E^m8?8.kMS,_1x`N^L+e`1Mymr1GkYWv$5g`HM(y/4TzmTzHt&Cs^ZAj)2OWmN4G/DXP5p`j(~vrYum<zN5U0i5q>KTFW%0j)m.27J$d#MY(Q<72mk(*AvGh?T7.kExVMk@C<AIm)k.QG&wun3G~H+Nj^2F=.MKJC63~fQh/Mj/xNW$o@KO(EOQ2(gXY/##ixYsum.7v^ecRkqkES#(=/iQ5O@BXmPZ/l1gp5IUkOt3.Rea3sx9o+rBlz=&8)f$i*0~B#1Io<B&kKn?R3QF@OJUuglune*#CrB+sI>a^WCp0+i`Z%j.&Wngf!/qa4oILDRFyFXvn(#nHYX&)^U(.bil.1g!>W6ZgwqV$#TF6Uy3E0M6nC1!@19/mX,L<@1KY_liuxlFH3Fxfky)^N(`rKXw*OV@_s1+1oP<!8B*~@i/MXU.f()8NE4+,?9c@iwhz*Pb)MlL.^lDog~+4>rARxq8/ED2q8c,L7O08f+KAQsj/Ii^!,%I57+wAnGf&=I0nx$kUTx*o/bU~<m1$^.Yw+E~Y&OH+m)(Bx1bE(1`SSrs2CjebQReHekTM$aQ%E7IzGKEJQkkp3T,ai0B<A8)wjrn`@_Ga!0x6mO_GJ+bFuQFCF!(vF%>@K9(i.!SnZV&Z?5W8TDwcMN>)tuzh4gu+LbaQ~iyWd?KgdwENIizLniRFYf)Y4FC+PUMl<*k,$gryan6.zw!q!,fy@TS8bGti>Q9RwqdfE_Ay75+Z2r<#13s,NxLuU^zXN/_@8?Y3rMr2I%0#rxqp0i%BrEvh~`lwq0W6JJt+DP1AT(?~Q8~QHgIUiQrQQ*B,euVANpUMe36Fir9KO0bfR*W!&RHkEbDHFyFaC+/f+TlvR=s8IYVi*^ojk3B%HTo)@>pY?b~xN76uPhAoJt(K+q/X4gG,&dku.3TE<FVC#f(fv.JQ^5Ff49Vn=svo_`&eSDd&PM.d)n/U*1<f/0GVRD(TTvun>`h~@b=K4,kJ130`lR+OC1CW!sV6>1oL>,$gQCFe+i2VacNwOd,z~<zmrj,FeWjOMOdOE@ZiR6hdvZVka//~AgByZV#At.XxNY1V@stkc>md>R&iMX^dfnbhS32sS)yQ$`8rGy4C,@X~~*u_U1bb_2b<fKK*gx^ZpaBFj@#y_a$+q&X?Y!7Y62df?=GTL).t.S$qa7Vfrcym+v3gH>KFn^GC^&CbX.H&HnUcr2vERBnxtbozg5H293<R=j4!2c5gWZ&r*n1)#N0Kj_i=kT8,(MjztQ4TMr<HEQGexLC%sb%z5^%wNFWqrRcl_tW.k~dRzbT&EStlzfaz!.eCZug%@$9dG8<IRSXWZ@fHS(+W)8*Tp#Rh(mh?PlY=*8QL%S&GCXWxn@0U^C<IW~YQ!+cdC?6.E`,fPz)XSq0Wuj#XYrOSF4i)f6@wwGNoA>M6Ive`GG?h9lIWt4azsQCO4Vovqc5,`$eF(lXR2ll!,GThFPKaE=34RI@%&!F503ewXhuEPK2OcI8fZJ)sEuzsnd9*M>vdWGU4oDl9EqyI8)!<?UO2!b/tu=p1TZ4pS*FhhS5QH&^7#NYi+3@//Q$F.FtFK4?igPH^K_pRPcF1b2T!JP,QypUhhrg$XJNItK&eVW`w*y1&O43`kuuk=cPW.@g!8Ciu1g%~TUR>x?#qD_,CAmUHV%4s8BOAEW7gCXfusCGAdGO<CTn5Viy+RML<2FMhB6HTKGI~Kl``V@?L^Q2I)vM#+dsIif09zfXn+Q$gCSOp28>^nfbn^@5JpE@dIm%o`+nf^EJCW%>iRo.lAZ!GK,C.Xy`3wS3.A!o5uTte*AV+Wn?Ba6Jj4F7+NcL$NKa7.v5B0&zN_f0ULmpL3QhtdRHu~Qg>Jr*rHD+&F6kV1Nws%CrUKhsS,lP&AYoK14Qijd9?Q75IuGe+7&2`v&L*tP*CgbPNf2i839f0)DMF1(kA6VRTr%$2T7BwgfUw4sH<F%(D7eW5h+58ahJOIJ+^j7#Prg<Y!Q`qo`^+ygHkrw(?yA1C+!0+`G#`/E0n1Fdmd^*5n7o28_osC7t<5YPYDtRO&8#ibT0IlfP>D=p(o1vPA@`q?Fw9ir2>uw^mV8nvSv*$0XlGFAt/O~*+6F)m*fErSI6_yCxMSwL,9UCicLwok_,@Y*49f?%bg0Esud9SM+hMl>`L=F<P2YdRj`m?stZ_O,YWz~=?,AbV>1E,3pg<q`SNK&=)kQJGkwmW1bXhwBXE3i_c(2vbV1L<bYUIN(pBt/$EaQwZTWJ>4EeI,vhT=_/S,TK$<Xk8O6G.u");
n.send_reliable(p.peer_id, mess, channel);
}
string get_event_message()
{
string r=e.message;
if(r=="")
{
return "";
}
r=string_decrypt(r, "sxY?Pp,&D/wkW&S4VGLQtw<A+_^5pG#%>P64mi~48j_d$2*g#Y^f*KHu.eMbUCcVM(p#%s>9a%$t+)F@m#U1Pl4DSkxu^LQ<5()8)A%=pn)1NuUH)VFjg7z>fAX~e_mu#eLdk+PJqs2Y8`TvcIREiuHUtF1M^c,a,d9B4&&v=ODDo(,p9.nD8Tvo`,!3Wx$qnc=G.OVW(ojCO?mfxp6f/a0J~pYd.x~Z4R@`V,JC*jM1RMPcV_DE@j5<L<VIcbT9z,(,(t~7@^%EDLgUbiOeQswIzMn`Jbrv#KBSDIFT?yk?w9+DAr2D4Wr<km!OkL3_KJ(x#M2O(QEoK0u@3$Fr+z.aH2?68Y<X$vIe+Lgh#ObSWZulqZm%t`nk)EaA+@5Li0mQVK/&JV(PGU)Z$Ie=^xpgiGJau`o$Zf2~Nhdanzp^s4(qr0IDs!L!+aB$LiT#dywvLJnACcA`@FvY9$U=~lnQE,nOci^lBjCAEx/35!yn(r.RCC=nzbnw?MIiij&PpQ/`?N.g2!35^$zOCS(RjhRV<3>vU86L=%+75/g~1zH_MbzRGiY1j)oXR_`Fr58m*XaJKdDy&RexU%pV@6pRvC`DOSGo,,/LdtBnc0dLtlYk+#J5?I<sSW@O8x.yv.ViQD)/vfYYnDfy$cue?Nbz%Ps>^.+>)F=_dx<V4MzsMDuGdQujfw@VTv?>ZefSvfF0wq/gIK9HlnazjHX!jQL+gkZd%tDZrzF!#=S$budN5@94`@lt+<Y2?>BegcVi6>bLrxKl2N%=Q`JZw!P)etB65f)uNFZ*a=Q8?/DvvhP4<_Hsgh?g0m6uXe4ymr7&WqBK>cd)E.+KnctE<dC*8CVJuDNgbHOOrS7S0>$r)BGJq&z+2>$JDxoynv+rAtGN1zaxUG`t8hP(WSAi87,%c6.+`C!dgm@pNe1!fbThzF46(+W=JNpDIXZCJy953C4CC0akn7..SIGBF8xo9.VD&4bEy!b2FOWlYj^E?m>VNXdJUHh$opoGVI.yZzhFB&jRJfI@)&dv8GwoA.Ll9SV?1V<tVm~zc~<RQbD<Dmi=`nA?(HhIs2#M+seUYcq5rzTgtlkn5s@r@prb^vqII&.(Ejmm<X%~r3R+cV39gJM5,k5jW9WsWN%S4H0HKeb!dp/@&762=M*&#nVd?9%AUL.=E/Lmqb$S3B*pUpXC4)c?&Ohx>zz#_1c1w(z!e`Iv*TS>t.9,)aPo.p<3g@hu3)boWQDa7a$b&G2?/7D9vri6v&e)F%V~8eSL/mvens5b(D`PM&DaLzUXGUURTfuojuyKBUeRbCk!~<wL9h&kl25Ag6Z22Q7p9jQ2sFvetIn<OB#gO6#*7rt#FlCAidoqYQ.BKqp3rk(/11.4)d,c/H5kyGs*S8ihuoUp?H_T%*?g7ZOO._>adi~_9YEd@*O1D8+SZ1Cd~UF4icAp3PC~P,J.C0Aa=^fCD=cqqGm&N4d59GOOSm+sB/4FRwO6ifSAbK#!u!m#f.#LvPwMUMh%~i)QV(pm4oA/NIq!9M,2uvBM/xTm9?(5hof0i(#6*WCFdGxt~*8~)vXuEXh8klN+LL<1%#>f>$isiV7Tdj.I>r%b#b4ypX!NuLo`=gHa1W0JScfY%ie$Yf3rI/UYsPBOuWX)sHeeZa~(__^1n05~kAx=4+!je5^J~1df,OEIgK(gbLHL(t76r^wc/%9wr8Sz+rtm//Sf)@=y4M?@!Erk&9iSvuocZC*htqBw(rzJ6gh@iJlo68JL>J~>>L,Cqt(4cDsY#FiPRY`<s%q,Wd/F3Z4S^~oZ0p_(gV7+UKlNz/.(1@uZE&iDY+oM>!2uW&+9ra=ACkoTw#1DDy7FlA53iV?XC7r+YS9%NIoa+sQj2AF0IyRMcAH8J~S,y3Bp/eJH0#WC3AT>grJWA+(*eQu^YS~Z2=Vh_pn7y90?`HC?+0tsrL^DvofdWuAu`C+ic&A>R$HXF+_EyQDV!luHiKf`iN)m(jD5CQ9BF)%4A~ct2w=kc8SUPv$?gmIX9ay+Wk6+Rpr^X<2/F?k%j^eJa48ZN_Y=>hFPDS,yJ(.#)!3fYPu1ZX?JbU^Vcg6aDl7ojnqbo<ZtGSFF~wkjdi`W68aCQ/+NdxZ/#1Av&J6J$WVZIxK<sH)>4+QfK35VEWt1RQ!MsZp^5d)`ueV3f.I=9a03I)U5IG/a0F(j2nC?AoswTWt)4x1H@SS8f7WLAuhYO=Vr?D!s9vSU7RyfRI#J9@ZRG6odQ1pcE(s)G=^`ndo^N<qJT<C>6UCmT4D_%$/4O6`OYj`)!iBahx/mZu)K!ywW_#=zh,y_6UI9?fOk*d*aUrU,6!&G9EG+af,SJMS^cZZQ=@wv8Fd^IHf9byO^?ZeU!^>wW#A5a9p^Ds*SHC!rJ<<ro&yH8Zd~y1K8>sKPC/IFGER6S<yp7LZ&)/~x0CO3aTy)5@iQ5%c5J44J8!1(WH`*eI,9w,(L$DDesx#/6msAr9YGFmo+.sL`CHnk+OKjv/WqJ&HyIPh`ob6*@BrqhWb9RsnFvvGF<HU&.<Mr@*e8C+ii)I/uyp++Ow(MCH%I)9uzrOyDH@4QVW)d^~I0H~YPeJ&FcR@/yW3@UqFPY^F41OwQfOKxJ6>!bOC=$Q.5D8CLn/g!fa9uAzD5G_~4uE>nH!aZ<PK2>3QvhV3BkF&ysP@d+&/cc.bRN0iS!?fd#SI5GS((IBAyBJR_QJh^%v06u)Y/m,`yaKXu=s)V2vzFoD%8v42(`1AEG82LowwZnHMkJ,S`_5OS+yMOCAO>>OsWrKUL3Hq94LFTrccY59(#QIbwpPIbGfZ7uzv&@tTo@3fVGwHl($SFJpQ0npw7OS&@AfR.NuWc^4w0`DL&fPNgS!4_f@MM63X0/C3Y7aJy3Y.?Ofr7zL.*6j<jg7.j9~vBsrQNv51=S)azYFm_@f5~sU!nNkZsV0^ojFUS.v~SQ`dS8qFkMb42mDmx4.`o>HIFbP<&!qck0H,1G!>6uM.IA!=Hj_R2X)ih5s4mSlVIS1t%`0<E<i1>$G~#@IpXN~~^M5>,gobp_t+J^B)^oakhxf<W+6zo$1UaqX2QP80MohQd//%8#u<s!E!r?$#Su#!(OD<w)v<*l5_K<4B<M7zmE<QS2Q#Dpi9*X4vDg7zB.RYH&j.%_i5<&@%3gEO&9*RvG8xbWqF63b9p4~X$+rjOQMlT,8OG2)96xpBJSmg<QBBZ9*FCKxidY%5JWPyJ0zKQCj8sK^vA(I(mmqDnzRk~r>2o~/TAhCbX.t57a!!As&D06v%dL<%X^WbMw#LNOLldDyJ@w9v58&ccT2<jg+!@fCBP@cU,_+aCfgAy,b`st~Xz1EH?02#$QB@LP=,F>=ECKn$aJ2~~b@B?l`5,3MtpZ^E#nHjTDoLA0JIr2CrgTVddTeMUZce?jFH*G$K1+Jk@$s9~rW/jSen`ryn?teNUq%%j9<M3apJ5Bz)R4#EEaL$t5qQ4@6!>yN?tOOp9t9n2pNe/V=4i~JK)3Zgust7!VV.8GFFiR&&GT>Bx*@Q>=,/Wm$TQhyiQq.2.a(ahS%``w21Z9EsOZ>/qdy=.~N&lUaYj<w3,!jxr1uWz4KCP%4YkoAVF%&EAn.ihCOpyPIKDYRSv*+%qr7XB/3_V,qO1g(o`VaM8#9_ISmrQO<j`gSCjRcOSLUrGJF4C=CQs5O/VZ^/4%i~(32D@Vl0gTzvsTA+UF>(ntSfzq9vMD.&QqR%,Q@IJRbG.2Dko7qcilolc$l)~uqwF?bCitDgGpSVBqFYQU._6/gfK8pszrhoVbU#8^lIHCI(*dS=VT?UYsJ>xz8>y*o3q807DPjXEV!Uf=Sk!o~Qg77vX)6Pmys3r_j.ux^f7mirMT,919Tm7NO8lVvOC9S?PFkSS,H`?jL_o)@=A)B~n^OtWkAvbM)#vC?y%HEM>nHWQ$aoU>$(m?pFbl77g%3qaHRCKKMoB*Pz(~)Q606`Aq>h,=F#`m,0XZ@,83Ct@&7jFT7g*Y!J^IP.sCUFR>mT+HeXHz=6NF4F(~3>2i3_5(3?9CuX4=!n.BUrpFZZVtA.uMf>*bvTv1a9L(3xS5TE$a0QwJ$T,KjxQUt`GDSYrSIT~4qy.2NjVGn4(bY^!%yvK!7XbxnG*e5*A,_zKD@~QXnv!Bkz9@tlp#/V+fRfpKZD(&MFE4B1ZLcz~0LR&a9oFXJdlT71Wmx#=DnaYKZX(=tAb(&+fKIu)P2D?JkyLRlh8UivcYdVVof~m%G,gibX>xh*LW/Td1VeH4IqIZX4EX7O3Kv@eH2MXfD7k4N/#DEyu3zwOaLgz3Zq7=ODik7YAycK(o/$30FQ#GzldA/$KW?@>/OCR9kV*SVbMGgIU6_o_r8LPlvUy*jH=<jQ*_suBElB#A,@G?5I<Nin/ZS5O0>7mz(PsMfZPjq+<g9m2C=2mbdK$v6ArIkkVLeZEK(Ca/sR10PJ^XZ?<fSk^fZa1<c#+$,g<P5k<3m3,JeOMx2h<`R9hiM>V#bV^d<6UQ=R*6`QIl*DHaMVt$cta%5WLcO?>0<Xm&F(Sp#.&jZ7jTZ>cq+hmIKzo6)FH6X^fMMv_LJII?G8iKtlRVz.%*^1lw_?vn$G@JDz0>!XPOS5@!bkt(KmyGHsPUpTxM2H)1sDW!*0md9`aY!&@Zr52QL7aSr,!!21ygq3u5Mmvj1N9FCBUr##<cwiJtP<?l%jz5)bEOD99<iISLZ!R@8yI~fFzZd=<e@5S<C_$sX^(IB<4ldxabsPETAeHkVW?.X.D@7M.cFZz74>+3g4a23KSgPT3PJO/fux?ZZK_@Z>lef(JC^?h#F~ZFJ3_,Fi>ZK#j+L_XR)mWKy`X0CAX&K*P7Aw`(2tv)N=a.jg@H2%nS_?u+ezVKt0of@4Is0K$LE#Y@%gvaIa8zx?ZN(W9gd+!(VJ$ZN^M?l!sKAM&5fMZE1(=ya0G4DaVh+e)KMRT/f_g?=?EK=N8(>fQ)z*epvG*(Ia9%$`K^*90UIU)&Pt*@XSCr7,b6oA1&PUlWvLtjej<keTAnjbdjG%fYQrl@`gV.x@L@(9&?Q<K_0De,#.GIs>5=o!OE2$#A8*,xr^)*@bgM43)V4#Y!=wR?$)hvL8iZ?8k6=Oz#uw!jV&$jNq0+Pwe4p`x3*XmyouU/LI~@onEEw!d(M#H<pq<8WHFBz79juQ^NHnPt5VP8*dG0B19j./W#.iCo*KvpNOzU&v0ccLV?Z>qY42v3UApJxSIXTOcaAM>#@>6FUixoY_psVOlSk4GPc?l$/J%2K9Ol<8CVBTiuR>z2e,GGlb!~VI5#mGoiTLmB>q2s>dG.)pR_1uzWjSws.#f^NJ&V%QAXE!DfcFj<WLV,Bz!_Oh9,1yx&/&EU)WPq@W1TCNY8ug,iWV38Q?q!*Uo0oDvzsrLnnho0/26C&p61=,QgYgmGnl<y(m(##Z$y)bB$~Ezq&g&TFq7I@<t(y=F<uWsJm<Pn6AWBjipfA/a4CEl?zMf$Ku)j+?Hk<rD#ehCv(ZQrNb@&)H&<(CAgq^qr0<2.#.rS%tZ+I7KWbIll`+/`cvOtM=6y9_C7h2x5qZ8>pzIGQ(wd)xR_^OjtV,?^!=G3,l4&g.L?Rb.=$A_xtco9y_#MkZfC`WqbpLyG^R)aK=c(WB*bUPSSas3ONZpNF<_A8!5m##y1O2a&3Va`jMGnn~K329XsR*UI/G3vaEm^Z?KBk2mGei6ADfA%s)%2qtn((Jr&@~.U_/nESPeVWKF20pnwOD!z2g=3fF*%mwJlil+c)Q!`iXOyDjIy<8GM%)knm@>9#/,g4Hv$fizjm6NQ9l.*8QKD^DO7iy4ovWX28$Ac.ik/&igzY)%qvd=UcT9HUhqPtT/21?>(*yI2SLS0KGwy%!e*4l<kofR$y7Hak3cwhUH(/dIzSQcdV8Ql^pyCo8Zf!#+BX0Rr>dzGAQa%KOk+jK0,cNELv0mBFCJnJKhbg6MA?(.Z*ebjf*VBjjl&<$tfC02re#8.A.#WDU,ya7XFtGD.6bi>u))y=+~+HDd@CVXvT%CWo0=mQ.W3cNF_(wHm8nt+bF)nbI^e%n,UcU/ul`ovn,X=L=f$8Ze%pl<v`)V4aaq3_,y,3G=QO,/E+I+=)9hQJi?cqJkkAU!!zoDzkVdfUYV_l%&8CjWRto`Xmq6XNF0eOYF&VcW9ZS1hM*xX`+nRohn<J*C)k(^(.<=frvkUvH>(H!4cL.5Cr!vbK?mSSdbKHnl,wdCbNup*^3)f,=XC+EwyJo5MkJA&)zYcuPG#*Lp!,NH/u$2u5C,Cw=3>w~AWK1C.FAdMpcx?R~RXsj32noa_JK>!yKi,FK/lnAdfTwRupT)9YL+J>^E>O&@J2hDF/EXXU,>J@(E^m8?8.kMS,_1x`N^L+e`1Mymr1GkYWv$5g`HM(y/4TzmTzHt&Cs^ZAj)2OWmN4G/DXP5p`j(~vrYum<zN5U0i5q>KTFW%0j)m.27J$d#MY(Q<72mk(*AvGh?T7.kExVMk@C<AIm)k.QG&wun3G~H+Nj^2F=.MKJC63~fQh/Mj/xNW$o@KO(EOQ2(gXY/##ixYsum.7v^ecRkqkES#(=/iQ5O@BXmPZ/l1gp5IUkOt3.Rea3sx9o+rBlz=&8)f$i*0~B#1Io<B&kKn?R3QF@OJUuglune*#CrB+sI>a^WCp0+i`Z%j.&Wngf!/qa4oILDRFyFXvn(#nHYX&)^U(.bil.1g!>W6ZgwqV$#TF6Uy3E0M6nC1!@19/mX,L<@1KY_liuxlFH3Fxfky)^N(`rKXw*OV@_s1+1oP<!8B*~@i/MXU.f()8NE4+,?9c@iwhz*Pb)MlL.^lDog~+4>rARxq8/ED2q8c,L7O08f+KAQsj/Ii^!,%I57+wAnGf&=I0nx$kUTx*o/bU~<m1$^.Yw+E~Y&OH+m)(Bx1bE(1`SSrs2CjebQReHekTM$aQ%E7IzGKEJQkkp3T,ai0B<A8)wjrn`@_Ga!0x6mO_GJ+bFuQFCF!(vF%>@K9(i.!SnZV&Z?5W8TDwcMN>)tuzh4gu+LbaQ~iyWd?KgdwENIizLniRFYf)Y4FC+PUMl<*k,$gryan6.zw!q!,fy@TS8bGti>Q9RwqdfE_Ay75+Z2r<#13s,NxLuU^zXN/_@8?Y3rMr2I%0#rxqp0i%BrEvh~`lwq0W6JJt+DP1AT(?~Q8~QHgIUiQrQQ*B,euVANpUMe36Fir9KO0bfR*W!&RHkEbDHFyFaC+/f+TlvR=s8IYVi*^ojk3B%HTo)@>pY?b~xN76uPhAoJt(K+q/X4gG,&dku.3TE<FVC#f(fv.JQ^5Ff49Vn=svo_`&eSDd&PM.d)n/U*1<f/0GVRD(TTvun>`h~@b=K4,kJ130`lR+OC1CW!sV6>1oL>,$gQCFe+i2VacNwOd,z~<zmrj,FeWjOMOdOE@ZiR6hdvZVka//~AgByZV#At.XxNY1V@stkc>md>R&iMX^dfnbhS32sS)yQ$`8rGy4C,@X~~*u_U1bb_2b<fKK*gx^ZpaBFj@#y_a$+q&X?Y!7Y62df?=GTL).t.S$qa7Vfrcym+v3gH>KFn^GC^&CbX.H&HnUcr2vERBnxtbozg5H293<R=j4!2c5gWZ&r*n1)#N0Kj_i=kT8,(MjztQ4TMr<HEQGexLC%sb%z5^%wNFWqrRcl_tW.k~dRzbT&EStlzfaz!.eCZug%@$9dG8<IRSXWZ@fHS(+W)8*Tp#Rh(mh?PlY=*8QL%S&GCXWxn@0U^C<IW~YQ!+cdC?6.E`,fPz)XSq0Wuj#XYrOSF4i)f6@wwGNoA>M6Ive`GG?h9lIWt4azsQCO4Vovqc5,`$eF(lXR2ll!,GThFPKaE=34RI@%&!F503ewXhuEPK2OcI8fZJ)sEuzsnd9*M>vdWGU4oDl9EqyI8)!<?UO2!b/tu=p1TZ4pS*FhhS5QH&^7#NYi+3@//Q$F.FtFK4?igPH^K_pRPcF1b2T!JP,QypUhhrg$XJNItK&eVW`w*y1&O43`kuuk=cPW.@g!8Ciu1g%~TUR>x?#qD_,CAmUHV%4s8BOAEW7gCXfusCGAdGO<CTn5Viy+RML<2FMhB6HTKGI~Kl``V@?L^Q2I)vM#+dsIif09zfXn+Q$gCSOp28>^nfbn^@5JpE@dIm%o`+nf^EJCW%>iRo.lAZ!GK,C.Xy`3wS3.A!o5uTte*AV+Wn?Ba6Jj4F7+NcL$NKa7.v5B0&zN_f0ULmpL3QhtdRHu~Qg>Jr*rHD+&F6kV1Nws%CrUKhsS,lP&AYoK14Qijd9?Q75IuGe+7&2`v&L*tP*CgbPNf2i839f0)DMF1(kA6VRTr%$2T7BwgfUw4sH<F%(D7eW5h+58ahJOIJ+^j7#Prg<Y!Q`qo`^+ygHkrw(?yA1C+!0+`G#`/E0n1Fdmd^*5n7o28_osC7t<5YPYDtRO&8#ibT0IlfP>D=p(o1vPA@`q?Fw9ir2>uw^mV8nvSv*$0XlGFAt/O~*+6F)m*fErSI6_yCxMSwL,9UCicLwok_,@Y*49f?%bg0Esud9SM+hMl>`L=F<P2YdRj`m?stZ_O,YWz~=?,AbV>1E,3pg<q`SNK&=)kQJGkwmW1bXhwBXE3i_c(2vbV1L<bYUIN(pBt/$EaQwZTWJ>4EeI,vhT=_/S,TK$<Xk8O6G.u");
return r;
}
void send_plus(player@p, string packet, int channel)
{
for(uint i=0; i<players.length(); i++)
{
if(p.peer_id!=players[i].peer_id)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_plus(uint id, string packet, int channel)
{
for(uint i=0; i<players.length(); i++)
{
if(id!=players[i].peer_id)
{
send_reliable(players[i].peer_id,packet,channel);
}
}
}
void charwrite(string name, string thing, string value)
{
f.open("chars/"+name+"/"+thing+".usr","wb");
f.write(value);
f.close();
}
void devsend_reliable(string packet, int channel, string notifysound="")
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].dev)
{
send_reliable(players[i],packet,channel);
if(notifysound!="") send_reliable(players[i],"play_s "+notifysound,6);
}
}
}
void setupserver()
{
killmsgs.insert_last("Ahahaha let's have some fun! Thanks, my friend, %k! You killed %d! I was needing your help!");
killmsgs.insert_last("Oh poor %d, didn't you know that i can blast you really easyly? Don't come alone the next time, screams %k!");
killmsgs.insert_last("%k says: Do you know that i was looking for someone to kill? Thanks really, you gave me the opportunity to train a little bit, %d!");
killmsgs.insert_last("%k killed %d on %z!");
killmsgs.insert_last("o! look at %z! %d died in the hands of %k!");
killmsgs.insert_last("ok, get this! die! %d was killed thanks to %k's help! thanks %k!");
killmsgs.insert_last("die? again! %k is powerfull, killed %d!");
killmsgs.insert_last("why do you ask where %d got killed? ok i tell you, in %z %k killed him");
killmsgs.insert_last("whats the problem? this is another war, kill or get killed! %d died, in %z! %k did this!");
killmsgs.insert_last("what are you doing %k! killing %d is fun?");
killmsgs.insert_last("well, we have another news, %d died and the killer is %k!");
killmsgs.insert_last("I'm very angry at %k who killed %d, i'm going to call the police!");
killmsgs.insert_last("%d died! %k i'll kill you!");
killmsgs.insert_last("%d! %k is murderer! becarefull!");
killmsgs.insert_last("%k killed %d");
killmsgs.insert_last("i'm not sure but... i think... %d got killed! o, yes, someone can tell me who killed %d, o i found the result! %k killed him!");
killmsgs.insert_last("lets call the police! %k killed %d!");
killmsgs.insert_last("what was your reason %k, why did you kill %d, i know you are powerfull but, dont show it here!");
killmsgs.insert_last("well well well, another fight, and now! %d, died! %k wins!");
killmsgs.insert_last("%z! %z! i'm fraid of you! %z! %z! i'm fraid of you! %k killed %d!");
killmsgs.insert_last("well well, lets sleep, o no! what, someone, died, o look! here is the corpse of %d! who killed you my friend? o %k did it! you'll die %k!");
killmsgs.insert_last("um, %d died, again, %k did it!");
killmsgs.insert_last("%k told to the federal police about %d, i was angry, i didn't kill him, i'm, i'm, i didn't kill %d.");
killmsgs.insert_last("dont go without protection or you'll die like %d! and dont go without helpers %k!");
killmsgs.insert_last("don't worry %d, you can kill %k! try it again!");
killmsgs.insert_last("I will kill you for sure %k! i'll come back! i'm %d, and i'll show you my power!");
killmsgs.insert_last("%k %k! you cant kill me without weapons! i'm sure, I, %d, will, kill, you!");
killmsgs.insert_last("Die in hell! %k wins! %d died, on %z!");
killmsgs.insert_last("Again, war for nothing? In %z, I can see more blood: %k did it, and killed %d!");
killmsgs.insert_last("Jumped in air, fallen, stand up, and boom! Yes! In %z, %d died! Again, you win %k!");
killmsgs.insert_last("Oh sorry %d but this wasn’t your turn to win, and boom! He got killed by %k");
killmsgs.insert_last("I like so mutch boom sounds! And again, boom! boom boom boom! %d, bie bie! %k killed him!");
killmsgs.insert_last("This war was a very bad war: because %k damaged very badly, and %d died: be carefull at %k!");
killmsgs.insert_last("massive turret of %k with artillery rocket destroyed one of the buildings and %d died bled.");
killmsgs.insert_last("We have a new serial killer! We hear a lot about %k for its killings! Congratulations on killing %d in %z!");
killmsgs.insert_last("Yay! I came in the right moment to have some fun! Let's see the situation... %k killed %d without mercy! That's amazing!");
killmsgs.insert_last("Big congratulations to %k, who killed %d really fastly!");
killmsgs.insert_last("Allright... I'm getting my phone... 911, who do you want to report? Hi... i wish to report %k who killed %d. Is it possible to take action? Allright, an agent will be straight to you soon. Bie bie, %k. Enjoy that lovely jail. mahahahahhah!");
killmsgs.insert_last("Murders are always present, and today we can add one to the list, thanks to %k who screwed up %d.");
killmsgs.insert_last("Hurry up! Hurry up! %k killed %d in %z! Shall we help?");
killmsgs.insert_last("oh, look at who we have here. %d, are you fine? I think not. %k... do you want me to help you in finishing this lovely  job you did?");
killmsgs.insert_last("A lot of blood has been poured on %z, thanks to %k who killed %d without mercy.");
killmsgs.insert_last("Kill or get killed! This is a well learned theory by %k, that killed %d!");
killmsgs.insert_last("I love watching bloody shows! And here we have a very interesting one: %k who killed, in one shot, %d!");
killmsgs.insert_last("Ahahaha %d, do you like dying? i think yes %z says %k, that made this perfect job!");
killmsgs.insert_last("why should i go away? here i have a great job to finish. go go %d, go to hell! says %k.");
killmsgs.insert_last("Calling the police! Why did you kill %d, %k? now you'll pay! You'll, pay!");
killmsgs.insert_last("I guess %z is coursed, as a lot of blood, included %d's one, has been poured there.");
killmsgs.insert_last("friends! friends! do you want to watch another of my shows? Says %k. I'm going to  kill %d! come!");
killmsgs.insert_last("%k is a professional killer, go away from him! and boom... %k killed %d!");
killmsgs.insert_last("today we have another professional killer, who got an a++ at his test! and we're talking about %k who killed %d. nice exam!");
killmsgs.insert_last("the policeman says: you're under arrest, %k. you killed %d!");
killmsgs.insert_last("%d says: don't kill me! don't! and %k says, before firing... %d, your destiny is diing as soon as possible, so say your last words! muahahahahahaha!");
killmsgs.insert_last("Do you want to get another news? %d has been send to the grave thanks to %k, who did a great job!");
killmsgs.insert_last("%k! %k! prepare to die! I'm %d's friend, and i will revenge his death!");
killmsgs2.insert_last("%k killed a %d on %z!");
killmsgs3.insert_last("%k destroyed %d on %z!");
killmsgs3.insert_last("%d has been destroyed by %k on %z!");
language_channels.insert_last("disable_chat");
language_channels.insert_last("arabic");
language_channels.insert_last("free_channel");
language_channels.insert_last("english");
language_channels.insert_last("german");
language_channels.insert_last("indonesian");
language_channels.insert_last("malay");
language_channels.insert_last("persian");
language_channels.insert_last("polish");
language_channels.insert_last("portuguese");
language_channels.insert_last("russian");
language_channels.insert_last("slovak");
language_channels.insert_last("spanish");
language_channels.insert_last("thai");
language_channels.insert_last("turkish");
ages.insert_last("1");
ages.insert_last("2");
ages.insert_last("3");
ages.insert_last("4");
ages.insert_last("5");
ages.insert_last("6");
ages.insert_last("7");
ages.insert_last("8");
ages.insert_last("9");
ages.insert_last("10");
ages.insert_last("11");
ages.insert_last("12");
ages.insert_last("13");
ages.insert_last("14");
ages.insert_last("15");
ages.insert_last("16");
ages.insert_last("17");
ages.insert_last("18");
ages.insert_last("19");
ages.insert_last("20");
ages.insert_last("21");
ages.insert_last("22");
ages.insert_last("23");
ages.insert_last("24");
ages.insert_last("25");
ages.insert_last("26");
ages.insert_last("27");
ages.insert_last("28");
ages.insert_last("29");
ages.insert_last("30");
ages.insert_last("31");
ages.insert_last("32");
ages.insert_last("33");
ages.insert_last("34");
ages.insert_last("35");
ages.insert_last("36");
ages.insert_last("37");
ages.insert_last("38");
ages.insert_last("39");
ages.insert_last("40");
ages.insert_last("41");
ages.insert_last("42");
ages.insert_last("43");
ages.insert_last("44");
ages.insert_last("45");
ages.insert_last("46");
ages.insert_last("47");
ages.insert_last("48");
ages.insert_last("49");
ages.insert_last("50");
ages.insert_last("51");
ages.insert_last("52");
ages.insert_last("53");
ages.insert_last("54");
ages.insert_last("55");
ages.insert_last("56");
ages.insert_last("57");
ages.insert_last("58");
ages.insert_last("59");
ages.insert_last("60");
ages.insert_last("61");
ages.insert_last("62");
ages.insert_last("63");
ages.insert_last("64");
ages.insert_last("65");
ages.insert_last("66");
ages.insert_last("67");
ages.insert_last("68");
ages.insert_last("69");
ages.insert_last("70");
ages.insert_last("71");
ages.insert_last("72");
ages.insert_last("73");
ages.insert_last("74");
ages.insert_last("75");
ages.insert_last("76");
ages.insert_last("77");
ages.insert_last("78");
ages.insert_last("79");
ages.insert_last("80");
ages.insert_last("81");
ages.insert_last("82");
ages.insert_last("83");
ages.insert_last("84");
ages.insert_last("85");
ages.insert_last("86");
ages.insert_last("87");
ages.insert_last("88");
ages.insert_last("89");
ages.insert_last("90");
ages.insert_last("91");
ages.insert_last("92");
ages.insert_last("93");
ages.insert_last("94");
ages.insert_last("95");
ages.insert_last("96");
ages.insert_last("97");
ages.insert_last("98");
ages.insert_last("99");
ages.insert_last("100");
days.insert_last("1");
days.insert_last("2");
days.insert_last("3");
days.insert_last("4");
days.insert_last("5");
days.insert_last("6");
days.insert_last("7");
days.insert_last("8");
days.insert_last("9");
days.insert_last("10");
days.insert_last("11");
days.insert_last("12");
days.insert_last("13");
days.insert_last("14");
days.insert_last("15");
days.insert_last("16");
days.insert_last("17");
days.insert_last("18");
days.insert_last("19");
days.insert_last("20");
days.insert_last("21");
days.insert_last("22");
days.insert_last("23");
days.insert_last("24");
days.insert_last("25");
days.insert_last("26");
days.insert_last("27");
days.insert_last("28");
days.insert_last("29");
days.insert_last("30");
days.insert_last("31");
months.insert_last("1");
months.insert_last("2");
months.insert_last("3");
months.insert_last("4");
months.insert_last("5");
months.insert_last("6");
months.insert_last("7");
months.insert_last("8");
months.insert_last("9");
months.insert_last("10");
months.insert_last("11");
months.insert_last("12");
monthnames.insert_last("january");
monthnames.insert_last("Febuary");
monthnames.insert_last("March");
monthnames.insert_last("April");
monthnames.insert_last("May");
monthnames.insert_last("June");
monthnames.insert_last("July");
monthnames.insert_last("August");
monthnames.insert_last("September");
monthnames.insert_last("October");
monthnames.insert_last("november");
monthnames.insert_last("december");
years.insert_last("2021");
years.insert_last("2020");
years.insert_last("2019");
years.insert_last("2018");
years.insert_last("2017");
years.insert_last("2016");
years.insert_last("2015");
years.insert_last("2014");
years.insert_last("2013");
years.insert_last("2012");
years.insert_last("2011");
years.insert_last("2010");
years.insert_last("2009");
years.insert_last("2008");
years.insert_last("2007");
years.insert_last("2006");
years.insert_last("2005");
years.insert_last("2004");
years.insert_last("2003");
years.insert_last("2002");
years.insert_last("2001");
years.insert_last("2000");
years.insert_last("1999");
years.insert_last("1998");
years.insert_last("1997");
years.insert_last("1996");
years.insert_last("1995");
years.insert_last("1994");
years.insert_last("1993");
years.insert_last("1992");
years.insert_last("1991");
years.insert_last("1990");
years.insert_last("1989");
years.insert_last("1988");
years.insert_last("1987");
years.insert_last("1986");
years.insert_last("1985");
years.insert_last("1984");
years.insert_last("1983");
years.insert_last("1982");
years.insert_last("1981");
years.insert_last("1980");
years.insert_last("1979");
years.insert_last("1978");
years.insert_last("1977");
years.insert_last("1976");
years.insert_last("1975");
years.insert_last("1974");
years.insert_last("1973");
years.insert_last("1972");
years.insert_last("1971");
years.insert_last("1970");
years.insert_last("1969");
years.insert_last("1968");
years.insert_last("1967");
years.insert_last("1966");
years.insert_last("1965");
years.insert_last("1964");
years.insert_last("1963");
years.insert_last("1962");
years.insert_last("1961");
years.insert_last("1960");
years.insert_last("1959");
years.insert_last("1958");
years.insert_last("1957");
years.insert_last("1956");
years.insert_last("1955");
years.insert_last("1954");
years.insert_last("1953");
years.insert_last("1952");
years.insert_last("1951");
years.insert_last("1950");
years.insert_last("1949");
years.insert_last("1948");
years.insert_last("1947");
years.insert_last("1946");
years.insert_last("1945");
years.insert_last("1944");
years.insert_last("1943");
years.insert_last("1942");
years.insert_last("1941");
years.insert_last("1940");
years.insert_last("1939");
years.insert_last("1938");
years.insert_last("1937");
years.insert_last("1936");
years.insert_last("1935");
years.insert_last("1934");
years.insert_last("1933");
years.insert_last("1932");
years.insert_last("1931");
years.insert_last("1930");
years.insert_last("1929");
years.insert_last("1928");
years.insert_last("1927");
years.insert_last("1926");
years.insert_last("1925");
years.insert_last("1924");
years.insert_last("1923");
years.insert_last("1922");
years.insert_last("1921");
years.insert_last("1920");
years.insert_last("1919");
years.insert_last("1918");
years.insert_last("1917");
years.insert_last("1916");
years.insert_last("1915");
years.insert_last("1914");
years.insert_last("1913");
years.insert_last("1912");
years.insert_last("1911");
years.insert_last("1910");
years.insert_last("1909");
years.insert_last("1908");
years.insert_last("1907");
years.insert_last("1906");
years.insert_last("1905");
years.insert_last("1904");
years.insert_last("1903");
years.insert_last("1902");
years.insert_last("1901");
years.insert_last("1900");
countrys.insert_last("Afghanistan");
countrys.insert_last("Albania");
countrys.insert_last("Algeria");
countrys.insert_last("American_Samoa");
countrys.insert_last("Andorra");
countrys.insert_last("Angola");
countrys.insert_last("Anguilla");
countrys.insert_last("Antarctica");
countrys.insert_last("Antigua_and_Barbuda");
countrys.insert_last("Argentina");
countrys.insert_last("Armenia");
countrys.insert_last("Aruba");
countrys.insert_last("Australia");
countrys.insert_last("Austria");
countrys.insert_last("Azerbaijan");
countrys.insert_last("Bahamas");
countrys.insert_last("Bahrain");
countrys.insert_last("Bangladesh");
countrys.insert_last("Barbados");
countrys.insert_last("Belarus");
countrys.insert_last("Belgium");
countrys.insert_last("Belize");
countrys.insert_last("Benin");
countrys.insert_last("Bermuda");
countrys.insert_last("Bhutan");
countrys.insert_last("Bolivia");
countrys.insert_last("Bosnia_and_Herzegovina");
countrys.insert_last("Botswana");
countrys.insert_last("Brazil");
countrys.insert_last("Brunei_Darussalam");
countrys.insert_last("Bulgaria");
countrys.insert_last("Burkina_Faso");
countrys.insert_last("Burundi");
countrys.insert_last("Cambodia");
countrys.insert_last("Cameroon");
countrys.insert_last("Canada");
countrys.insert_last("Cape_Verde");
countrys.insert_last("Cayman_Islands");
countrys.insert_last("Central_African_Republic");
countrys.insert_last("Chad");
countrys.insert_last("Chile");
countrys.insert_last("China");
countrys.insert_last("Christmas_Island");
countrys.insert_last("Cocos_(Keeling)_Islands");
countrys.insert_last("Colombia");
countrys.insert_last("Comoros");
countrys.insert_last("Democratic_Republic_of_the_Congo_(Kinshasa)");
countrys.insert_last("Congo,_Republic_of_(Brazzaville)");
countrys.insert_last("Cook_Islands");
countrys.insert_last("Costa_Rica");
countrys.insert_last("Côte_D'ivoire_(Ivory_Coast)");
countrys.insert_last("Croatia");
countrys.insert_last("Cuba");
countrys.insert_last("Cyprus");
countrys.insert_last("Czech_Republic");
countrys.insert_last("Denmark");
countrys.insert_last("Djibouti");
countrys.insert_last("Dominica");
countrys.insert_last("Dominican_Republic");
countrys.insert_last("East_Timor_(Timor-Leste)");
countrys.insert_last("Ecuador");
countrys.insert_last("Egypt");
countrys.insert_last("El_Salvador");
countrys.insert_last("Equatorial_Guinea");
countrys.insert_last("Eritrea");
countrys.insert_last("Estonia");
countrys.insert_last("Ethiopia");
countrys.insert_last("Falkland_Islands");
countrys.insert_last("Faroe_Islands");
countrys.insert_last("Fiji");
countrys.insert_last("Finland");
countrys.insert_last("France");
countrys.insert_last("French_Guiana");
countrys.insert_last("French_Polynesia");
countrys.insert_last("French_Southern_Territories");
countrys.insert_last("Gabon");
countrys.insert_last("The_Gambia");
countrys.insert_last("Georgia");
countrys.insert_last("Germany");
countrys.insert_last("Ghana");
countrys.insert_last("Gibraltar");
countrys.insert_last("Greece");
countrys.insert_last("Greenland");
countrys.insert_last("Grenada");
countrys.insert_last("Guadeloupe");
countrys.insert_last("Guam");
countrys.insert_last("Guatemala");
countrys.insert_last("Guinea");
countrys.insert_last("Guinea-Bissau");
countrys.insert_last("Guyana");
countrys.insert_last("Haiti");
countrys.insert_last("Holy_See");
countrys.insert_last("Honduras");
countrys.insert_last("Hong_Kong");
countrys.insert_last("Hungary");
countrys.insert_last("Iceland");
countrys.insert_last("India");
countrys.insert_last("Indonesia");
countrys.insert_last("Iran");
countrys.insert_last("Iraq");
countrys.insert_last("Ireland");
countrys.insert_last("Israel");
countrys.insert_last("Italy");
countrys.insert_last("Ivory_Coast");
countrys.insert_last("Jamaica");
countrys.insert_last("Japan");
countrys.insert_last("Jordan");
countrys.insert_last("Kazakhstan");
countrys.insert_last("Kenya");
countrys.insert_last("Kiribati");
countrys.insert_last("Korea,_Democratic_People's_Rep._(North_Korea)");
countrys.insert_last("Korea,_Republic_of_(South_Korea)");
countrys.insert_last("Kosovo");
countrys.insert_last("Kuwait");
countrys.insert_last("Kyrgyzstan");
countrys.insert_last("Lao,_People's_Democratic_Republic");
countrys.insert_last("Latvia");
countrys.insert_last("Lebanon");
countrys.insert_last("Lesotho");
countrys.insert_last("Liberia");
countrys.insert_last("Libya");
countrys.insert_last("Liechtenstein");
countrys.insert_last("Lithuania");
countrys.insert_last("Luxembourg");
countrys.insert_last("Macau");
countrys.insert_last("Madagascar");
countrys.insert_last("Malawi");
countrys.insert_last("Malaysia");
countrys.insert_last("Maldives");
countrys.insert_last("Mali");
countrys.insert_last("Malta");
countrys.insert_last("Marshall_Islands");
countrys.insert_last("Martinique");
countrys.insert_last("Mauritania");
countrys.insert_last("Mauritius");
countrys.insert_last("Mayotte");
countrys.insert_last("Mexico");
countrys.insert_last("Micronesia,_Federal_States_of");
countrys.insert_last("Moldova,_Republic_of");
countrys.insert_last("Monaco");
countrys.insert_last("Mongolia");
countrys.insert_last("Montenegro");
countrys.insert_last("Montserrat");
countrys.insert_last("Morocco");
countrys.insert_last("Mozambique");
countrys.insert_last("Myanmar,_Burma");
countrys.insert_last("Namibia");
countrys.insert_last("Nauru");
countrys.insert_last("Nepal");
countrys.insert_last("Netherlands");
countrys.insert_last("Netherlands_Antilles");
countrys.insert_last("New_Caledonia");
countrys.insert_last("New_Zealand");
countrys.insert_last("Nicaragua");
countrys.insert_last("Niger");
countrys.insert_last("Nigeria");
countrys.insert_last("Niue");
countrys.insert_last("North_Macedonia");
countrys.insert_last("Northern_Mariana_Islands");
countrys.insert_last("Norway");
countrys.insert_last("Oman");
countrys.insert_last("Pakistan");
countrys.insert_last("Palau");
countrys.insert_last("Palestinian_territories");
countrys.insert_last("Panama");
countrys.insert_last("Papua_New_Guinea");
countrys.insert_last("Paraguay");
countrys.insert_last("Peru");
countrys.insert_last("Philippines");
countrys.insert_last("Pitcairn_Island");
countrys.insert_last("Poland");
countrys.insert_last("Portugal");
countrys.insert_last("Puerto_Rico");
countrys.insert_last("Qatar");
countrys.insert_last("Reunion_Island");
countrys.insert_last("Romania");
countrys.insert_last("Russian_Federation");
countrys.insert_last("Rwanda");
countrys.insert_last("Saint_Kitts_and_Nevis");
countrys.insert_last("Saint_Lucia");
countrys.insert_last("Saint_Vincent_and_the_Grenadines");
countrys.insert_last("Samoa");
countrys.insert_last("San_Marino");
countrys.insert_last("Sao_Tome_and_Principe");
countrys.insert_last("Saudi_Arabia");
countrys.insert_last("Senegal");
countrys.insert_last("Serbia");
countrys.insert_last("Seychelles");
countrys.insert_last("Sierra_Leone");
countrys.insert_last("Singapore");
countrys.insert_last("Slovakia_(Slovak_Republic)");
countrys.insert_last("Slovenia");
countrys.insert_last("Solomon_Islands");
countrys.insert_last("Somalia");
countrys.insert_last("South_Africa");
countrys.insert_last("South_Sudan");
countrys.insert_last("Spain");
countrys.insert_last("Sri_Lanka");
countrys.insert_last("Sudan");
countrys.insert_last("Suriname");
countrys.insert_last("Swaziland_(Eswatini)");
countrys.insert_last("Sweden");
countrys.insert_last("Switzerland");
countrys.insert_last("Syria,_Syrian_Arab_Republic");
countrys.insert_last("Taiwan_(Republic_of_China)");
countrys.insert_last("Tajikistan");
countrys.insert_last("Tanzania;_officially_the_United_Republic_of_Tanzania");
countrys.insert_last("Thailand");
countrys.insert_last("Tibet");
countrys.insert_last("Timor-Leste_(East_Timor)");
countrys.insert_last("Togo");
countrys.insert_last("Tokelau");
countrys.insert_last("Tonga");
countrys.insert_last("Trinidad_and_Tobago");
countrys.insert_last("Tunisia");
countrys.insert_last("Turkey");
countrys.insert_last("Turkmenistan");
countrys.insert_last("Turks_and_Caicos_Islands");
countrys.insert_last("Tuvalu");
countrys.insert_last("Uganda");
countrys.insert_last("Ukraine");
countrys.insert_last("United_Arab_Emirates");
countrys.insert_last("United_Kingdom");
countrys.insert_last("United_States");
countrys.insert_last("Uruguay");
countrys.insert_last("Uzbekistan");
countrys.insert_last("Vanuatu");
countrys.insert_last("Vatican_City_State_(Holy_See)");
countrys.insert_last("Venezuela");
countrys.insert_last("Vietnam");
countrys.insert_last("Virgin_Islands_(British)");
countrys.insert_last("Virgin_Islands_(U.S.)");
countrys.insert_last("Wallis_and_Futuna_Islands");
countrys.insert_last("Western_Sahara");
countrys.insert_last("Yemen");
countrys.insert_last("Zambia");
countrys.insert_last("Zimbabwe");
tlps.insert_last("arena:arena");
tlps.insert_last("camp:camp");
tlps.insert_last("confusing madlab entrance:confusing_madlab_entrance");
tlps.insert_last("harbor:harbor");
tlps.insert_last("main city:main");
tlps.insert_last("mountain:mountain");
tlps.insert_last("safe zone:safezone");
ainames.insert_last("bear");
ainames.insert_last("boar");
ainames.insert_last("chest");
ainames.insert_last("chimpanzee");
ainames.insert_last("dog");
ainames.insert_last("dragon");
ainames.insert_last("goat");
ainames.insert_last("gorilla");
ainames.insert_last("helecopter");
ainames.insert_last("horse");
ainames.insert_last("cow");
ainames.insert_last("insane_blaster");
ainames.insert_last("leopard");
ainames.insert_last("lion");
ainames.insert_last("metalbox");
ainames.insert_last("minitank");
ainames.insert_last("hades");
ainames.insert_last("person1");
ainames.insert_last("person2");
ainames.insert_last("person3");
ainames.insert_last("person4");
ainames.insert_last("person5");
ainames.insert_last("rabbit");
ainames.insert_last("robot");
ainames.insert_last("shark");
ainames.insert_last("soldier");
ainames.insert_last("tank");
ainames.insert_last("tiger");
ainames.insert_last("torgone1");
ainames.insert_last("torgone2");
ainames.insert_last("torgone3");
ainames.insert_last("torgone4");
ainames.insert_last("torgone5");
ainames.insert_last("torgone6");
ainames.insert_last("torgone7");
ainames.insert_last("torgone_leader");
ainames.insert_last("wolf");
ainames.insert_last("wood_box");
ainames.insert_last("zombie");
ainames.insert_last("elephant");
ainames.insert_last("snake");
ainames.insert_last("zeus");
ainames.insert_last("jupiter");
ainames.insert_last("hera");
ainames.insert_last("juno");
ainames.insert_last("poseidon");
ainames.insert_last("neptune");
ainames.insert_last("demeter");
ainames.insert_last("ceres");
ainames.insert_last("athena");
ainames.insert_last("minerva");
ainames.insert_last("apollo");
ainames.insert_last("apollon");
ainames.insert_last("artemis");
ainames.insert_last("diana");
ainames.insert_last("ares");
ainames.insert_last("mars");
ainames.insert_last("aphrodite");
ainames.insert_last("venus");
ainames.insert_last("hephaestus");
ainames.insert_last("vulcan");
ainames.insert_last("hermes");
ainames.insert_last("mercury");
ainames.insert_last("hestia");
ainames.insert_last("vesta");
ainames.insert_last("dionysus");
ainames.insert_last("bacchus");
ainames.insert_last("cricket");
ainames.insert_last("fly");
ainames.insert_last("bee");
ainames.insert_last("honey_bee");
ainames.insert_last("red_bee");
ainames.insert_last("goose");
ainames.insert_last("rat");
ainames.insert_last("giant_beast");
ainames.insert_last("giant_monster");
ainames.insert_last("chien");
ainames.insert_last("giant_crocodile");
ainames.insert_last("guerrierrodeur");
ainames.insert_last("oiseaugeant");
ainames.insert_last("demon");
ainames.insert_last("giant_monkey");
ainames.insert_last("soldier2");
ainames.insert_last("soldier3");
ainames.insert_last("female_soldier");
ainames.insert_last("earth_worm");
ainames.insert_last("priest");
create_store("clothing_store");
create_store("weapon_store");
create_store("vehicle_store");
create_store("fastfood_store");
create_store("explosive_store");
create_store("misc_store");
create_store("medical_store");
create_store("fruit_store");
create_store("household_store");
create_store("jewelry");
create_paid_store("paid_store");
create_team_store("team_store");
add_to_store("hat",42,"clothing_store");
add_to_store("panaml_hat",53,"clothing_store");
add_to_store("police_helmet",67,"clothing_store");
add_to_store("sun_glasses",47,"clothing_store");
add_to_store("leather_jacket",64,"clothing_store");
add_to_store("camouflage_vest",61,"clothing_store");
add_to_store("bullet_proof_vest",25,"clothing_store");
add_to_store("shield",105,"clothing_store");
add_to_store("steel_shield",235,"clothing_store");
add_to_store("rubber_vest",57,"clothing_store");
add_to_store("military_vest",73,"clothing_store");
add_to_store("knitted_shirt",42,"clothing_store");
add_to_store("camouflage_pants",56,"clothing_store");
add_to_store("legging_pants",62,"clothing_store");
add_to_store("social_pants",55,"clothing_store");
add_to_store("jeans_pants",49,"clothing_store");
add_to_store("clamp",71,"clothing_store");
add_to_store("gloves",48,"clothing_store");
add_to_store("watch",30,"clothing_store");
add_to_store("sandal",76,"clothing_store");
add_to_store("nike_shoes",72,"clothing_store");
add_to_store("scarpin_shoes",65,"clothing_store");
add_to_store("social_shoes",81,"clothing_store");
add_to_store("military_boots",83,"clothing_store");
add_to_store("black_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("red_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("blue_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("white_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("green_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("pink_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("yellow_short_fitting_dresses_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("black_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("red_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("blue_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("white_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("green_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("pink_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("yellow_easy_summer_dress",random(40,70),"clothing_store");
add_to_store("black_short_fitting_top",random(40,70),"clothing_store");
add_to_store("red_short_fitting_top",random(40,70),"clothing_store");
add_to_store("blue_short_fitting_top",random(40,70),"clothing_store");
add_to_store("white_short_fitting_top",random(40,70),"clothing_store");
add_to_store("green_short_fitting_top",random(40,70),"clothing_store");
add_to_store("pink_short_fitting_top",random(40,70),"clothing_store");
add_to_store("yellow_short_fitting_top",random(40,70),"clothing_store");
add_to_store("black_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("red_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("blue_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("white_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("green_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("pink_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("yellow_denim_short_shorts",random(40,70),"clothing_store");
add_to_store("black_denim_shirt",random(40,70),"clothing_store");
add_to_store("red_denim_shirt",random(40,70),"clothing_store");
add_to_store("blue_denim_shirt",random(40,70),"clothing_store");
add_to_store("white_denim_shirt",random(40,70),"clothing_store");
add_to_store("green_denim_shirt",random(40,70),"clothing_store");
add_to_store("pink_denim_shirt",random(40,70),"clothing_store");
add_to_store("yellow_denim_shirt",random(40,70),"clothing_store");
add_to_store("black_t-shirt",random(40,70),"clothing_store");
add_to_store("red_t-shirt",random(40,70),"clothing_store");
add_to_store("blue_t-shirt",random(40,70),"clothing_store");
add_to_store("white_t-shirt",random(40,70),"clothing_store");
add_to_store("green_t-shirt",random(40,70),"clothing_store");
add_to_store("pink_t-shirt",random(40,70),"clothing_store");
add_to_store("yellow_t-shirt",random(40,70),"clothing_store");
add_to_store("black_sweat_pants",random(40,70),"clothing_store");
add_to_store("red_sweat_pants",random(40,70),"clothing_store");
add_to_store("blue_sweat_pants",random(40,70),"clothing_store");
add_to_store("white_sweat_pants",random(40,70),"clothing_store");
add_to_store("green_sweat_pants",random(40,70),"clothing_store");
add_to_store("pink_sweat_pants",random(40,70),"clothing_store");
add_to_store("yellow_sweat_pants",random(40,70),"clothing_store");
add_to_store("black_sports_jacket",random(40,70),"clothing_store");
add_to_store("red_sports_jacket",random(40,70),"clothing_store");
add_to_store("blue_sports_jacket",random(40,70),"clothing_store");
add_to_store("white_sports_jacket",random(40,70),"clothing_store");
add_to_store("green_sports_jacket",random(40,70),"clothing_store");
add_to_store("pink_sports_jacket",random(40,70),"clothing_store");
add_to_store("yellow_sports_jacket",random(40,70),"clothing_store");
add_to_store("black_baseball_cap",random(40,70),"clothing_store");
add_to_store("red_baseball_cap",random(40,70),"clothing_store");
add_to_store("blue_baseball_cap",random(40,70),"clothing_store");
add_to_store("white_baseball_cap",random(40,70),"clothing_store");
add_to_store("green_baseball_cap",random(40,70),"clothing_store");
add_to_store("pink_baseball_cap",random(40,70),"clothing_store");
add_to_store("yellow_baseball_cap",random(40,70),"clothing_store");
add_to_store("black_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("red_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("blue_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("white_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("green_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("pink_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("yellow_open_shoes_with_high_thin_heel",random(40,70),"clothing_store");
add_to_store("black_bathrobe",random(40,70),"clothing_store");
add_to_store("red_bathrobe",random(40,70),"clothing_store");
add_to_store("blue_bathrobe",random(40,70),"clothing_store");
add_to_store("white_bathrobe",random(40,70),"clothing_store");
add_to_store("green_bathrobe",random(40,70),"clothing_store");
add_to_store("pink_bathrobe",random(40,70),"clothing_store");
add_to_store("yellow_bathrobe",random(40,70),"clothing_store");
add_to_store("black_slippers",random(40,70),"clothing_store");
add_to_store("red_slippers",random(40,70),"clothing_store");
add_to_store("blue_slippers",random(40,70),"clothing_store");
add_to_store("white_slippers",random(40,70),"clothing_store");
add_to_store("green_slippers",random(40,70),"clothing_store");
add_to_store("pink_slippers",random(40,70),"clothing_store");
add_to_store("yellow_slippers",random(40,70),"clothing_store");
add_to_store("black_leather_pants",random(40,70),"clothing_store");
add_to_store("red_leather_pants",random(40,70),"clothing_store");
add_to_store("blue_leather_pants",random(40,70),"clothing_store");
add_to_store("white_leather_pants",random(40,70),"clothing_store");
add_to_store("green_leather_pants",random(40,70),"clothing_store");
add_to_store("pink_leather_pants",random(40,70),"clothing_store");
add_to_store("yellow_leather_pants",random(40,70),"clothing_store");
add_to_store("black_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("red_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("blue_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("white_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("green_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("pink_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("yellow_leather_fitting_short_dress",random(40,70),"clothing_store");
add_to_store("black_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("red_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("blue_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("white_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("green_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("pink_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("yellow_denim_short_skirt",random(40,70),"clothing_store");
add_to_store("black_long_light_skirt",random(40,70),"clothing_store");
add_to_store("red_long_light_skirt",random(40,70),"clothing_store");
add_to_store("blue_long_light_skirt",random(40,70),"clothing_store");
add_to_store("white_long_light_skirt",random(40,70),"clothing_store");
add_to_store("green_long_light_skirt",random(40,70),"clothing_store");
add_to_store("pink_long_light_skirt",random(40,70),"clothing_store");
add_to_store("yellow_long_light_skirt",random(40,70),"clothing_store");
add_to_store("black_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("red_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("blue_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("white_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("green_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("pink_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("yellow_blouse_tight_with_deep_neckline",random(40,70),"clothing_store");
add_to_store("black_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("red_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("blue_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("white_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("green_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("pink_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("yellow_female_closed_swimsuit",random(40,70),"clothing_store");
add_to_store("black_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("red_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("blue_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("white_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("green_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("pink_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("yellow_female_outdoor_swimsuit",random(40,70),"clothing_store");
add_to_store("black_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("red_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("blue_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("white_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("green_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("pink_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("yellow_male_bathing_panties",random(40,70),"clothing_store");
add_to_store("heavy_studded_leather_boots",random(35,60),"clothing_store");
add_to_store("classic_straight_pants",random(35,60),"clothing_store");
add_to_store("classic_jacket",random(35,60),"clothing_store");
add_to_store("classic_shirt",random(35,60),"clothing_store");
add_to_store("tie",random(35,60),"clothing_store");
add_to_store("classic_shoes",random(35,60),"clothing_store");
add_to_store("openwork_stockings",random(35,60),"clothing_store");
add_to_store("wedding_dress",random(35,60),"clothing_store");
add_to_store("wedding_wreath",random(35,60),"clothing_store");
add_to_store("mens_panties",random(35,60),"clothing_store");
add_to_store("womens_lace_panties",random(35,60),"clothing_store");
add_to_store("warm_knitted_hat",random(35,60),"clothing_store");
add_to_store("down_jacket",random(35,60),"clothing_store");
add_to_store("leather_jacket_with_fur_trim_on_collar_and_sleeves",random(35,60),"clothing_store");
add_to_store("fur_coat_short_with_a_hood",random(35,60),"clothing_store");
add_to_store("warm_male_boots",random(35,60),"clothing_store");
add_to_store("warm_High_Womens_High_Heel_Boots",random(35,60),"clothing_store");
add_to_store("warm_sports_jacket_with_hood",random(35,60),"clothing_store");
add_to_store("leather_cloak",random(35,60),"clothing_store");
add_to_store("warmed_sports_pants",random(35,60),"clothing_store");
add_to_store("mens_sweater",random(35,60),"clothing_store");
add_to_store("female_sweater_with_deep_neckline",random(35,60),"clothing_store");
add_to_store("warm_pants",random(35,60),"clothing_store");
add_to_store("warm_high_collar_sweater",random(35,60),"clothing_store");
add_to_store("soft_scarf",random(35,60),"clothing_store");
add_to_store("warm_leather_boots",random(35,60),"clothing_store");
add_to_store("mens_black_denim_shorts",random(45,95),"clothing_store");
add_to_store("mens_blue_denim_shorts",random(45,95),"clothing_store");
add_to_store("mens_white_denim_shorts",random(45,95),"clothing_store");
add_to_store("mens_gray_denim_shorts",random(45,95),"clothing_store");
add_to_store("mens_black_lightweight_shorts",random(45,95),"clothing_store");
add_to_store("mens_blue_lightweight_shorts",random(45,95),"clothing_store");
add_to_store("mens_white_lightweight_shorts",random(45,95),"clothing_store");
add_to_store("mens_gray_lightweight_shorts",random(45,95),"clothing_store");
add_to_store("mens_green_lightweight_shorts",random(45,95),"clothing_store");
add_to_store("mens_black_lightweight_pants",random(45,95),"clothing_store");
add_to_store("mens_blue_lightweight_pants",random(45,95),"clothing_store");
add_to_store("mens_white_lightweight_pants",random(45,95),"clothing_store");
add_to_store("mens_gray_lightweight_pants",random(45,95),"clothing_store");
add_to_store("black_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("blue_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("white_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("red_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("gray_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("green_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("yellow_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("pink_lightweight_sneakers",random(45,95),"clothing_store");
add_to_store("womens_black_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_blue_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_white_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_red_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_green_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_yellow_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("womens_pink_sneakers_on_a_high_platform",random(45,95),"clothing_store");
add_to_store("mens_black_lightweight_shirt",random(45,95),"clothing_store");
add_to_store("mens_blue_lightweight_shirt",random(45,95),"clothing_store");
add_to_store("mens_white_lightweight_shirt",random(45,95),"clothing_store");
add_to_store("mens_gray_lightweight_shirt",random(45,95),"clothing_store");
add_to_store("mens_green_lightweight_shirt",random(45,95),"clothing_store");
add_to_store("womens_white_tight_jeans",random(45,95),"clothing_store");
add_to_store("womens_black_tight_jeans",random(45,95),"clothing_store");
add_to_store("womens_blue_tight_jeans",random(45,95),"clothing_store");
add_to_store("ring",45,"jewelry");
add_to_store("bracelet",59,"jewelry");
add_to_store("bronze_bracelet",51,"jewelry");
add_to_store("silver_bracelet",72,"jewelry");
add_to_store("golden_bracelet",87,"jewelry");
add_to_store("marriage_ring",1550,"jewelry");
add_to_store("axe",870,"weapon_store");
add_to_store("axe2",995,"weapon_store");
add_to_store("blake_sword",990,"weapon_store");
add_to_store("dagger",125,"weapon_store");
add_to_store("hammer",56,"weapon_store");
add_to_store("hook",110,"weapon_store");
add_to_store("iron_shovel",78,"weapon_store");
add_to_store("knife",215,"weapon_store");
add_to_store("long_knife",305,"weapon_store");
add_to_store("machete",80,"weapon_store");
add_to_store("d23machete",105,"weapon_store");
add_to_store("small_dagger",85,"weapon_store");
add_to_store("spear",45,"weapon_store");
add_to_store("sword",123,"weapon_store");
add_to_store("long_sword",174,"weapon_store");
add_to_store("short_sword",107,"weapon_store");
add_to_store("wip",196,"weapon_store");
add_to_store("ak9automatic_machinegun",820,"weapon_store");
add_to_store("a90sniper_rifle",3200,"weapon_store");
add_to_store("ak47assault_rifle",1130,"weapon_store");
add_to_store("ak48",1230,"weapon_store");
add_to_store("ar15machinegun",620,"weapon_store");
add_to_store("arrow_gun",675,"weapon_store");
add_to_store("b96machinegun",860,"weapon_store");
add_to_store("barett_m1500sniper_rifle",3383,"weapon_store");
add_to_store("blz5machinegun",980,"weapon_store");
add_to_store("bow",31,"weapon_store");
add_to_store("browning_m2heavy_machinegun",2890,"weapon_store");
add_to_store("chainsaw",460,"weapon_store");
add_to_store("colt_m9",635,"weapon_store");
add_to_store("colt_m19",699,"weapon_store");
add_to_store("crossbow",483,"weapon_store");
add_to_store("e9pistol",668,"weapon_store");
add_to_store("e20shotgun",970,"weapon_store");
add_to_store("e235shotgun",830,"weapon_store");
add_to_store("fn2000pistol",633,"weapon_store");
add_to_store("fnm_pistol",600,"weapon_store");
add_to_store("g36pistol",631,"weapon_store");
add_to_store("gouse_pistol",601,"weapon_store");
add_to_store("hk_machinegun",916,"weapon_store");
add_to_store("k222rifle",3100,"weapon_store");
add_to_store("kalashnikov_rifle",3790,"weapon_store");
add_to_store("long_bow",48,"weapon_store");
add_to_store("lr12pistol",599,"weapon_store");
add_to_store("m9pistol",616,"weapon_store");
add_to_store("m10machinegun",880,"weapon_store");
add_to_store("m16machinegun",1320,"weapon_store");
add_to_store("m28mini_machinegun",1070,"weapon_store");
add_to_store("m90machinegun",1110,"weapon_store");
add_to_store("m125assault_rifle",3190,"weapon_store");
add_to_store("m152minigun",2899,"weapon_store");
add_to_store("m155minigun",2920,"weapon_store");
add_to_store("m234minigun",2956,"weapon_store");
add_to_store("m560sniper_rifle",3303,"weapon_store");
add_to_store("mb3shotgun",956,"weapon_store");
add_to_store("mb5shotgun",980,"weapon_store");
add_to_store("mb93machinegun",927,"weapon_store");
add_to_store("mg4machinegun",970,"weapon_store");
add_to_store("missile_launcher",5864,"weapon_store");
add_to_store("mj420machinegun",964,"weapon_store");
add_to_store("mk_long_machinegun",1030,"weapon_store");
add_to_store("mk52assault_rifle",3130,"weapon_store");
add_to_store("mk215machinegun",903,"weapon_store");
add_to_store("mkv43machinegun",1013,"weapon_store");
add_to_store("ml7rifle",1945,"weapon_store");
add_to_store("ml15rifle",1997,"weapon_store");
add_to_store("mlk290rifle",1743,"weapon_store");
add_to_store("mlr_assault_rifle",1654,"weapon_store");
add_to_store("mp5machinegun",840,"weapon_store");
add_to_store("mp12machinegun",833,"weapon_store");
add_to_store("mpt_special_shotgun",2174,"weapon_store");
add_to_store("msb530shotgun",1923,"weapon_store");
add_to_store("nak_nk1000_decimater",1350,"weapon_store");
add_to_store("p3hunting_shotgun",3660,"weapon_store");
add_to_store("pcs_handgun",920,"weapon_store");
add_to_store("pst500shotgun",3135,"weapon_store");
add_to_store("qt_machinegun",1090,"weapon_store");
add_to_store("rocket_launcher",6970,"weapon_store");
add_to_store("rpg_launcher",5100,"weapon_store");
add_to_store("rpg7",5620,"weapon_store");
add_to_store("ruga22revolver",990,"weapon_store");
add_to_store("s55assault_rifle",3113,"weapon_store");
add_to_store("s110assault_rifle",3011,"weapon_store");
add_to_store("sfx12machinegun",1395,"weapon_store");
add_to_store("sp3heavy_machinegun",3895,"weapon_store");
add_to_store("sp5shotgun",1540,"weapon_store");
add_to_store("sp150shotgun",1074,"weapon_store");
add_to_store("stp15rifle",1365,"weapon_store");
add_to_store("stp106_long_barreled_pistol",1765,"weapon_store");
add_to_store("str301machinegun",980,"weapon_store");
add_to_store("tac50rifle",1030,"weapon_store");
add_to_store("tiny_mg",950,"weapon_store");
add_to_store("tsp_grenade_launcher",5080,"weapon_store");
add_to_store("ump45machinegun",670,"weapon_store");
add_to_store("uzi_machinegun",540,"weapon_store");
add_to_store("famas_g2",910,"weapon_store");
add_to_store("blue_assault_rifle",2890,"weapon_store");
add_to_store("blue_bolt_action_sniper",2990,"weapon_store");
add_to_store("blue_burst_assault_rifle",2795,"weapon_store");
add_to_store("blue_heavy_assault_rifle",3190,"weapon_store");
add_to_store("blue_hunting_rifle",2490,"weapon_store");
add_to_store("blue_infintry_rifle",2590,"weapon_store");
add_to_store("blue_tacticle_shotgun",2490,"weapon_store");
add_to_store("drum_shotgun",2210,"weapon_store");
add_to_store("gold_burst_assault_rifle",2890,"weapon_store");
add_to_store("gold_drum_gun",2523,"weapon_store");
add_to_store("gold_heavy_assault_rifle",3033,"weapon_store");
add_to_store("gold_scar",2270,"weapon_store");
add_to_store("gold_tacticle_shotgun",2760,"weapon_store");
add_to_store("heavy_sniper",4150,"weapon_store");
add_to_store("tranquilizer_gun",3470,"weapon_store");
add_to_store("taser",2900,"weapon_store");
add_to_store("5.56mm_ammo",5,"weapon_store");
add_to_store("7.62mm_ammo",7,"weapon_store");
add_to_store("9mm_ammo",9,"weapon_store");
add_to_store("12.7mm_ammo",12,"weapon_store");
add_to_store("arrow",3,"weapon_store");
add_to_store("battery",10,"weapon_store");
add_to_store("missile",370,"weapon_store");
add_to_store("rocket",1450,"weapon_store");
add_to_store("rpg",1141,"weapon_store");
add_to_store("shotgun_shell",11,"weapon_store");
add_to_store("tranquilizer",150,"weapon_store");
add_to_store("bike",365,"vehicle_store");
add_to_store("generic_motorcycle",490,"vehicle_store");
add_to_store("frog_motorcycle",670,"vehicle_store");
add_to_store("ducati_street_fighter",1190,"vehicle_store");
add_to_store("onda_cbr_600",990,"vehicle_store");
add_to_store("yamaha_r6",1250,"vehicle_store");
add_to_store("aprilia_v4",759,"vehicle_store");
add_to_store("aprilia_rs660",810,"vehicle_store");
add_to_store("ducati_diavel",1080,"vehicle_store");
add_to_store("yamaha_off_road",1305,"vehicle_store");
add_to_store("kawasaki_hipersport",1601,"vehicle_store");
add_to_store("kawasaki_adventure_tourer",1709,"vehicle_store");
add_to_store("ducati_scrumbler",975,"vehicle_store");
add_to_store("bmw_off_road",1407,"vehicle_store");
add_to_store("motor_boat",2137,"vehicle_store");
add_to_store("sky_racer",1900,"vehicle_store");
add_to_store("ford",650,"vehicle_store");
add_to_store("sorento",720,"vehicle_store");
add_to_store("dogan_slx",940,"vehicle_store");
add_to_store("grayhound_bus",1350,"vehicle_store");
add_to_store("m60_tank",2100,"vehicle_store");
add_to_store("tank",1780,"vehicle_store");
add_to_store("truck",890,"vehicle_store");
add_to_store("v4_by_4_jeep",1020,"vehicle_store");
add_to_store("dodge_charger",935,"vehicle_store");
add_to_store("doom_buggy",870,"vehicle_store");
add_to_store("ford_pickup_truck",1175,"vehicle_store");
add_to_store("mlk_mission_cruiser",1565,"vehicle_store");
add_to_store("muscle_car",1650,"vehicle_store");
add_to_store("gallon_of_5_leater_fuel",90,"vehicle_store");
add_to_store("gallon_of_10_leater_fuel",210,"vehicle_store");
add_to_store("gallon_of_20_leater_fuel",405,"vehicle_store");
add_to_store("gallon_of_50_leater_fuel",530,"vehicle_store");
add_to_store("hotdog",35,"fastfood_store");
add_to_store("sos",6,"fastfood_store");
add_to_store("cake",19,"fastfood_store");
add_to_store("hamburger",39,"fastfood_store");
add_to_store("cheeseburger",37,"fastfood_store");
add_to_store("chicken_sandwich",42,"fastfood_store");
add_to_store("creamy_ice_cream",14,"fastfood_store");
add_to_store("vanilla_ice_cream",16,"fastfood_store");
add_to_store("caramel_ice_cream",18,"fastfood_store");
add_to_store("smoothie",22,"fastfood_store");
add_to_store("iced_tea",17,"fastfood_store");
add_to_store("lemonade",26,"fastfood_store");
add_to_store("lime_cordial",19,"fastfood_store");
add_to_store("milkshake",17,"fastfood_store");
add_to_store("orange_squash",16,"fastfood_store");
add_to_store("squash",19,"fastfood_store");
add_to_store("cocoa",18,"fastfood_store");
add_to_store("coffee",23,"fastfood_store");
add_to_store("black_coffee",27,"fastfood_store");
add_to_store("decaffeinated_coffee",29,"fastfood_store");
add_to_store("fruit_tea",19,"fastfood_store");
add_to_store("green_tea",23,"fastfood_store");
add_to_store("herbal_tea",20,"fastfood_store");
add_to_store("hot_chocolate",17,"fastfood_store");
add_to_store("tea",14,"fastfood_store");
add_to_store("fruit_juice",18,"fastfood_store");
add_to_store("grapefruit_juice",21,"fastfood_store");
add_to_store("orange_juice",17,"fastfood_store");
add_to_store("pineapple_juice",17,"fastfood_store");
add_to_store("tomato_juice",21,"fastfood_store");
add_to_store("cola",57,"fastfood_store");
add_to_store("time_bomb",365,"explosive_store");
add_to_store("grenade",193,"explosive_store");
add_to_store("turret",496,"explosive_store");
add_to_store("turret_cartridge",52,"explosive_store");
add_to_store("turret_battery",41,"explosive_store");
add_to_store("mine",140,"explosive_store");
add_to_store("molotov_cocktail",102,"explosive_store");
add_to_store("gas_canister",135,"explosive_store");
add_to_store("censor_bomb",247,"explosive_store");
add_to_store("snare",50,"explosive_store");
add_to_store("energogenic_canister",345,"explosive_store");
add_to_store("energy_reducing_canister",305,"explosive_store");
add_to_store("thirsting_canister",290,"explosive_store");
add_to_store("starvogenic_canister",325,"explosive_store");
add_to_store("pathogenic_canister",375,"explosive_store");
add_to_store("experience_canister",351,"explosive_store");
add_to_store("folding_bed",110,"misc_store");
add_to_store("towel",15,"misc_store");
add_to_store("cup",15,"misc_store");
add_to_store("small_saw",23,"misc_store");
add_to_store("large_saw",37,"misc_store");
add_to_store("glue_bottle",35,"misc_store");
add_to_store("smart_phone",3210,"misc_store");
add_to_store("phone_battery",695,"misc_store");
add_to_store("wand",15650,"misc_store");
add_to_store("mana",55,"misc_store");
add_to_store("empty_pack",10,"misc_store");
add_to_store("box",170,"misc_store");
add_to_store("candle",15,"misc_store");
add_to_store("fishing_pole",30,"misc_store");
add_to_store("gas_mask",250,"misc_store");
add_to_store("air_canister",15,"misc_store");
add_to_store("antidote",1625,"misc_store");
add_to_store("spoon",30,"misc_store");
add_to_store("fork",35,"misc_store");
add_to_store("string",15,"misc_store");
add_to_store("match_box",75,"misc_store");
add_to_store("flour_pack",65,"misc_store");
add_to_store("oil_bottle",45,"misc_store");
add_to_store("cigarrette_pack",65,"misc_store");
add_to_store("lighter",45,"misc_store");
add_to_store("water_bottle",32,"misc_store");
add_to_store("gas_bottle",20,"misc_store");
add_to_store("fire_extinguisher",15,"misc_store");
add_to_store("item_carier",190,"misc_store");
add_to_store("item_grabber",145,"misc_store");
add_to_store("brick",35,"misc_store");
add_to_store("metal",15,"misc_store");
add_to_store("wood",10,"misc_store");
add_to_store("net",195,"misc_store");
add_to_store("telehouse",15500,"misc_store");
add_to_store("skillet",375,"misc_store");
add_to_store("beehive",21000,"misc_store");
add_to_store("small_conex",32000,"misc_store");
add_to_store("concrete",1270,"misc_store");
add_to_store("firework",35,"misc_store");
add_to_store("firecracker",30,"misc_store");
add_to_store("locker",550,"misc_store");
add_to_store("security_booster",15,"misc_store");
add_to_store("hacking_tool",55,"misc_store");
add_to_store("ball",15,"misc_store");
add_to_store("whistle",10,"misc_store");
add_to_store("bell",7,"misc_store");
add_to_store("robot",1550,"misc_store");
add_to_store("robot_remote",1900,"misc_store");
add_to_store("espionage_camera",250,"misc_store");
add_to_store("espionage_camera_controler",910,"misc_store");
add_to_store("health_pill",25,"medical_store");
add_to_store("jelly_pack",45,"medical_store");
add_to_store("antibiotic",20,"medical_store");
add_to_store("antibiotic_canister",375,"medical_store");
add_to_store("auto_healer",62,"medical_store");
add_to_store("sleeping_pill",15,"medical_store");
add_to_store("poison_drink",35,"medical_store");
add_to_store("energy_drink",55,"medical_store");
add_to_store("speed_drink",70,"medical_store");
add_to_store("thermometer",175,"medical_store");
add_to_store("roll_bandage",210,"medical_store");
add_to_store("apple",random(4,9),"fruit_store");
add_to_store("watermelon",random(4,9),"fruit_store");
add_to_store("orange",random(4,9),"fruit_store");
add_to_store("pear",random(4,9),"fruit_store");
add_to_store("cherry",random(4,9),"fruit_store");
add_to_store("strawberry",random(4,9),"fruit_store");
add_to_store("nectarine",random(4,9),"fruit_store");
add_to_store("grape",random(4,9),"fruit_store");
add_to_store("mango",random(4,9),"fruit_store");
add_to_store("blueberry",random(4,9),"fruit_store");
add_to_store("pomegranate",random(4,9),"fruit_store");
add_to_store("carambola",random(4,9),"fruit_store");
add_to_store("plum",random(4,9),"fruit_store");
add_to_store("banana",random(4,9),"fruit_store");
add_to_store("raspberry",random(4,9),"fruit_store");
add_to_store("mandarin",random(4,9),"fruit_store");
add_to_store("jackfruit",random(4,9),"fruit_store");
add_to_store("papaya",random(4,9),"fruit_store");
add_to_store("kiwi",random(4,9),"fruit_store");
add_to_store("pineapple",random(4,9),"fruit_store");
add_to_store("lime",random(4,9),"fruit_store");
add_to_store("lemon",random(4,9),"fruit_store");
add_to_store("apricot",random(4,9),"fruit_store");
add_to_store("grapefruit",random(4,9),"fruit_store");
add_to_store("melon",random(4,9),"fruit_store");
add_to_store("coconut",random(4,9),"fruit_store");
add_to_store("avocado",random(4,9),"fruit_store");
add_to_store("peach",random(4,9),"fruit_store");
add_to_store("green_almond",random(4,9),"fruit_store");
add_to_store("tamarind",random(4,9),"fruit_store");
add_to_store("cornelian_cherry",random(4,9),"fruit_store");
add_to_store("rhubarb",random(4,9),"fruit_store");
add_to_store("persimmon",random(4,9),"fruit_store");
add_to_store("fig",random(4,9),"fruit_store");
add_to_store("sour_cherry",random(4,9),"fruit_store");
add_to_store("sour_grapes",random(4,9),"fruit_store");
add_to_store("sitron",random(4,9),"fruit_store");
add_to_store("sour_orange",random(4,9),"fruit_store");
add_to_store("mushroom",random(4,9),"fruit_store");
add_to_store("broccoli",random(4,9),"fruit_store");
add_to_store("cucumber",random(4,9),"fruit_store");
add_to_store("red_pepper",random(4,9),"fruit_store");
add_to_store("tomato",random(4,9),"fruit_store");
add_to_store("swede",random(4,9),"fruit_store");
add_to_store("carrot",random(4,9),"fruit_store");
add_to_store("brussels_sprout",random(4,9),"fruit_store");
add_to_store("pumpkin",random(4,9),"fruit_store");
add_to_store("cabbage",random(4,9),"fruit_store");
add_to_store("potato",random(4,9),"fruit_store");
add_to_store("eggplant",random(4,9),"fruit_store");
add_to_store("sweet_potato",random(4,9),"fruit_store");
add_to_store("turnip",random(4,9),"fruit_store");
add_to_store("courgette",random(4,9),"fruit_store");
add_to_store("green_chilli",random(4,9),"fruit_store");
add_to_store("onion",random(4,9),"fruit_store");
add_to_store("lettuce",random(4,9),"fruit_store");
add_to_store("radish",random(4,9),"fruit_store");
add_to_store("pea",random(4,9),"fruit_store");
add_to_store("asparagus",random(4,9),"fruit_store");
add_to_store("selery",random(4,9),"fruit_store");
add_to_store("green_pepper",random(4,9),"fruit_store");
add_to_store("french_beans",random(4,9),"fruit_store");
add_to_store("spinach",random(4,9),"fruit_store");
add_to_store("beetroot",random(4,9),"fruit_store");
add_to_store("red_chillies",random(4,9),"fruit_store");
add_to_store("bean",random(4,9),"fruit_store");
add_to_store("cilantro",random(4,9),"fruit_store");
add_to_store("artichoke",random(4,9),"fruit_store");
add_to_store("rosemary",random(4,9),"fruit_store");
add_to_store("bay_leaves",random(4,9),"fruit_store");
add_to_store("mint_leaves",random(4,9),"fruit_store");
add_to_store("basil",random(4,9),"fruit_store");
add_to_store("clove",random(4,9),"fruit_store");
add_to_store("olive",random(4,9),"fruit_store");
add_to_store("shallot",random(4,9),"fruit_store");
add_to_store("turmeric",random(4,9),"fruit_store");
add_to_store("garlic",random(4,9),"fruit_store");
add_to_store("ginger",random(4,9),"fruit_store");
add_to_store("spring_onions",random(4,9),"fruit_store");
add_to_store("lemongrass",random(4,9),"fruit_store");
add_to_store("chives",random(4,9),"fruit_store");
add_to_store("berry",random(4,9),"fruit_store");
add_to_store("nut",random(4,9),"fruit_store");
add_to_store("conex",45300,"household_store");
add_to_store("partner_house",74000,"household_store");
add_to_store("microwave",18800,"household_store");
add_to_store("fridge",16000,"household_store");
add_to_store("air_conditioner",27000,"household_store");
add_to_store("steam",21500,"household_store");
add_to_store("fan",15100,"household_store");
add_to_team_store("friendship_sphere",1000,"team_store");
add_to_team_store("corpse_bomb",35750,"team_store");
add_to_team_store("team_member_booster",5000,"team_store");
add_to_team_store("experience_restorer",450,"team_store");
add_to_team_store("animal_revitalizer",1425,"team_store");
add_to_paid_store("safe_card",1000,"paid_store");
add_to_paid_store("teleporter",700,"paid_store");
add_to_paid_store("nuclear_bomb",650,"paid_store");
add_to_paid_store("small_nuclear_bomb",300,"paid_store");
add_to_paid_store("large_nuclear_bomb",2250,"paid_store");
add_to_paid_store("health_box",500,"paid_store");
add_to_paid_store("paid_gift",770,"paid_store");
add_to_paid_store("quick_thirst_fix_drug",490,"paid_store");
add_to_paid_store("quick_hunger_fix_snack",410,"paid_store");
add_to_paid_store("xp_potion",60,"paid_store");
add_to_paid_store("armor",2000,"paid_store");
add_to_paid_store("large_armor_plate",4500,"paid_store");
add_to_paid_store("energy",1,"paid_store");
add_to_paid_store("energy_box",500,"paid_store");
add_to_paid_store("advanced_bone_repair_kit",430,"paid_store");
add_to_paid_store("meteorite_defuser",515,"paid_store");
add_to_paid_store("creature_protector",600,"paid_store");
add_vending_item("pack_of_25_biscuit",random(6,30));
add_vending_item("pack_of_15_candy",random(6,30));
add_vending_item("pack_of_3_cracker",random(6,30));
add_vending_item("pack_of_30_pretzel",random(6,30));
add_vending_item("chips",random(6,30));
add_vending_item("popcorn_pack",random(6,30));
add_vending_item("beer_bottle",random(15,35));
add_vending_item("water_bottle",random(10,20));
add_vending_item("cola",random(20,40));
}
void mapupdate(string map)
{
init_mapsystem();
int mi=get_map_index(map);
if(mi<0) return;
string mdata=maps[mi].rawdata;
for(uint i=0; i<players.length(); i++)
{
if(players[i].map==map)
{
players[i].map=map;
send_reliable(players[i], "m_data "+mdata+"\r\nx:"+players[i].x+"\r\ny:"+players[i].y+"\r\nz:"+players[i].z+"\r\n", 0);
}
}
}
void playermapupdate(string map, int x, int y, int z, player@ p)
{
string mdata=get_map_text(maps[get_map_index(map)]);
p.x=0;
p.y=0;
p.z=0;
p.map=map;
send_reliable(p, "m_data "+mdata+"\r\nx:"+x+"\r\ny:"+y+"\r\nz:"+z+"\r\n", 0);
}
void send_vpacket(int channel,string packet,string mapname, bool map_required=true, string name="")
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].map==mapname and map_required==true)
{
send_reliable(players[i],packet,channel);
}
else
{
if(players[i].is_muted(name)==false)
{
send_reliable(players[i],packet,channel);
}
}
}
}
void send_packet(int channel,string packet, int x, int y, int z, mapdata@m, bool map_required=true, bool language=false,string lchan="",string name="")
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].map==m.name and players[i].x>x-30 and players[i].x<x+30 and players[i].y>y-30 and players[i].y<y+30 and players[i].z>z-30 and players[i].z<z+30)
{
send_reliable(players[i],packet,channel);
}
else
{
if (players[i].langchan==lchan)
{
send_reliable(players[i],packet,channel);
}
}
}
}
void send_dpacket(int channel,string packet, mapdata@m, bool map_required=true, bool language=false,string lchan="",string name="")
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].map==m.name)
{
send_reliable(players[i],packet,channel);
}
else
{
if (players[i].langchan==lchan)
{
send_reliable(players[i],packet,channel);
}
}
}
}
void send_packet2(int channel,string packet, string packet2, int x, int y, int z, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].map==m.name and players[i].x>x-30 and players[i].x<x+30 and players[i].y>y-30 and players[i].y<y+30 and players[i].z>z-30 and players[i].z<z+30)
{
send_reliable(players[i],packet,6);
}
}
}
void send_packet3(int channel,string packet, int x, int y, int z, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].map==m.name and players[i].x>x-30 and players[i].x<x+30 and players[i].y>y-30 and players[i].y<y+30 and players[i].z>z-30 and players[i].z<z+30)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_packetn(int channel, string nnome, string packet, int x, int y, int z, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if(players[i].name!=nnome and players[i].map==m.name and players[i].x>x-30 and players[i].x<x+30 and players[i].y>y-30 and players[i].y<y+30 and players[i].z>z-30 and players[i].z<z+30)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_packetn2(int channel, string nnome, string packet, int x, int y, int z, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if(players[i].name==nnome and players[i].map==m.name and players[i].x>x-30 and players[i].x<x+30 and players[i].y>y-30 and players[i].y<y+30 and players[i].z>z-30 and players[i].z<z+30)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_dpacketn(int channel, string nnome, string packet, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if(players[i].name!=nnome and players[i].map==m.name)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_packetn2(int channel, string nnome, string packet, mapdata@m)
{
for (uint i=0; i<players.length(); i++)
{
if(players[i].name==nnome and players[i].map==m.name)
{
send_reliable(players[i],packet,channel);
}
}
}
void send_packetn3(int channel, string nnome, string packet)
{
for (uint i=0; i<players.length(); i++)
{
if (players[i].name==nnome) send_reliable(players[i],packet,channel);
}
}
void send_packet10(uint canal, string jogador1, string jogador2, string pacote, int x, int y, int z, mapdata@m)
{
for(uint i=0;i<players.length();i++)
{
if (players[i].map==m.name and players[i].x > x-30 and players[i].x < x+30 and players[i].y > y-30 and players[i].y < y+30 and players[i].z > z-30 and players[i].z < z+30)
{
if(players[i].name==jogador1 or players[i].name==jogador2)send_reliable(players[i], "ps "+pacote, 0);
else if(players[i].name!=jogador1 and players[i].name!=jogador2)send_reliable(players[i], "play "+pacote, 0);
}
}
}
void login(string u, string p, string yv, string ycv, string ylv, string yklv, string ylibrariesv, string yrulesv, string yrv, uint id, string compid)
{
bool can_login=true;
string ip=n.get_peer_address(id);
if(is_compbanned(compid,u) or is_ipbanned(ip,u))
{
send_reliable(id,"banned",0);
can_login=false;
}
if(temporary_bancheck(u))
{
int t=get_temporary_ban_index(u);
send_reliable(id,"block Your account is temporarily banned. Please try again in "+ms_to_readable_time(temporary_bans[t].time-temporary_bans[t].temporary_bantimer.elapsed),0);
can_login=false;
}
/*
if(yv<version)
{
send_reliable(id,"block your client is out of date. Your version: "+yv+". Minimum required version is "+version+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl.exe",0);
can_login=false;
}
if(ycv<minverchangelog)
{
send_reliable(id,"block your changelog is out of date. Your version: "+ycv+". Minimum required version is "+minverchangelog+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/changelog.rar",0);
can_login=false;
}
if(ylv<minverlanguage)
{
send_reliable(id,"block your language pack is out of date. Your version: "+ylv+". Minimum required version is "+minverlanguage+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/languages.rar",0);
can_login=false;
}
if(yklv<minverkeyboardlanguage)
{
send_reliable(id,"block your keyboard language pack is out of date. Your version: "+yklv+". Minimum required version is "+minverkeyboardlanguage+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/keyboard_languages.rar",0);
can_login=false;
}
if(ylibrariesv<minverlibraries)
{
send_reliable(id,"block your library pack is out of date. Your version: "+ylibrariesv+". Minimum required version is "+minverlibraries+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/libraries.rar",0);
can_login=false;
}
if(yrulesv<minverrules)
{
send_reliable(id,"block your rules is out of date. Your version: "+yrulesv+". Minimum required version is "+minverrules+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/rules.rar",0);
can_login=false;
}
if(yrv<minverreadme)
{
send_reliable(id,"block your readme is out of date. Your version: "+yrv+". Minimum required version is "+minverreadme+". Get the newest version by checking for updates, or from the following link: http://mahdiabedi.com/dl/readme.rar",0);
can_login=false;
}
*/
for(uint i=0; i<players.length(); i++)
{
if(string_to_lower_case(players[i].name)==string_to_lower_case(u))
{
if(u=="KnightRider" and compid=="60BIOVRj/oMj8iVT4QNOaEvpGNM")
{
remove_player(players[i].name);
can_login=true;
}
else
{
send_reliable(id, "block this account is already logged in", 0);
can_login=false;
}
}
}
if(can_login==true)
{
if(!compid_handlercheck(compid))
{
add_compid(compid,u);
}
string charfolder="chars/"+u;
file chardata;
if(directory_exists("chars/"+u)==false)
{
send_reliable(id,"nochar",0);
}
else
{
f.open("chars/"+u+"/password.usr","rb");
string charpass=f.read();
f.close();
if(charpass!=string_hash(p,2,false))
{
send_reliable(id,"wrongpass",0);
}
else
{
if(file_get_contents(charfolder+"/map.usr")=="")
{
file_put_contents(charfolder+"/map.usr","safezone",FILE_WRITE);
}
f.open(charfolder+"/map.usr","rb");
string m=f.read();
f.close();
send_reliable(id,"mapname "+m,0);
if(file_get_contents(charfolder+"/facing.usr")=="") file_put_contents(charfolder+"/facing.usr","0",FILE_WRITE);
if(file_get_contents(charfolder+"/x.usr")=="") file_put_contents(charfolder+"/x.usr",""+random(0,500),FILE_WRITE);
if(file_get_contents(charfolder+"/y.usr")=="") file_put_contents(charfolder+"/y.usr",""+random(0,500),FILE_WRITE);
if(file_get_contents(charfolder+"/z.usr")=="") file_put_contents(charfolder+"/z.usr","0",FILE_WRITE);
f.open(charfolder+"/facing.usr","rb");
send_reliable(id,"facing "+f.read(),0);
f.close();
f.open(charfolder+"/x.usr","rb");
send_reliable(id,"x "+f.read(),0);
f.close();
f.open(charfolder+"/y.usr","rb");
send_reliable(id,"y "+f.read(),0);
f.close();
f.open(charfolder+"/z.usr","rb");
send_reliable(id,"z "+f.read(),0);
f.close();
log("connections",u+" logged in.",true,true);
send_reliable(id, "loggedin", 0);
}
}
}
}
int get_player_index(uint id)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].peer_id==id)
{
return i;
}
}
return -1;
}
int get_player_index_from(string name, bool evenhidden=true)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].name==name)
{
if(!evenhidden) continue;
 return i;
}
}
return -1;
}
int get_player_index_from(player@p, bool evenhidden=true)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].name==p.name)
{
if(!evenhidden) continue;
 return i;
}
}
return -1;
}
void create_char(string username, string password, string email, int gender, uint id, string yv, string ycv, string ylv, string yklv, string ylibrariesv, string yrulesv, string yrv, string compid)
{
string ip=n.get_peer_address(id);
if(is_compbanned(compid,"") or is_ipbanned(ip,""))
{
send_reliable(id,"Error: you are currently banned from the game",0);
return;
}
if(compjails.exists(username) or ipjails.exists(username))
{
send_reliable(id,"Error: You have been jailed.",0);
return;
}
if(is_ipjailed(ip)>-1)
{
send_reliable(id,"Error: you have been jailed.",0);
return;
}
/*
int cindex=get_compid_handler_index(compid);
if(cindex>-1 and directory_exists("chars/"+comphandles[cindex].playername))
{
send_reliable(id,"Error: Apparently you have made another account named "+comphandles[cindex].playername+". If you think a mistake occurred, please contact developer mahdi",0);
return;
}
*/
string charfolder="chars/"+username;
if(!directory_exists("chars"))
directory_create("chars");
if(directory_exists(charfolder)==false)
{
directory_create(charfolder);
f.open(charfolder+"/health.usr","wb");
f.write("10000");
f.close();
f.open(charfolder+"/level.usr","wb");
f.write(1+"\r\n"+1);
f.close();
f.open(charfolder+"/partner.usr","wb");
f.close();
f.open(charfolder+"/ex_partner.usr","wb");
f.close();
f.open(charfolder+"/birthday.usr","wb");
f.close();
f.open(charfolder+"/country.usr","wb");
f.close();
f.open(charfolder+"/inv.usr","wb");
f.write("starter_pack=1");
f.close();
f.open(charfolder+"/energy.usr","wb");
f.write("10000");
f.close();
f.open(charfolder+"/thirst.usr","wb");
f.write(100+"\r\n"+0+"\r\n"+0);
f.close();
f.open(charfolder+"/hunger.usr","wb");
f.write(50+"\r\n"+0+"\r\n"+0);
f.close();
f.open(charfolder+"/password.usr","wb");
f.write(string_hash(password,2,false));
f.close();
f.open(charfolder+"/maps.usr","rb");
f.close();
f.open(charfolder+"/facing.usr","wb");
f.write("0");
f.close();
f.open(charfolder+"/eml.usr","wb");
f.write(email);
f.close();
f.open(charfolder+"/vs.usr","wb");
f.write(100+"\r\n"+25000+"\r\n"+100+"\r\n"+25000+"\r\n"+100+"\r\n"+30000+"\r\n"+100+"\r\n"+35000+"\r\n"+100+"\r\n"+40000+"\r\n"+100+"\r\n"+33000+"\r\n"+100+"\r\n"+20000+"\r\n"+100+"\r\n"+30000+"\r\n"+100+"\r\n"+40000+"\r\n"+100+"\r\n"+60000+"\r\n"+100+"\r\n"+60000+"\r\n"+100+"\r\n"+35000+"\r\n"+100+"\r\n"+22000+"\r\n"+100+"\r\n"+24000+"\r\n"+100+"\r\n"+32000+"\r\n"+100+"\r\n"+45000);
f.close();
f.open(charfolder+"/omsg.usr","wb");
f.write("just came online"+"\r\n"+"just went offline"+"\r\n"+1);
f.close();
f.open(charfolder+"/clothing.usr","wb");
f.write(0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0+"\r\n"+0);
f.close();
f.open(charfolder+"/antidote.usr","wb");
f.write(0+"\r\n"+1+"\r\n"+0);
f.close();
f.open(charfolder+"/swigs.usr","wb");
f.write(0+"\r\n"+0+"\r\n"+35);
f.close();
f.open(charfolder+"/bank.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/balance.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/smartphone.usr","wb");
f.write(100+"\r\n"+300000+"\r\n"+1);
f.close();
f.open(charfolder+"/weaponpings.usr","wb");
f.write(1);
f.close();
f.open(charfolder+"/pvp.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/paid.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/paidstats.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/sitting.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/compid.usr","wb");
f.close();
f.open(charfolder+"/air.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/muted.usr","wb");
f.close();
f.open(charfolder+"/trusted.usr","wb");
f.close();
f.open(charfolder+"/lang.usr","wb");
f.write("english");
f.close();
f.open(charfolder+"/job.usr","wb");
f.close();
f.open(charfolder+"/nickname.usr","wb");
f.write(username);
f.close();
f.open(charfolder+"/sick.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/dirty.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/wet.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/newb.usr","wb");
f.write(1);
f.close();
f.open(charfolder+"/chats.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/voted.usr","wb");
f.close();
f.open(charfolder+"/playtime.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/nicknametime.usr","wb");
f.write(1800000);
f.close();
f.open(charfolder+"/kills.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/deaths.usr","wb");
f.write(0);
f.close();
f.open(charfolder+"/gender.usr","wb");
f.write(gender);
f.close();
f.open(charfolder+"/levelsound.usr","wb");
f.write(1);
f.close();
f.open(charfolder+"/mapavoltar.usr","wb");
f.write("safezone");
f.close();
f.open(charfolder+"/xp.usr","w");
f.write(0);
f.close;
f.open(charfolder+"/voice.usr","w");
f.write(0);
f.close;
f.open(charfolder+"/pitch.usr","w");
f.write("0");
f.close;
f.open(charfolder+"/x.usr","wb");
f.write("0");
f.close();
f.open(charfolder+"/y.usr","wb");
f.write("0");
f.close();
f.open(charfolder+"/z.usr","wb");
f.write("0");
f.close();
f.open(charfolder+"/omsg.usr","wb");
f.write(""+username+" just came online\r\n"+username+" just went offline\r\n1");
f.close();
add_compid(compid,username);
//url_post("http://mahdiabedi.com/dl/mail.php","who="+email+"&from=mahdiabedi.com&name=daily life&sub=Welcome!&mess=Hello.\r\nThank you for creating an account on daily life! thank you for joining us!\r\n\r\nThis message was automated by daily life. Please do not reply.");
send_reliable(id,"createdchar",0);
send_reliable(0,"play_s newchar"+random(1,2)+".ogg",6);
send_reliable(0,"the player "+username+" has been created!",2);
string[] t;
t.insert_last(random(13, 19)+" 5.56mm_ammo");
t.insert_last(random(10, 15)+" 7.62mm_ammo");
t.insert_last(random(8, 14)+" 9mm_ammo");
t.insert_last(random(5, 7)+" 12.7mm_ammo");
t.insert_last(random(8, 13)+" shotgun_shell");
t.insert_last(random(3, 10)+" arrow");
t.insert_last(random(25, 100)+" coins");
t.insert_last(random(1, 10)+" firework");
t.insert_last(random(1, 10)+" firecracker");
t.insert_last(random(1, 25)+" mana");
int nitem=random(0, t.length()-1);
string[] a=string_split(t[nitem], " ", false);
int numero=string_to_number(a[0]);
string nome=a[1];
send_reliable(0, "play_s notify_applause.ogg", 6);
for(uint n=0; n<players.length(); n++)
{
send_packet(6,"play get"+get_draw_and_get_sound(nome)+".ogg "+players[n].x+" "+players[n].y+" "+players[n].z, players[n].x,players[n].y,players[n].z,maps[get_map_index(players[n].map)]);
players[n].inv_add_item(nome, numero*players[n].reinforcement);
send_reliable(players[n], "because of creation of a new char, you've receaved "+numero*players[n].reinforcement+" "+nome, 2);
}
}
else
send_reliable(id,"alreadyexists",0);
}
string read_from(string name,string val)
{
string ret;
int index=get_player_index(e.peer_id);
if(index > -1)
{
string charfolder="chars/"+players[index].name;
f.open(charfolder+"/"+val+".usr","rb");
ret=f.read();
f.close();
return ret;
}
else
return "error";
}
void write_to(string name, string fn, string c)
{
f.open("chars/"+name+"/"+fn, "wb");
f.write(c);
f.close();
}
void write_to(string name, string fn, double c)
{
f.open("chars/"+name+"/"+fn, "wb");
f.write(c);
f.close();
}
void write_to(string name, string fn, dictionary c)
{
f.open("chars/"+name+"/"+fn, "wb");
f.write(serialize(c));
f.close();
}
void respawn(player@p)
{
if(p.cp==true)
{
move_player(p,p.cmap,p.cx,p.cy,p.cz);
p.cp=false;
}
else if(p.pvp==1)
{
move_player(p,p.map,p.x,p.y,p.z,true);
}
else 
{
move_player(p,p.map,p.x,p.y,p.z);
}
p.is_dead=false;
p.sitting=1;
send_reliable(p,"sitstart",0);
p.statchangetimer.force(60000);
}
void move_player(player@p, string map, int x, int y, int z, bool command=false)
{
p.x=x;
p.y=y;
p.z=z;
if(map!=p.map or command==false)
{
p.map=map;
p.mapavoltar=map;
send_reliable(p, "m_data "+get_map_text(maps[get_map_index(map)]), 0);
}
send_reliable(p,"move "+p.x+" "+p.y+" "+p.z,7);
}
void moveplayermap(string map, player@p, int x=0, int y=0, int z=0, bool command=false)
{
p.x=x;
p.y=y;
p.z=z;
bool mapchanged=false;
if(map!=p.map or command==false) mapchanged=true;
if(map!=p.map)
{
}
if(mapchanged)
{
p.map=map;
p.mapavoltar=map;
send_reliable(p, "m_data "+get_map_text(maps[get_map_index(map)]), 0);
}
send_reliable(p,"move "+p.x+" "+p.y+" "+p.z,7);
}
void exitsvr()
{
generate_profile("profile.log");
for(uint i=0; i<players.length(); i++)
{
scd(players[i]);
}
for(uint i=0; i<teams.length(); i++)
{
teams[i].team_save();
}
for(uint i=0; i<houses.length(); i++)
{
houses[i].house_save();
}
for(uint i=0; i<vvehicles.length(); i++)
{
vvehicles[i].vehicle_save();
}
for(uint i=0; i<mmotors.length(); i++)
{
mmotors[i].motor_save();
}
for(uint i=0; i<microwaves.length(); i++)
{
microwaves[i].microwave_save();
}
for(uint i=0; i<beehives.length(); i++)
{
beehives[i].beehive_save();
}
for(uint i=0; i<playerstores.length(); i++)
{
playerstores[i].playerstore_save();
}
savelockers();
savefridges();
save_temporary_bans();
saveair_conditioners();
savesteams();
savefans();
save_corpses();
//save_paid_accounts();
//save_paid_rocket_launchers();
//save_paid_nak_nk1000_decimaters();
send_reliable(0,"killclient",0);
writedata();
exit();
}
string killmsg(string died, string killer, string zone)
{
string temp=killmsgs[random(0,killmsgs.length()-1)];
if(string_contains(died,"'",1)>-1)
{
string pn=string_left(died,string_contains(died,"'",1));
died=string_replace(died,pn,cn2n(pn),false);
}
else died=cn2n(died);
if(string_contains(killer,"'",1)>-1)
{
string pn=string_left(killer,string_contains(killer,"'",1));
killer=string_replace(killer,pn,cn2n(pn),false);
}
else killer=cn2n(killer);
if(string_left(killer,9)=="internal:") temp=internal_killmsg(string_trim_left(killer,9),killer);
temp=string_replace(temp,"%d",died,true);
temp=string_replace(temp,"%k",killer,true);
temp=string_replace(temp,"%z",zone,true);
log("eventstream","death: "+temp);
return temp;
}
string killmsg2(string died, string killer, string zone)
{
string temp=killmsgs2[random(0,killmsgs2.length()-1)];
if(string_contains(died,"'",1)>-1)
{
string pn=string_left(died,string_contains(died,"'",1));
died=string_replace(died,pn,cn2n(pn),false);
}
else died=cn2n(died);
if(string_contains(killer,"'",1)>-1)
{
string pn=string_left(killer,string_contains(killer,"'",1));
killer=string_replace(killer,pn,cn2n(pn),false);
}
else killer=cn2n(killer);
if(string_left(killer,9)=="internal:") temp=internal_killmsg(string_trim_left(killer,9),killer);
temp=string_replace(temp,"%d",died,true);
temp=string_replace(temp,"%k",killer,true);
temp=string_replace(temp,"%z",zone,true);
log("eventstream","death: "+temp);
return temp;
}
string killmsg3(string died, string killer, string zone)
{
string temp=killmsgs3[random(0,killmsgs3.length()-1)];
if(string_contains(died,"'",1)>-1)
{
string pn=string_left(died,string_contains(died,"'",1));
died=string_replace(died,pn,cn2n(pn),false);
}
else died=cn2n(died);
if(string_contains(killer,"'",1)>-1)
{
string pn=string_left(killer,string_contains(killer,"'",1));
killer=string_replace(killer,pn,cn2n(pn),false);
}
else killer=cn2n(killer);
if(string_left(killer,9)=="internal:") temp=internal_killmsg(string_trim_left(killer,9),killer);
temp=string_replace(temp,"%d",died,true);
temp=string_replace(temp,"%k",killer,true);
temp=string_replace(temp,"%z",zone,true);
log("eventstream","death: "+temp);
return temp;
}
string randomstring(uint length=10,int mode=1)
{
string lets="abcdefghijklmnopqrstuvwxyz";
string nums="1234567890";
string temp;
if(mode==1)
temp=lets+nums;
else if(mode==2)
temp=nums;
else if(mode==3)
temp=lets;
string ret;
for(uint i=0; i<length; i++)
{
ret=ret+temp[random(0,(temp.length()-1))];
}
return ret;
}
string[] delete_array_item(string[] array,string value)
{
string inv=linear(array);
string itemname=value;
string[] peramitors=array;
string[] values;
string srt;
for(uint i=0; i<peramitors.length(); i++)
{
values.insert_at(i,string_replace(peramitors[i], string_left(peramitors[i], string_contains(peramitors[i], "=", 1)+1), "", true));
peramitors[i]=string_replace(peramitors[i], "="+values[i], "", true);
}
for(uint i=0; i<peramitors.length(); i++)
{
if(peramitors[i]==itemname)
{
inv=string_replace(inv, itemname+"="+values[i]+"\r\n", "", false);
}
}
return delinear(inv);
}
void send_serverbox(int peerid, int mode=0, int maxlength=-1, int autosend=0, int keypresses=-1, string sendtext="server_box", string text="enter text")
{
send_reliable(peerid,"input ++"+mode+"++"+maxlength+"++"+autosend+"++"+keypresses+"++"+sendtext+"++"+text,0);
}
void send_menu(int id, string menuintro, string text, string items)
{
menuintro=string_replace(menuintro," ","[SPCE]",true);
text=string_replace(text, " ", "[SPCE", true);
send_reliable(id,"launchmenu "+menuintro+" "+text+" "+items,0);
}
void send_menu2(int id, string menuintro, string text, string items)
{
menuintro=string_replace(menuintro," ","[SPCE]",true);
text=string_replace(text, " ", "[SPCE", true);
send_reliable(id,"launchmenu2 "+menuintro+" "+text+" "+items,0);
}
void sendmenu(uint peer_id,string title,string items, bool interactable=false,string actions="")
{
if(interactable==true)
{
send_reliable(peer_id,"srmenu "+title+":"+items+"-_"+actions,0);
}
else
{
send_reliable(peer_id,"srmenu "+title+":"+items,0);
}
}
bool toggle(bool b)
{
bool br=(b==true ? false : true);
return br;
}
int toggle(int intt)
{
if(intt==0) return 1;
else return 0;
}
string random_string_from_array(string[] arraystring)
{
string retval=arraystring[random(0,arraystring.length()-1)];
return retval;
}
bool regexp(string message, string pattern)
{
library re;
if(!re.load("filter.dll"))
{
return false;
}
int handle=-1;
int rex=-1;
int matches=-1;
dictionary@ result=re.call("int regexp_create();");
result.get("0", handle);
@result=re.call("int result_create();");
result.get("0", rex);
re.call("void regexp_compile(int, char*, int);", handle, pattern, 0);
re.call("void regexp_match(int, char*, int, int);", handle, message, -1, rex);
@result=re.call("int result_ismatched(int);", rex);
result.get("0", matches);
re.call("void result_free(int);", rex);
re.call("void regexp_free(int);", handle);
if(matches>0)
{
return true;
}
return false;
}
string internal_killmsg(string act, string died)
{
if(act=="drown") return ""+died+" has drowned!";
if(act=="rg:expire") return ""+died+" has expired!";
else if(act=="rg:destruct") return ""+died+" just self destructed!";
else if(string_left(act,8)=="vehicle:") return ""+died+" was died by the explosion of their "+string_trim_left(act,8);
else if(string_left(act,11)=="motorcycle:") return ""+died+" was died by the explosion of their "+string_trim_left(act,11);
else return ""+died+" was terminated by "+act;
}
void instant_notify(string event,string name=" ")
{
log("events",event,false,true);
}
string url_ret(string url, string data="")
{
string what;
if(data=="") what=httpn.get(url);
else what=httpn.post(url,data);
while(httpn.progress)
{
what+=httpn.request();
if(get_last_error()<0) return get_last_error_text();
netloop();
}
return what;
}
string keycheck(string activation_key)
{
string ret="";
string keys=url_ret("http://mahdiabedi.com/dl/activation_payments.plist");
if(keys=="")
{
return "";
}
string[] k=string_split(keys,"\r\n",false);
for(uint i=0; i<k.length(); i++)
{
string[] p=string_split(k[i],"=",false);
if(p.length>1 and p[0]==activation_key)
{
ret =p[1];
keys=linear(delete_array_item(delinear(keys),activation_key));
url_ret("http://mahdiabedi.com/dl/keywrite.php","password=item33&value="+keys);
}
}
return ret;
}
void playmap(string sound,string map)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].map==map)
send_reliable(players[i],"play_s "+sound+".ogg",6);
}
}
void sendmap(string packet,string map,int channel=0,bool reliable=true)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].map==map)
{
if(reliable) send_reliable(players[i],packet,channel);
else send_reliable(players[i],packet,channel);
}
}
}
string localgrab_url(string filename)
{
return file_get_contents("../../var/www/html/"+filename);
}
bool write_to_webfile(string filename,string content)
{
return file_put_contents("../../var/www/html/"+filename,content,250);
}
void admintell(string msg)
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].is_admin())
{
send_reliable(players[i],"admintells "+msg,0);
}
}
}
string email(string address,string from,string subject,string message)
{
string n="daily life server"; //change name if other game!
return url_post("http://mahdiabedi.com/dl/mail.php","who="+address+"&name="+n+"&from="+from+"&sub="+subject+"&mess="+message);
}
double  get_closest_value(double num, int[] arr) {
double diff=0;
double result;
for(uint i=0; i<arr.length(); i++) {
int d=absolute(num-arr[i]);
if(d<diff  or  diff==0) {
diff=d;
result=arr[i];
}
}
return result;
}
string get_script_path()
{
string scriptpath;
if(SCRIPT_COMPILED==false)
{
scriptpath=SCRIPT_CURRENT_FILE;
}
else
{
scriptpath=SCRIPT_EXECUTABLE;
}
return scriptpath;
}
string convert_to_list(string[] arr)
{
string list;
if(arr.length()==0) return "";
if(arr.length()==1) return arr[0];
for(uint i=0; i<arr.length(); i++)
{
if(i==arr.length()-1)
list+=" and "+arr[i];
else
list+=arr[i]+", ";
}
return list;
}
bool dm(string username,string mess)
{
return run("dm.exe","--username "+username+" --message \""+mess+"\"",true,true);
}
double calculate_movetime_per_tile(int ms,int tiles_to_move)
{
return (ms/tiles_to_move);
}
string pegartelhado(string mapa)
{
f.open("maps/"+mapa+".map", "r");
string[] m=string_split(f.read(), "\r\n", false);
for(uint i=0;i<m.length();i++)
{
if(string_contains(m[i], "rain", 1)>-1)
{
string[] mm=string_split(m[i], ":", false);
return mm[1];
}
}
return "rain"+random(1,12)+".ogg";
}
bool tjogador(string nome){
for(uint i=0;i<players.length();i++){
if(players[i].map==nome)return true;
}
return false;
}
string get_draw_and_get_sound(string itemname)
{
string final;
if(string_contains(itemname,"skillet",1)>-1)
{
final="skillet";
}
else if(string_contains(itemname,"box_of_",1)>-1)
{
final="box";
}
else if(string_contains(itemname,"pack_of_",1)>-1)
{
final="pack";
}
else if(string_contains(itemname,"corrupted_",1)>-1 and string_contains(itemname,"_meat",1)>-1)
{
final="meat";
}
else if(string_contains(itemname,"heated_",1)>-1)
{
final="beer_bottle";
}
else
{
f.open("drawsounds.svr","rb");
string[] parsed=string_split(f.read(),"\r\n",false);
f.close();
if(parsed.length()>1)
{
for(uint i=0; i<parsed.length(); i++)
{
string[] parsed2=string_split(parsed[i],"=",false);
if(parsed2.length()>1)
{
if(itemname==parsed2[0])
{
final=parsed2[1];
}
}
}
}
else
{
final="";
}
}
return final;
}
void jraio(){
int j=random(1, 100);
if(j<=30){
send_reliable(0, "play_s thunder"+random(1, 40)+".ogg", 6);
}
}
bool hasammo(string w)
{
if(guns.find(w)>-1)
return true;
return false;
}
int get_gun_reload_length(string weaponname)
{
if(weaponname=="a90sniper_rifle")
return 2917;
if(weaponname=="ak47assault_rifle")
return 2280;
if(weaponname=="ak48")
return 4531;
if(weaponname=="arrow_gun")
return 1304;
if(weaponname=="bow")
return 1375;
if(weaponname=="long_bow")
return 2431;
if(weaponname=="blue_assault_rifle")
return 1549;
if(weaponname=="blue_bolt_action_sniper")
return 2365;
if(weaponname=="blue_burst_assault_rifle")
return 1985;
if(weaponname=="blue_heavy_assault_rifle")
return 600;
if(weaponname=="blue_hunting_rifle")
return 1765;
if(weaponname=="blue_infintry_rifle")
return 2077;
if(weaponname=="blue_tacticle_shotgun")
return 2772;
if(weaponname=="drum_shotgun")
return 4702;
if(weaponname=="gold_burst_assault_rifle")
return 1985;
if(weaponname=="gold_drum_gun")
return 2652;
if(weaponname=="gold_heavy_assault_rifle")
return 600;
if(weaponname=="gold_scar")
return 1765;
if(weaponname=="gold_tacticle_shotgun")
return 2772;
if(weaponname=="heavy_sniper")
return 3253;
if(weaponname=="colt_m9")
return 3268;
if(weaponname=="colt_m19")
return 3268;
if(weaponname=="e9pistol")
return 2758;
if(weaponname=="e20shotgun")
return 3271;
if(weaponname=="e235shotgun")
return 3271;
if(weaponname=="mb3shotgun")
return 3078;
if(weaponname=="mb5shotgun")
return 3257;
if(weaponname=="mpt_special_shotgun")
return 570;
if(weaponname=="mp5machinegun")
return 2070;
if(weaponname=="tranquilizer_gun")
return 567;
if(weaponname=="famas_g2")
return 3700;
if(weaponname=="k222rifle")
return 4072;
if(weaponname=="p3hunting_shotgun")
return 3683;
if(weaponname=="taser")
return 917;
if(weaponname=="tiny_mg")
return 1883;
if(weaponname=="rocket_launcher")
return 3433;
if(weaponname=="ar15machinegun")
return 1405;
if(weaponname=="crossbow")
return 2051;
if(weaponname=="mj420machinegun")
return 2068;
if(weaponname=="pcs_handgun")
return 1634;
if(weaponname=="rpg_launcher")
return 2371;
if(weaponname=="sp3heavy_machinegun")
return 9720;
if(weaponname=="rpg7")
return 2221;
if(weaponname=="nak_nk1000_decimater")
return 10112;
if(weaponname=="mb93machinegun")
return 2645;
if(weaponname=="tsp_grenade_launcher")
return 2736;
if(weaponname=="missile_launcher")
return 3034;
if(weaponname=="m234minigun")
return 9090;
if(weaponname=="ak9automatic_machinegun")
return 2240;
if(weaponname=="ump45machinegun")
return 2022;
if(weaponname=="tac50rifle")
return 2066;
if(weaponname=="uzi_machinegun")
return 2249;
if(weaponname=="stp15rifle")
return 2409;
if(weaponname=="stp106_long_barreled_pistol")
return 2448;
if(weaponname=="b96machinegun")
return 2502;
if(weaponname=="kalashnikov_rifle")
return 3012;
if(weaponname=="m28mini_machinegun")
return 3094;
if(weaponname=="m90machinegun")
return 2518;
if(weaponname=="qt_machinegun")
return 2267;
if(weaponname=="sfx12machinegun")
return 1971;
if(weaponname=="mkv43machinegun")
return 2164;
if(weaponname=="pst500shotgun")
return 4201;
if(weaponname=="mlr_assault_rifle")
return 2359;
if(weaponname=="chainsaw")
return 3675;
if(weaponname=="ruga22revolver")
return 2000;
if(weaponname=="barett_m1500sniper_rifle")
return 4075;
if(weaponname=="browning_m2heavy_machinegun")
return 7536;
if(weaponname=="fn2000pistol")
return 1153;
if(weaponname=="m16machinegun")
return 1701;
if(weaponname=="msb530shotgun")
return 3226;
if(weaponname=="mlk290rifle")
return 2224;
if(weaponname=="fnm_pistol")
return 1495;
if(weaponname=="g36pistol")
return 2533;
if(weaponname=="gouse_pistol")
return 2797;
if(weaponname=="lr12pistol")
return 2322;
if(weaponname=="m9pistol")
return 3479;
if(weaponname=="m125assault_rifle")
return 3950;
if(weaponname=="m152minigun")
return 3541;
if(weaponname=="m560sniper_rifle")
return 3593;
if(weaponname=="mg4machinegun")
return 4615;
if(weaponname=="mk_long_machinegun")
return 3561;
if(weaponname=="mk52_assault_rifle")
return 6240;
if(weaponname=="mk215machinegun")
return 1570;
if(weaponname=="ml7rifle")
return 4033;
if(weaponname=="ml15rifle")
return 3603;
if(weaponname=="s55assault_rifle")
return 3584;
if(weaponname=="sp5shotgun")
return 4370;
if(weaponname=="sp150shotgun")
return 3894;
if(weaponname=="hk_machinegun")
return 1501;
if(weaponname=="m10machinegun")
return 2565;
if(weaponname=="mp12machinegun")
return 2923;
if(weaponname=="m155minigun")
return 4568;
if(weaponname=="s110assault_rifle")
return 2834;
if(weaponname=="str301machinegun ")
return 1747;
if(weaponname=="blz5machinegun")
return 4154;
return -1;
}
void clothing(player@p, bool todos=true)
{
string final, texto;
string[] lista;
if(p.bonemizuno==1) lista.insert_last("one hat");
if(p.capacetepolicia==1) lista.insert_last("one police_helmet");
if(p.chapeupanama==1) lista.insert_last("one panaml_hat");
if(p.oculosmizuno==1) lista.insert_last("one sun_glasses");
if(p.camisamalha==1) lista.insert_last("one knitted_shirt");
if(p.coletemizuno==1) lista.insert_last("one rubber_vest");
if(p.bullet_proof_vested==1) lista.insert_last("one bullet_proof_vest");
if(p.armored==1) lista.insert_last("one armor");
if(p.large_armor_plated==1) lista.insert_last("one large armor plate");
if(p.shielded==1) lista.insert_last("one shield");
if(p.steel_shielded==1) lista.insert_last("one steel shield");
if(p.coletecamuflado==1) lista.insert_last("one camouflage_vest");
if(p.coletemilitar==1) lista.insert_last("one military_vest");
if(p.jaquetacouro==1) lista.insert_last("one leather_jacket");
if(p.bracadeira==1) lista.insert_last("one clamp");
if(p.luvas==1) lista.insert_last("one Gloves_pair");
if(p.relogio==1) lista.insert_last("one Watch");
if(p.bra==1) lista.insert_last("one "+p.b1+" in you're brests");
if(p.pulseiraouro==1) lista.insert_last("one golden_bracelet");
if(p.pulseiraprata==1) lista.insert_last("one silver_bracelet");
if(p.pulseirabronze==1) lista.insert_last("one bronze_bracelet");
if(p.anel==1) lista.insert_last("one ring");
if(p.marriage_ring==1) lista.insert_last("one marriage ring");
if(p.pulseira==1) lista.insert_last("one bracelet");
if(p.calcamizuno==1) lista.insert_last("one social_pants");
if(p.calcacamuflada==1) lista.insert_last("one camouflage_pants");
if(p.calcajeans==1) lista.insert_last("one jeans_pants");
if(p.calcalegging==1) lista.insert_last("one legging_pants");
if(p.sapatoscarpin==1) lista.insert_last("one scarpin_shoes");
if(p.coturnomilitar==1) lista.insert_last("one military_boots");
if(p.botamizuno==1) lista.insert_last("one social_shoes");
if(p.tenisadidas==1) lista.insert_last("one sandal");
if(p.tenisnike==1) lista.insert_last("one nike_shoes");
if(p.short_fitting_dresses_with_deep_neckline==1) lista.insert_last("one "+p.b2+"");
if(p.easy_summer_dress==1) lista.insert_last("one "+p.b3+"");
if(p.short_fitting_top==1) lista.insert_last("one "+p.b4+"");
if(p.denim_short_shorts==1) lista.insert_last("one "+p.b5+"");
if(p.denim_shirt==1) lista.insert_last("one "+p.b6+"");
if(p.t_shirt==1) lista.insert_last("one "+p.b7+"");
if(p.sweat_pants==1) lista.insert_last("one "+p.b8+"");
if(p.sports_jacket==1) lista.insert_last("one "+p.b9+"");
if(p.baseball_cap==1) lista.insert_last("one "+p.b10+"");
if(p.open_shoes_with_high_thin_heel==1) lista.insert_last("one "+p.b11+"");
if(p.bathrobe==1) lista.insert_last("one "+p.b12+"");
if(p.slippers==1) lista.insert_last("one "+p.b13+"");
if(p.leather_pants==1) lista.insert_last("one "+p.b14+"");
if(p.leather_fitting_short_dress==1) lista.insert_last("one "+p.b15+"");
if(p.denim_short_skirt==1) lista.insert_last("one "+p.b16+"");
if(p.long_light_skirt==1) lista.insert_last("one "+p.b17+"");
if(p.blouse_tight_with_deep_neckline==1) lista.insert_last("one "+p.b18+"");
if(p.female_closed_swimsuit==1) lista.insert_last("one "+p.b19+"");
if(p.female_outdoor_swimsuit==1) lista.insert_last("one "+p.b20+"");
if(p.male_bathing_panties==1) lista.insert_last("one "+p.b21+"");
if(p.heavy_studded_leather_boots==1) lista.insert_last("one heavy_studded_leather_boots");
if(p.classic_straight_pants==1) lista.insert_last("one classic_straight_pants");
if(p.classic_jacket==1) lista.insert_last("one classic_jacket");
if(p.classic_shirt==1) lista.insert_last("one classic_shirt");
if(p.tie==1) lista.insert_last("one tie");
if(p.classic_shoes==1) lista.insert_last("one classic_shoes");
if(p.openwork_stockings==1) lista.insert_last("one openwork_stockings");
if(p.wedding_dress==1) lista.insert_last("one wedding_dress");
if(p.wedding_wreath==1) lista.insert_last("one wedding_wreath");
if(p.mens_panties==1) lista.insert_last("one mens_panties");
if(p.womens_lace_panties==1) lista.insert_last("one womens_lace_panties");
if(p.warm_knitted_hat==1) lista.insert_last("one warm_knitted_hat");
if(p.down_jacket==1) lista.insert_last("one down_jacket");
if(p.leather_jacket_with_fur_trim_on_collar_and_sleeves==1) lista.insert_last("one leather_jacket_with_fur_trim_on_collar_and_sleeves");
if(p.fur_coat_short_with_a_hood==1) lista.insert_last("one fur_coat_short_with_a_hood");
if(p.warm_male_boots==1) lista.insert_last("one warm_male_boots");
if(p.warm_High_Womens_High_Heel_Boots==1) lista.insert_last("one warm_High_Womens_High_Heel_Boots");
if(p.warm_sports_jacket_with_hood==1) lista.insert_last("one warm_sports_jacket_with_hood");
if(p.leather_cloak==1) lista.insert_last("one leather_cloak");
if(p.warmed_sports_pants==1) lista.insert_last("one warmed_sports_pants");
if(p.mens_sweater==1) lista.insert_last("one mens_sweater");
if(p.female_sweater_with_deep_neckline==1) lista.insert_last("one female_sweater_with_deep_neckline");
if(p.warm_pants==1) lista.insert_last("one warm_pants");
if(p.warm_high_collar_sweater==1) lista.insert_last("one warm_high_collar_sweater");
if(p.soft_scarf==1) lista.insert_last("one soft_scarf");
if(p.warm_leather_boots==1) lista.insert_last("one warm_leather_boots");
if(p.roll_bandage==1) lista.insert_last("one roll bandage");
if(p.mens_denim_shorts==1) lista.insert_last("one "+p.b22+"");
if(p.mens_lightweight_shorts==1) lista.insert_last("one "+p.b23+"");
if(p.mens_lightweight_pants==1) lista.insert_last("one "+p.b24+"");
if(p.lightweight_sneakers==1) lista.insert_last("one "+p.b25+"");
if(p.womens_sneakers_on_a_high_platform==1) lista.insert_last("one "+p.b26+"");
if(p.mens_lightweight_shirt==1) lista.insert_last("one "+p.b27+"");
if(p.womens_tight_jeans==1) lista.insert_last("one "+p.b28+"");
for(uint contador=0;contador<lista.length();contador++){
if(contador<lista.length()-1) texto+=lista[contador]+", ";
if(contador==lista.length()-1) texto+="and "+lista[contador];
}
if(lista.length()==0) final=" You are wearing nothing!";
else if(lista.length()==1) final="You are wearing just a "+lista[0];
else final="You are wearing: "+texto;
lista.resize(0);
texto="";
final+=". ";
if(todos==true){
for (int i=p.x-30; i<=p.x+30; i++){
for (uint i2=0; i2<players.length(); i2++){
if (players[i2].x==i and players[i2].name!=p.name and players[i2].map==p.map){
if(players[i2].bonemizuno==1) lista.insert_last("one hat");
if(players[i2].capacetepolicia==1) lista.insert_last("one police_helmet");
if(players[i2].chapeupanama==1) lista.insert_last("one panaml_hat");
if(players[i2].oculosmizuno==1) lista.insert_last("one sun_glasses");
if(players[i2].camisamalha==1) lista.insert_last("one knitted_shirt");
if(players[i2].coletemizuno==1) lista.insert_last("one rubber_vest");
if(players[i2].bullet_proof_vested==1) lista.insert_last("one bullet_proof_vest");
if(players[i2].armored==1) lista.insert_last("one armor");
if(players[i2].large_armor_plated==1) lista.insert_last("one large armor plate");
if(players[i2].shielded==1) lista.insert_last("one shield");
if(players[i2].steel_shielded==1) lista.insert_last("one steel shield");
if(players[i2].coletecamuflado==1) lista.insert_last("one camouflage_vest");
if(players[i2].coletemilitar==1) lista.insert_last("one military_vest");
if(players[i2].jaquetacouro==1) lista.insert_last("one leather_jacket");
if(players[i2].bracadeira==1) lista.insert_last("one clamp");
if(players[i2].relogio==1) lista.insert_last("one watch");
if(players[i2].gender==0)players[i2].gender2="he's";
else players[i2].gender2="her";
if(players[i2].bra==1) lista.insert_last("one "+players[i2].b1+" in "+players[i2].gender2+" brests");
if(players[i2].anel==1) lista.insert_last("one ring");
if(players[i2].marriage_ring==1) lista.insert_last("one marriage ring");
if(players[i2].pulseiraouro==1) lista.insert_last("one golden_bracelet");
if(players[i2].pulseiraprata==1) lista.insert_last("one silver_bracelet");
if(players[i2].pulseirabronze==1) lista.insert_last("one bronze_bracelet");
if(players[i2].pulseira==1) lista.insert_last("one bracelet");
if(players[i2].calcamizuno==1) lista.insert_last("one social_pants");
if(players[i2].calcajeans==1) lista.insert_last("one jeans_pants");
if(players[i2].calcacamuflada==1) lista.insert_last("one camouflage_pants");
if(players[i2].calcalegging==1) lista.insert_last("one legging_pants");
if(players[i2].sapatoscarpin==1) lista.insert_last("one scarpin_shoes");
if(players[i2].coturnomilitar==1) lista.insert_last("one military_boots");
if(players[i2].botamizuno==1) lista.insert_last("one social_shoes");
if(players[i2].tenisadidas==1) lista.insert_last("one sandal");
if(players[i2].tenisnike==1) lista.insert_last("one nike_shoes");
if(players[i2].short_fitting_dresses_with_deep_neckline==1) lista.insert_last("one "+players[i2].b2+"");
if(players[i2].easy_summer_dress==1) lista.insert_last("one "+players[i2].b3+"");
if(players[i2].short_fitting_top==1) lista.insert_last("one "+players[i2].b4+"");
if(players[i2].denim_short_shorts==1) lista.insert_last("one "+players[i2].b5+"");
if(players[i2].denim_shirt==1) lista.insert_last("one "+players[i2].b6+"");
if(players[i2].t_shirt==1) lista.insert_last("one "+players[i2].b7+"");
if(players[i2].sweat_pants==1) lista.insert_last("one "+players[i2].b8+"");
if(players[i2].sports_jacket==1) lista.insert_last("one "+players[i2].b9+"");
if(players[i2].baseball_cap==1) lista.insert_last("one "+players[i2].b10+"");
if(players[i2].open_shoes_with_high_thin_heel==1) lista.insert_last("one "+players[i2].b11+"");
if(players[i2].bathrobe==1) lista.insert_last("one "+players[i2].b12+"");
if(players[i2].slippers==1) lista.insert_last("one "+players[i2].b13+"");
if(players[i2].leather_pants==1) lista.insert_last("one "+players[i2].b14+"");
if(players[i2].leather_fitting_short_dress==1) lista.insert_last("one "+players[i2].b15+"");
if(players[i2].denim_short_skirt==1) lista.insert_last("one "+players[i2].b16+"");
if(players[i2].long_light_skirt==1) lista.insert_last("one "+players[i2].b17+"");
if(players[i2].blouse_tight_with_deep_neckline==1) lista.insert_last("one "+players[i2].b18+"");
if(players[i2].female_closed_swimsuit==1) lista.insert_last("one "+players[i2].b19+"");
if(players[i2].female_outdoor_swimsuit==1) lista.insert_last("one "+players[i2].b20+"");
if(players[i2].male_bathing_panties==1) lista.insert_last("one "+players[i2].b21+"");
if(players[i2].heavy_studded_leather_boots==1) lista.insert_last("one heavy_studded_leather_boots");
if(players[i2].classic_straight_pants==1) lista.insert_last("one classic_straight_pants");
if(players[i2].classic_jacket==1) lista.insert_last("one classic_jacket");
if(players[i2].classic_shirt==1) lista.insert_last("one classic_shirt");
if(players[i2].tie==1) lista.insert_last("one tie");
if(players[i2].classic_shoes==1) lista.insert_last("one classic_shoes");
if(players[i2].openwork_stockings==1) lista.insert_last("one openwork_stockings");
if(players[i2].wedding_dress==1) lista.insert_last("one wedding_dress");
if(players[i2].wedding_wreath==1) lista.insert_last("one wedding_wreath");
if(players[i2].mens_panties==1) lista.insert_last("one mens_panties");
if(players[i2].womens_lace_panties==1) lista.insert_last("one womens_lace_panties");
if(players[i2].warm_knitted_hat==1) lista.insert_last("one warm_knitted_hat");
if(players[i2].down_jacket==1) lista.insert_last("one down_jacket");
if(players[i2].leather_jacket_with_fur_trim_on_collar_and_sleeves==1) lista.insert_last("one leather_jacket_with_fur_trim_on_collar_and_sleeves");
if(players[i2].fur_coat_short_with_a_hood==1) lista.insert_last("one fur_coat_short_with_a_hood");
if(players[i2].warm_male_boots==1) lista.insert_last("one warm_male_boots");
if(players[i2].warm_High_Womens_High_Heel_Boots==1) lista.insert_last("one warm_High_Womens_High_Heel_Boots");
if(players[i2].warm_sports_jacket_with_hood==1) lista.insert_last("one warm_sports_jacket_with_hood");
if(players[i2].leather_cloak==1) lista.insert_last("one leather_cloak");
if(players[i2].warmed_sports_pants==1) lista.insert_last("one warmed_sports_pants");
if(players[i2].mens_sweater==1) lista.insert_last("one mens_sweater");
if(players[i2].female_sweater_with_deep_neckline==1) lista.insert_last("one female_sweater_with_deep_neckline");
if(players[i2].warm_pants==1) lista.insert_last("one warm_pants");
if(players[i2].warm_high_collar_sweater==1) lista.insert_last("one warm_high_collar_sweater");
if(players[i2].soft_scarf==1) lista.insert_last("one soft_scarf");
if(players[i2].warm_leather_boots==1) lista.insert_last("one warm_leather_boots");
if(players[i2].roll_bandage==1) lista.insert_last("one roll bandage");
if(players[i2].mens_denim_shorts==1) lista.insert_last("one "+players[i2].b22+"");
if(players[i2].mens_lightweight_shorts==1) lista.insert_last("one "+players[i2].b23+"");
if(players[i2].mens_lightweight_pants==1) lista.insert_last("one "+players[i2].b24+"");
if(players[i2].lightweight_sneakers==1) lista.insert_last("one "+players[i2].b25+"");
if(players[i2].womens_sneakers_on_a_high_platform==1) lista.insert_last("one "+players[i2].b26+"");
if(players[i2].mens_lightweight_shirt==1) lista.insert_last("one "+players[i2].b27+"");
if(players[i2].womens_tight_jeans==1) lista.insert_last("one "+players[i2].b28+"");
for(uint contador=0;contador<lista.length();contador++){
if(contador<lista.length()-1) texto+=lista[contador]+", ";
if(contador==lista.length()-1) texto+="and "+lista[contador];
}
texto+=". ";
if(lista.length()==0) final+=players[i2].name+" is wearing just a!";
else if(lista.length()==1) final+=players[i2].name+" is wearing just a "+lista[0];
else final+=players[i2].name+" is wearing: "+texto;
lista.resize(0);
texto="";
}
}
}
}
send_reliable(p,"clothing "+final, 0);
}
string convert_to_list(int[] arr)
{
string list;
if(arr.length()==0) return "";
if(arr.length()==1) return arr[0];
for(uint i=0; i<arr.length(); i++)
{
if(i==arr.length()-1)
list+=" and "+arr[i];
else
list+=arr[i]+", ";
}
return list;
}
string get_player_password(string name)
{
if(!file_exists("chars/"+name+"/password.usr")) return false;
else
{
f.open("chars/"+name+"/password.usr","wb");
string ret=f.read();
f.close();
return ret;
}
}
bool changepassword(string name, string newpassword)
{
if(!file_exists("chars/"+name+"/password.usr")) return false;
else
{
f.open("chars/"+name+"/password.usr","wb");
f.write(string_hash(newpassword,2,false));
f.close();
return true;
}
}
bool int_to_bool(int i)
{
if(i==1)
return true;
return false;
}
int bool_to_int(bool b)
{
if(b==true)
return 1;
return 0;
}
bool string_to_bool(string i)
{
if(i=="yes")
return true;
return false;
}
string bool_to_string(bool b)
{
if(b==true)
return "yes";
return "no";
}
int stng(string the_string)
{
return string_to_number(the_string);
}
string[] get_registered_users()
{
string[] pls;
for(uint i=0; i<players.length(); i++)
{
if(players[i].registered>0) pls.insert_last(i);
}
return pls;
}
string get_registered_names()
{
string[] chars=find_directories("chars/*");
string info;
int reg=0;
for(uint i=0; i<chars.length(); i++)
{
if(file_exists("chars/"+chars[i]+"/reginfo.usr"))
{
reg++;
info+=chars[i]+", ";
}
}
return "There are "+chars.length()+" characters on the server. Out of all of them, "+reg+" are registered. They are: "+info;
}
string arraycut(string[] a, int index)
{
if(index>-1 and index<a.length())
{
return a[index];
}
return "";
}
string name2name(string name)
{
if(string_left(name,6)!="robot ")
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].name==name) return players[i].name;
}
}
else
{
string id=string_trim_left(name,6);
for(uint i=0; i<players.length(); i++)
{
if(players[i].rid==id) return players[i].name+"'s robot";
}
}
return name;
}
string read(string filename)
{
file f;
f.open(filename,"rb");
return f.read();
}
int get_item_index(string name)
{
string[] items;
for(int i=0; i<stores.length(); i++)
{
for(int i2=0; i2<stores[i].item_names.length(); i2++)
{
items.insert_last(stores[i].item_names[i2]);
}
}
for(int i=0; i<items.length(); i++)
{
if(items[i]==name) return i;
}
return -1;
}
void send_store(int playerindex)
{
if(playerindex>-1)
{
int coins=players[playerindex].inv_item_number("coins");
server_menu menu;
menu.initial_packet="buysomething";
menu.intro="What do you wish to buy";
for(uint i=0; i<store_items.length(); i++)
{
int canbuy=coins/amounts[i];
menu.add(store_items[i]+" for "+amounts[i]+" coins. You can buy "+canbuy,store_items[i]);
}
menu.send(players[playerindex].peer_id);
}
}
void purchase(string name, double amount, player@p)
{
int itemindex=get_item_index(name);
if(itemindex>-1)
{
int[] a=get_amounts();
double totalamount=amount*a[itemindex];
if(totalamount>0)
{
double coin=p.inv_item_number("coins");
if(coin<totalamount)
{
send_reliable(p,"Error. Not enough coins. You need "+totalamount+" coins and you only have "+p.inv_item_number("coins")+".",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
else
{
p.inv_add_item("coins",-totalamount);
if(name=="motor_boat")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"ocean",p.name,name,random(10000,25000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in ocean which is near the camp, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="generic_motorcycle" or name=="frog_motorcycle" or name=="ducati_street_fighter" or name=="onda_cbr_600" or name=="yamaha_r6" or name=="aprilia_v4" or name=="aprilia_rs660" or name=="ducati_diavel" or name=="yamaha_off_road" or name=="kawasaki_hipersport" or name=="kawasaki_adventure_tourer" or name=="ducati_scrumbler" or name=="bmw_off_road")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="sky_racer" or name=="ford" or name=="sorento" or name=="BMV" or name=="dogan_slx" or name=="grayhound_bus" or name=="m60_tank" or name=="police_car" or name=="police_car_pluss" or name=="tank" or name=="truck" or name=="v4_by_4_jeep" or name=="dodge_charger" or name=="doom_buggy" or name=="ford_pickup_truck" or name=="mlk_mission_cruiser" or name=="muscle_car")
{
int x=random(1,30), y=random(1,10);
spawn_vvehicle(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else if(string_contains(name,"bag_of_",1)>-1 or string_contains(name,"pack_of_",1)>-1 or string_contains(name,"box_of_",1)>-1 or string_contains(name,"skillet_with_",1)>-1)
{
int c=get_corpses_from(string_right(name,5));
if(c<0)
{
string cid=randomstring(5);
new_corpse(name,cid);
p.inv_add_item(name+"_"+cid,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
}
}
else
{
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
}
p.add_log_entry("player_actions","bought "+amount+" "+name+"");
servermoney+=totalamount;
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
}
else if (totalamount<0)
{
if (absolute(amount)<=p.inv_item_number(name))
{
p.inv_add_item("coins",(0-totalamount)/4);
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" sold",2);
servermoney-=totalamount;
send_packet(6,"play buy.ogg",p.x,p.y,p.z,maps[get_map_index(p.map)]);
}
else
{
send_packet(6,"play noud.ogg",p.x,p.y,p.z,maps[get_map_index(p.map)]);
send_reliable(p,"Sorry! You don't have "+absolute(amount)+" "+name+".",2);
}
}
}
}
void pspurchase(string name, double amount, player@p)
{
int ps=in_playerstore(p);
if(ps>-1)
{
int psowner=get_player_index_from(playerstores[ps].owner);
if(psowner>-1)
{
if(p.name==players[psowner].name)
{
int itemindex=get_item_index(name);
if(itemindex>-1)
{
int[] a=get_amounts();
double totalamount=amount*a[itemindex];
if(totalamount>0)
{
double coin=p.inv_item_number("coins");
if(coin<totalamount)
{
send_reliable(p,"Error. Not enough coins. You need "+totalamount+" coins and you only have "+p.inv_item_number("coins")+".",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
else
{
p.inv_add_item("coins",-totalamount);
if(name=="motor_boat")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"ocean",p.name,name,random(10000,25000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in ocean which is near the camp, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="generic_motorcycle" or name=="frog_motorcycle" or name=="ducati_street_fighter" or name=="onda_cbr_600" or name=="yamaha_r6" or name=="aprilia_v4" or name=="aprilia_rs660" or name=="ducati_diavel" or name=="yamaha_off_road" or name=="kawasaki_hipersport" or name=="kawasaki_adventure_tourer" or name=="ducati_scrumbler" or name=="bmw_off_road")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="sky_racer" or name=="ford" or name=="sorento" or name=="BMV" or name=="dogan_slx" or name=="grayhound_bus" or name=="m60_tank" or name=="police_car" or name=="police_car_pluss" or name=="tank" or name=="truck" or name=="v4_by_4_jeep" or name=="dodge_charger" or name=="doom_buggy" or name=="ford_pickup_truck" or name=="mlk_mission_cruiser" or name=="muscle_car")
{
int x=random(1,30), y=random(1,10);
spawn_vvehicle(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else if(string_contains(name,"bag_of_",1)>-1 or string_contains(name,"pack_of_",1)>-1 or string_contains(name,"box_of_",1)>-1 or string_contains(name,"skillet_with_",1)>-1)
{
int c=get_corpses_from(string_right(name,5));
if(c<0)
{
string cid=randomstring(5);
new_corpse(name,cid);
p.inv_add_item(name+"_"+cid,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
}
}
else
{
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
}
p.add_log_entry("player_actions","bought "+amount+" "+name+"");
servermoney+=totalamount;
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
}
else if (totalamount<0)
{
if (absolute(amount)<=p.inv_item_number(name))
{
p.inv_add_item("coins",(0-totalamount)/4);
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" sold",2);
servermoney-=totalamount;
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
}
else
{
send_packet(6,"play noud.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
send_reliable(p,"Sorry! You don't have "+absolute(amount)+" "+name+".",2);
}
}
}
}
else
{
int itemindex=get_item_index(name);
if(itemindex>-1)
{
int[] a=get_amounts();
double totalamount=amount*a[itemindex];
if(totalamount>0)
{
double coin=p.inv_item_number("coins");
if(coin<totalamount)
{
send_reliable(p,"Error. Not enough coins. You need "+totalamount+" coins and you only have "+p.inv_item_number("coins")+".",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
else
{
p.inv_add_item("coins",-totalamount);
if(name=="motor_boat")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"ocean",p.name,name,random(10000,25000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in ocean which is near the camp, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="generic_motorcycle" or name=="frog_motorcycle" or name=="ducati_street_fighter" or name=="onda_cbr_600" or name=="yamaha_r6" or name=="aprilia_v4" or name=="aprilia_rs660" or name=="ducati_diavel" or name=="yamaha_off_road" or name=="kawasaki_hipersport" or name=="kawasaki_adventure_tourer" or name=="ducati_scrumbler" or name=="bmw_off_road")
{
int x=random(1,30), y=random(1,10);
spawn_mmotor(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else if(name=="sky_racer" or name=="ford" or name=="sorento" or name=="BMV" or name=="dogan_slx" or name=="grayhound_bus" or name=="m60_tank" or name=="police_car" or name=="police_car_pluss" or name=="tank" or name=="truck" or name=="v4_by_4_jeep" or name=="dodge_charger" or name=="doom_buggy" or name=="ford_pickup_truck" or name=="mlk_mission_cruiser" or name=="muscle_car")
{
int x=random(1,30), y=random(1,10);
spawn_vvehicle(x,y,0,"main",p.name,name,random(25000,50000),randomstring(6));
send_reliable(p,""+amount+" "+name+" purchased and it is in main city, in coordinates "+x+", "+y+", 0",2);
}
else
{
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
}
p.add_log_entry("player_actions","bought "+amount+" "+name+"");
if(players[psowner].job=="salesman")
{
players[psowner].balance+=totalamount;
}
else servermoney+=totalamount;
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
if(players[psowner].smartphoneon==1) send_reliable(players[psowner],"spnotify "+p.name+" has purchased "+amount+" "+name+" and paid "+totalamount+" coins",0);
for(int i=0; i<stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==stores[i].name)
{
stores[i].send(p.peer_id,false);
}
}
}
}
else if (totalamount<0)
{
if (absolute(amount)<=p.inv_item_number(name))
{
p.inv_add_item("coins",(0-totalamount)/4);
p.inv_add_item(name,amount);
if(players[psowner].job=="salesman")
{
if(players[psowner].balance>=totalamount)
{
send_reliable(p,"I won't sell this item",2);
if(players[psowner].smartphoneon==1) send_reliable(players[psowner],"spnotify "+p.name+" couldn't sell "+amount+" "+name+". Your bank balance: "+players[psowner].balance+"",0);
return;
}
players[psowner].balance-=totalamount;
}
else servermoney-=totalamount;
send_reliable(p,""+amount+" "+name+" sold",2);
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
if(players[psowner].smartphoneon==1) send_reliable(players[psowner],"spnotify "+p.name+" has soled "+amount+" "+name+" for "+totalamount+" coins",0);
}
else
{
send_packet(6,"play noud.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
send_reliable(p,"Sorry! You don't have "+absolute(amount)+" "+name+".",2);
}
}
}
}
}
}
}
void storeplay(string what, int max,int x,bool custom=false, int xx=0, int y=0, int z=0)
{
if(x>-1 and announcertimer.elapsed>=25000)
{
announcertimer.restart();
string soundfile="store_v_"+what+random(1,max);
if(custom==false)
{
playint(soundfile,players[x].name);
playext(soundfile,players[x].x,players[x].y,players[x].z,maps[get_map_index("store")],players[x].name);
}
else
{
playint(soundfile,players[x].name);
playext(soundfile,xx,y,z,maps[get_map_index("store")],players[x].name);
}
}
}
int[] get_amounts()
{
int[] a;
for(int i=0; i<stores.length(); i++)
{
for(int i2=0; i2<stores[i].prices.length(); i2++)
{
a.insert_last(stores[i].prices[i2]);
}
}
return a;
}
int get_paid_item_index(string name)
{
string[] items;
for(int i=0; i<paid_stores.length(); i++)
{
for(int i2=0; i2<paid_stores[i].item_names.length(); i2++)
{
items.insert_last(paid_stores[i].item_names[i2]);
}
}
for(int i=0; i<items.length(); i++)
{
if(items[i]==name) return i;
}
return -1;
}
void send_paid_store(int playerindex)
{
if(playerindex>-1)
{
int credit=players[playerindex].inv_item_number("credit");
server_menu menu;
menu.initial_packet="paidbuysomething";
menu.intro="What do you wish to buy";
for(uint i=0; i<paid_store_items.length(); i++)
{
int canbuy=credit/amounts[i];
menu.add(paid_store_items[i]+" for "+amounts[i]+" credit. You can buy "+canbuy,paid_store_items[i]);
}
menu.send(players[playerindex].peer_id);
}
}
void paid_purchase(string name, double amount, player@p)
{
int itemindex=get_paid_item_index(name);
if(itemindex>-1)
{
int[] a=get_paid_amounts();
double totalamount=amount*a[itemindex];
if(totalamount<1)
{
send_reliable(p,"you can't buy negative amounts",2);
for(int i=0; i<paid_stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==paid_stores[i].name)
{
paid_stores[i].send(p.peer_id,false);
}
}
return;
}
double credit=p.inv_item_number("credit");
if(credit<totalamount)
{
send_reliable(p,"Error. Not enough credit. You need "+totalamount+" credit and you only have "+p.inv_item_number("credit")+".",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<paid_stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==paid_stores[i].name)
{
paid_stores[i].send(p.peer_id,false);
}
}
}
else
{
p.inv_add_item("credit",-totalamount);
if(name=="xp_potion")
{
p.xppotiontime+=totalamount*60000;
p.inv_add_item(name,1);
if(amount==1)
{
send_reliable(p,"paid_store a "+amount+" minute xp potion has been purchased",0);
send_reliable(0,"paid_store "+p.name+" has just purchased "+amount+" minute xp potion from the paid store!",0);
}
else
{
send_reliable(p,"paid_store a "+amount+" minutes xp potion has been purchased",0);
send_reliable(0,"paid_store "+p.name+" has just purchased "+amount+" minutes xp potion from the paid store!",0);
}
}
else
{
if(name=="energy")
{
p.energy+=amount;
}
else
{
p.inv_add_item(name,amount);
}
send_reliable(p,"paid_store "+amount+" "+name+" purchased",0);
send_reliable(0,"paid_store "+p.name+" has just purchased "+amount+" "+name+" from the paid store!",0);
}
p.add_log_entry("player_actions","bought "+amount+" "+name+"");
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<paid_stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==paid_stores[i].name)
{
paid_stores[i].send(p.peer_id,false);
}
}
}
}
}
int[] get_paid_amounts()
{
int[] a;
for(int i=0; i<paid_stores.length(); i++)
{
for(int i2=0; i2<paid_stores[i].prices.length(); i2++)
{
a.insert_last(paid_stores[i].prices[i2]);
}
}
return a;
}
int get_team_item_index(string name)
{
string[] items;
for(int i=0; i<team_stores.length(); i++)
{
for(int i2=0; i2<team_stores[i].item_names.length(); i2++)
{
items.insert_last(team_stores[i].item_names[i2]);
}
}
for(int i=0; i<items.length(); i++)
{
if(items[i]==name) return i;
}
return -1;
}
void send_team_store(int playerindex)
{
if(playerindex>-1)
{
int points=players[playerindex].inv_item_number("points");
server_menu menu;
menu.initial_packet="teambuysomething";
menu.intro="What do you wish to buy";
for(uint i=0; i<team_store_items.length(); i++)
{
int canbuy=points/amounts[i];
menu.add(team_store_items[i]+" for "+amounts[i]+" points. You can buy "+canbuy,team_store_items[i]);
}
menu.send(players[playerindex].peer_id);
}
}
void team_purchase(string name, double amount, player@p)
{
int itemindex=get_team_item_index(name);
if(itemindex>-1)
{
int[] a=get_team_amounts();
double totalamount=amount*a[itemindex];
if(totalamount>0)
{
int ind=is_in_team(p.name);
if(ind<0)
{
send_reliable(p,"Error. You are not in a team.",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
return;
}
if(teams[ind].points<totalamount)
{
send_reliable(p,"Error. Not enough points. You need "+totalamount+" points and you only have "+teams[ind].points+".",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<team_stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==team_stores[i].name)
{
team_stores[i].send(p.peer_id,false);
}
}
}
else
{
teams[ind].points-=totalamount;
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" purchased",2);
p.add_log_entry("player_actions","bought "+amount+" "+name+"");
send_packet(6,"play buy.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
for(int i=0; i<team_stores.length(); i++)
{
if(get_zone_at(p.x,p.y,p.z,maps[get_map_index(p.map)])==team_stores[i].name)
{
team_stores[i].send(p.peer_id,false);
}
}
}
}
else if (totalamount<0)
{
if (absolute(amount)<=p.inv_item_number(name))
{
int ind=is_in_team(p.name);
if(ind<0)
{
send_reliable(p,"Error. You are not in a team.",0);
send_packet(6,"play store_error.ogg "+p.x+" "+p.y+" "+p.z, p.x,p.y,p.z,maps[get_map_index(p.map)]);
return;
}
teams[ind].points-=totalamount/2;
p.inv_add_item(name,amount);
send_reliable(p,""+amount+" "+name+" sold",2);
send_packet(6,"play buy.ogg",p.x,p.y,p.z,maps[get_map_index(p.map)]);
}
else
{
send_packet(6,"play noud.ogg",p.x,p.y,p.z,maps[get_map_index(p.map)]);
send_reliable(p,"Sorry! You don't have "+absolute(amount)+" "+name+".",2);
}
}
}
}
int[] get_team_amounts()
{
int[] a;
for(int i=0; i<team_stores.length(); i++)
{
for(int i2=0; i2<team_stores[i].prices.length(); i2++)
{
a.insert_last(team_stores[i].prices[i2]);
}
}
return a;
}
void en_and_write(string filename, string text)
{
f.open(filename, "wb");
f.write(string_encrypt(text, acode));
f.close();
}
string read_prm(string file_name)
{
f.open(file_name, "rb");
string rt=string_decrypt(f.read(), acode);
f.close();
return rt;
}
void dep3(player@p, string[] parsed)
{
string nn=parsed[1];
double n=string_to_number(p.vconta);
string charfolder="chars/"+nn;
if(directory_exists(charfolder)==false)
{
send_reliable(p,"reciever's name does not exists",2);
return;
}
if(igual(nn, p.name))return;
int index2=get_player_index_from(nn);
if(index2>-1)
{
f.open("chars/"+nn+"/balance.usr", "rb");
double balance=string_to_number(f.read());
f.close();
double total=balance+n;
scd(players[index2]);
f.open("chars/"+nn+"/balance.usr", "wb");
f.write(total);
f.close();
load_char_data(players[index2],true);
if(players[index2].smartphoneon==1)
{
send_reliable(players[index2], "spnotify "+p.name+" has transfered "+n+" coins in to your bank account",0);
}
}
else
{
f.open("chars/"+nn+"/balance.usr", "rb");
double balance=string_to_number(f.read());
f.close();
double total=balance+n;
f.open("chars/"+nn+"/balance.usr", "wb");
f.write(total);
f.close();
}
p.balance-=n;
if(p.smartphoneon==1)
{
send_reliable(p, "spnotify you depozited "+n+" coins in "+nn+"'s account", 0);
}
}
bool igual(string n1, string n2)
{
if(string_to_lower_case(n1)==string_to_lower_case(n2))return true;
return false;
}
void iitem(player@p, string n1, string n2)
{
if(n1=="caixa_eletrônico")
{
if(n2=="cbalance") send_reliable(p, "You have "+p.balance+" coins in your bank account", 2);
else if(n2=="dep") send_reliable(p, "mtext How many do you want to transfer?:dep_r", 0);
else if(n2=="sac") send_reliable(p, "mtext How many do you wish to take out?:sac_r", 0);
else if(n2=="dep2") send_reliable(p, "mtext How many do you want to transfer?:dep2_r", 0);
}
}
bool is_unbannable(string username)
{
if(!file_exists("unbannables.txt")) return false;
f.open("unbannables.txt","rb");
string[] unbannables=string_split(f.read(),"\r\n",false);
f.close();
if(unbannables.find(username)>-1) return true;
else return false;
}
bool is_unkickable(string username)
{
if(!file_exists("unkickables.txt")) return false;
f.open("unkickables.txt","rb");
string[] unkickables=string_split(f.read(),"\r\n",false);
f.close();
if(unkickables.find(username)>-1) return true;
else return false;
}
bool is_bannable(string username)
{
if(!file_exists("bannables.txt")) return false;
f.open("bannables.txt","rb");
string[] bannables=string_split(f.read(),"\r\n",false);
f.close();
if(bannables.find(username)>-1) return true;
else return false;
}
bool is_unjailable(string username)
{
if(!file_exists("unjailables.txt")) return false;
f.open("unjailables.txt","rb");
string[] unjailables=string_split(f.read(),"\r\n",false);
f.close();
if(unjailables.find(username)>-1) return true;
else return false;
}
int get_index_string(string[] a, string find){
for(uint i=0;i<a.length();i++){
if(a[i]==find)return i;
}
return -1;
}
void add_to_store(string item_name, int amount)
{
store_items.insert_last(item_name);
amounts.insert_last(amount);
}
void add_to_team_store(string item, int amount)
{
titems.insert_last(item);
tamounts.insert_last(amount);
}
int get_team_store_index(string item)
{
for (uint i=0; i<titems.length(); i++)
{
if (item==titems[i])
{
return i;
}
}
return -1;
}
int mts(int s)
{
return s*1000;
}
string menu(string prefix, string intro, string if_pressed_escape, string []menu_items, string []menu_items2) {
d2.delete_all();
string item;
string item2;
for(int i=0; i<menu_items.length(); i++)
item+=menu_items[i]+"^";
for(int i=0; i<menu_items2.length(); i++)
item2+=menu_items2[i]+"^";
d2.set("items", item);
d2.set("items2", item2);
d2.set("intro", intro);
d2.set("esc", if_pressed_escape);
d2.set("prefix", prefix);
return serialize(d2);
}
string input(string prefix, string intro, string if_pressed_escape, string text) {
d2.delete_all();
d2.set("text", text);
d2.set("intro", intro);
d2.set("esc", if_pressed_escape);
d2.set("prefix", prefix);
return serialize(d2);
}
void titlecheck(player@p)
{
if(p.level==0) p.ptitle="unknowne_r"+p.reinforcement+"";
if(p.level>=0 and p.level<=5) p.ptitle="apprentice_r"+p.reinforcement+"";
if(p.level>=5 and p.level<=10) p.ptitle="recruit_r"+p.reinforcement+"";
if(p.level>=10 and p.level<=25) p.ptitle="graduate_r"+p.reinforcement+"";
if(p.level>=25 and p.level<=50) p.ptitle="cadet_r"+p.reinforcement+"";
if(p.level>=50 and p.level<=75) p.ptitle="officer_cadet_r"+p.reinforcement+"";
if(p.level>=75 and p.level<=100) p.ptitle="policeman_r"+p.reinforcement+"";
if(p.level>=100 and p.level<=150) p.ptitle="senior_policeman_r"+p.reinforcement+"";
if(p.level>=150 and p.level<=200) p.ptitle="first_class_policeman_r"+p.reinforcement+"";
if(p.level>=200 and p.level<=250) p.ptitle="corporal_r"+p.reinforcement+"";
if(p.level>=250 and p.level<=300) p.ptitle="third_sergeant_r"+p.reinforcement+"";
if(p.level>=300 and p.level<=350) p.ptitle="second_sergeant_r"+p.reinforcement+"";
if(p.level>=350 and p.level<=400) p.ptitle="first_sergeant_r"+p.reinforcement+"";
if(p.level>=400 and p.level<=450) p.ptitle="sergeant_r"+p.reinforcement+"";
if(p.level>=450 and p.level<=500) p.ptitle="sergeant_major_r"+p.reinforcement+"";
if(p.level>=500 and p.level<=550) p.ptitle="third_lieutenant_r"+p.reinforcement+"";
if(p.level>=550 and p.level<=600) p.ptitle="second_lieutenant_r"+p.reinforcement+"";
if(p.level>=600 and p.level<=650) p.ptitle="first_lieutenant_r"+p.reinforcement+"";
if(p.level>=650 and p.level<=700) p.ptitle="captain_r"+p.reinforcement+"";
if(p.level>=700 and p.level<=750) p.ptitle="major_r"+p.reinforcement+"";
if(p.level>=750 and p.level<=800) p.ptitle="lieutenant_colonel_r"+p.reinforcement+"";
if(p.level>=800 and p.level<=850) p.ptitle="colonel_r"+p.reinforcement+"";
if(p.level>=850 and p.level<=900) p.ptitle="second_brigadier_general_r"+p.reinforcement+"";
if(p.level>=900 and p.level<=950) p.ptitle="brigadier_general_r"+p.reinforcement+"";
if(p.level>=950 and p.level<=1000) p.ptitle="major_general_r"+p.reinforcement+"";
if(p.level>=1000 and p.level<=1100) p.ptitle="chief_general_r"+p.reinforcement+"";
if(p.level>=1100 and p.level<=1200) p.ptitle="warrior_r"+p.reinforcement+"";
if(p.level>=1200 and p.level<=1300) p.ptitle="murderer_r"+p.reinforcement+"";
if(p.level>=1300 and p.level<=1400) p.ptitle="apprentice_criminal_r"+p.reinforcement+"";
if(p.level>=1400 and p.level<=1500) p.ptitle="criminal's_executioner_r"+p.reinforcement+"";
if(p.level>=1500 and p.level<=1600) p.ptitle="criminal_r"+p.reinforcement+"";
if(p.level>=1600 and p.level<=1700) p.ptitle="experienced_criminal_r"+p.reinforcement+"";
if(p.level>=1700 and p.level<=1800) p.ptitle="recruit_mafious_r"+p.reinforcement+"";
if(p.level>=1800 and p.level<=1900) p.ptitle="mafious_r"+p.reinforcement+"";
if(p.level>=1900 and p.level<=2000) p.ptitle="mafious_commander_r"+p.reinforcement+"";
if(p.level>=2000 and p.level<=2200) p.ptitle="boss_r"+p.reinforcement+"";
if(p.level>=2200 and p.level<=2400) p.ptitle="zombie_r"+p.reinforcement+"";
if(p.level>=2400 and p.level<=2600) p.ptitle="monster_r"+p.reinforcement+"";
if(p.level>=2600 and p.level<=2800) p.ptitle="dragon_r"+p.reinforcement+"";
if(p.level>=2800 and p.level<=10000) p.ptitle="dinosaur_r"+p.reinforcement+"";
if(p.map=="jail" or p.map=="prison") p.prisontitle="prisoner";
if(p.arabiclcm or p.englishlcm or p.germanlcm or p.indonesianlcm or p.malaylcm or p.persianlcm or p.polishlcm or p.portugueselcm or p.russianlcm or p.slovaklcm or p.spanishlcm or p.thailcm or p.turkishlcm) p.title="lcm";
if(p.admin) p.title="administrator";
if(p.manager) p.title="manager";
if(p.dev) p.title="developer";
if(p.job!="") p.jobtitle=""+p.job+"";
if(p.newb==1) p.newbtitle="newbie";
if(p.pvp==1) p.pvptitle="pvp";
if(p.afk==true) p.afktitle="afk";
if(p.away==true) p.awaytitle="away";
}
string[] get_lcm_list()
{
string[] a;
string[] chars=find_directories("chars/*");
for(uint i=0; i<chars.length(); i++)
{
if(chars[i]=="amirali" or chars[i]=="johnson")
{
a.insert_last(chars[i]);
}
}
return a;
}
string[] get_admin_list()
{
string[] a;
string[] chars=find_directories("chars/*");
for(uint i=0; i<chars.length(); i++)
{
if(chars[i]=="KnightRider00" or chars[i]=="aidin" or chars[i]=="ahmad")
{
a.insert_last(chars[i]);
}
}
return a;
}
string[] get_manager_list()
{
string[] a;
string[] chars=find_directories("chars/*");
for(uint i=0; i<chars.length(); i++)
{
if(chars[i]=="bolgelo" or chars[i]=="ramil" or chars[i]=="server.bgt" or chars[i]=="Darth_triborg")
{
a.insert_last(chars[i]);
}
}
return a;
}
string[] get_developer_list()
{
string[] a;
string[] chars=find_directories("chars/*");
for(uint i=0; i<chars.length(); i++)
{
if(chars[i]=="gamer2022" or chars[i]=="loony-loopy-loops")
{
a.insert_last(chars[i]);
}
}
return a;
}
string name2nickname(string name)
{
if(string_left(name,6)!="robot ")
{
for(uint i=0; i<players.length(); i++)
{
if(players[i].name==name) return players[i].nickname;
}
}
else
{
string id=string_trim_left(name,6);
for(uint i=0; i<players.length(); i++)
{
if(players[i].rid==id) return players[i].nickname+"'s robot";
}
}
return name;
}
void givexp(player@p, double amount)
{
if(p.xppotion==1)
{
if(p.partner=="")
{
if(doublexp==1)
{
p.xp+=amount*2*2;
send_reliable(p, "you got "+amount*2*2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*2*10;
send_reliable(p, "you got "+amount*2*10+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*2*20;
send_reliable(p, "you got "+amount*2*20+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*2*50;
send_reliable(p, "you got "+amount*2*50+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*2*100;
send_reliable(p, "you got "+amount*2*100+" experience", 2);
}
else
{
p.xp+=amount;
send_reliable(p, "you got "+amount+" experience", 2);
}
}
else
{
int index2=get_player_index_from(p.partner);
if(index2>-1)
{
if(doublexp==1)
{
p.xp+=amount*2*2/2;
send_reliable(p, "you got "+amount*2*2/2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*2*10/2;
send_reliable(p, "you got "+amount*2*10/2+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*2*20/2;
send_reliable(p, "you got "+amount*2*20/2+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*2*50/2;
send_reliable(p, "you got "+amount*2*50/2+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*2*100/2;
send_reliable(p, "you got "+amount*2*100/2+" experience", 2);
}
else
{
p.xp+=amount/2;
send_reliable(p, "you got "+amount/2+" experience", 2);
}
if(doublexp==1)
{
players[index2].xp+=amount*2*2/2;
send_reliable(players[index2], "you got "+amount*2*2/2+" experience", 2);
}
else if(superxp==1)
{
players[index2].xp+=amount*2*10/2;
send_reliable(players[index2], "you got "+amount*2*10/2+" experience", 2);
}
else if(megaxp==1)
{
players[index2].xp+=amount*2*20/2;
send_reliable(players[index2], "you got "+amount*2*20/2+" experience", 2);
}
else if(gigaxp==1)
{
players[index2].xp+=amount*2*50/2;
send_reliable(players[index2], "you got "+amount*2*50/2+" experience", 2);
}
else if(masterxp==1)
{
players[index2].xp+=amount*2*100/2;
send_reliable(players[index2], "you got "+amount*2*100/2+" experience", 2);
}
else
{
players[index2].xp+=amount/2;
send_reliable(players[index2], "you got "+amount/2+" experience", 2);
}
}
else
{
if(doublexp==1)
{
p.xp+=amount*2*2;
send_reliable(p, "you got "+amount*2*2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*2*10;
send_reliable(p, "you got "+amount*2*10+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*2*20;
send_reliable(p, "you got "+amount*2*20+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*2*50;
send_reliable(p, "you got "+amount*2*50+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*2*100;
send_reliable(p, "you got "+amount*2*100+" experience", 2);
}
else
{
p.xp+=amount*2;
send_reliable(p, "you got "+amount*2+" experience", 2);
}
}
}
}
else
{
if(p.partner=="")
{
if(doublexp==1)
{
p.xp+=amount*2;
send_reliable(p, "you got "+amount*2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*10;
send_reliable(p, "you got "+amount*10+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*20;
send_reliable(p, "you got "+amount*20+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*50;
send_reliable(p, "you got "+amount*50+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*100;
send_reliable(p, "you got "+amount*100+" experience", 2);
}
else
{
p.xp+=amount;
send_reliable(p, "you got "+amount+" experience", 2);
}
}
else
{
int index2=get_player_index_from(p.partner);
if(index2>-1)
{
if(doublexp==1)
{
p.xp+=amount*2/2;
send_reliable(p, "you got "+amount*2/2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*10/2;
send_reliable(p, "you got "+amount*10/2+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*20/2;
send_reliable(p, "you got "+amount*20/2+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*50/2;
send_reliable(p, "you got "+amount*50/2+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*100/2;
send_reliable(p, "you got "+amount*100/2+" experience", 2);
}
else
{
p.xp+=amount/2;
send_reliable(p, "you got "+amount/2+" experience", 2);
}
if(doublexp==1)
{
players[index2].xp+=amount*2/2;
send_reliable(players[index2], "you got "+amount*2/2+" experience", 2);
}
else if(superxp==1)
{
players[index2].xp+=amount*10/2;
send_reliable(players[index2], "you got "+amount*10/2+" experience", 2);
}
else if(megaxp==1)
{
players[index2].xp+=amount*20/2;
send_reliable(players[index2], "you got "+amount*20/2+" experience", 2);
}
else if(gigaxp==1)
{
players[index2].xp+=amount*50/2;
send_reliable(players[index2], "you got "+amount*50/2+" experience", 2);
}
else if(masterxp==1)
{
players[index2].xp+=amount*100/2;
send_reliable(players[index2], "you got "+amount*100/2+" experience", 2);
}
else
{
players[index2].xp+=amount/2;
send_reliable(players[index2], "you got "+amount/2+" experience", 2);
}
}
else
{
if(doublexp==1)
{
p.xp+=amount*2;
send_reliable(p, "you got "+amount*2+" experience", 2);
}
else if(superxp==1)
{
p.xp+=amount*10;
send_reliable(p, "you got "+amount*10+" experience", 2);
}
else if(megaxp==1)
{
p.xp+=amount*20;
send_reliable(p, "you got "+amount*20+" experience", 2);
}
else if(gigaxp==1)
{
p.xp+=amount*50;
send_reliable(p, "you got "+amount*50+" experience", 2);
}
else if(masterxp==1)
{
p.xp+=amount*100;
send_reliable(p, "you got "+amount*100+" experience", 2);
}
else
{
p.xp+=amount;
send_reliable(p, "you got "+amount+" experience", 2);
}
}
}
}
}
void loosxp(player@p, double amount)
{
if(p.partner=="")
{
p.xp-=amount;
send_reliable(p, "you lost "+amount+" experience", 2);
}
else
{
p.xp-=amount/2;
send_reliable(p, "you lost "+amount/2+" experience", 2);
int index2=get_player_index_from(p.partner);
if(index2>-1)
{
players[index2].xp-=amount/2;
send_reliable(players[index2], "you lost "+amount/2+" experience", 2);
}
}
}
